
<p>The Users entity stores customer information. One or more users can be associated with an account. In addition a specific user may be associated with multiple accounts.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This information is for version 2 of the Partnership API. Use v2 for all new integrations. Earlier versions have been deprecated. If you have problems with an older integration, upgrade to version 2.</p>
</div>
<h2>User object attributes [#user-attributes]</h2>
<p>This is the list of attributes in the user object. Ensure you assign the <a href="#attr-owner"><strong>owner</strong></a> attribute to one user when creating a New Relic account.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>New Relic recommends a maximum of 1,000 accounts per user. Additional accounts may result in limited access to some New Relic features.</p>
</div>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1lbWFpbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+ZW1haWwgPHN0cm9uZz4oUkVRVUlSRUQgZm9yIG5ldyB1c2Vycyk8L3N0cm9uZz48Lz4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjozMiwiY29sdW1uIjoxMSwib2Zmc2V0IjoxMjI5fSwiZW5kIjp7ImxpbmUiOjMyLCJjb2x1bW4iOjY1LCJvZmZzZXQiOjEyODN9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>String</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>This attribute is <strong>required</strong> for new users.</p>
    <p>The email address of the user. If a user record already exists for this email address, it will be linked to this account. Any settings in the current user object creation process will be ignored.</p>
    <p>Email names containing special characters require URL encoding. For example, instead of <code>+</code>, use the URL encoded substitution <code>%2B</code>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1wYXNzd29yZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+cGFzc3dvcmQgPHN0cm9uZz4oUkVRVUlSRUQgZm9yIG5ldyB1c2Vycyk8L3N0cm9uZz48Lz4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjo2NywiY29sdW1uIjoxMSwib2Zmc2V0IjoyMDUyfSwiZW5kIjp7ImxpbmUiOjY3LCJjb2x1bW4iOjY4LCJvZmZzZXQiOjIxMDl9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>String</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>This attribute is <strong>required</strong> for new users.</p>
    <p>The password for this user is ignored if the email address matches a pre-existing user record. As of Partnership API version 2, passwords passed as part of an account creation call must meet each of the following minimum requirements for complexity:</p>
    <ul>
      <li>
        <p>Eight to 50 characters in length</p>
      </li>
      <li>
        <p>Only letters, numbers, or special characters (see <a href="#special-chars">list of allowed special characters</a> below). Spaces are <strong>not</strong> allowed.</p>
      </li>
      <li>
        <p>At least one letter (a-z, A-Z)</p>
      </li>
      <li>
        <p>At least one number or special character (0-9)<br>Special characters allowed include <code>~</code> <code>`</code> <code>!</code> <code>@</code> <code>#</code> <code>$</code> <code>%</code> <code>^</code> <code>&#x26;</code> <code>*</code> <code>(</code> <code>)</code> <code>_</code> <code>-</code> <code>+</code> <code>=</code> <code>{</code> <code>[</code> <code>}</code> <code>]</code> <code>:</code> <code>;</code> <code>"</code> <code>'</code> <code>&#x3C;</code> <code>,</code> <code>></code> <code>.</code> <code>?</code> <code>/</code> <code>|</code> <code>\</code></p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
          <p>Passwords passed as part of an account provisioning call that do not conform to this format will generate an error and cause the operation to fail.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1maXJzdF9uYW1lIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOnsidHlwZSI6Im1keFZhbHVlRXhwcmVzc2lvbiIsInZhbHVlIjoiPD5maXJzdF9uYW1lIDxzdHJvbmc+KFJFUVVJUkVEIGZvciBuZXcgdXNlcnMpPC9zdHJvbmc+PC8+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6MTEwLCJjb2x1bW4iOjExLCJvZmZzZXQiOjM0NDh9LCJlbmQiOnsibGluZSI6MTEwLCJjb2x1bW4iOjcwLCJvZmZzZXQiOjM1MDd9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>String</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>This attribute is <strong>required</strong> for new users.</p>
    <p>The first name for this user.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1sYXN0X25hbWUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8Pmxhc3RfbmFtZSA8c3Ryb25nPihSRVFVSVJFRCBmb3IgbmV3IHVzZXJzKTwvc3Ryb25nPjwvPiIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE0MywiY29sdW1uIjoxMSwib2Zmc2V0IjozOTczfSwiZW5kIjp7ImxpbmUiOjE0MywiY29sdW1uIjo2OSwib2Zmc2V0Ijo0MDMxfX19fV0=">
    <div data-prop-text="title">[object Object]</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>String</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>This attribute is <strong>required</strong> for new users.</p>
    <p>The last name for this user.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1vd25lciJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoib3duZXIifV0=">
    <div data-prop-text="title">owner</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>False</p>
          </div>
        </div>
      </div>
    </div>
    <p>A flag to indicate whether this user is the <a href="/docs/accounts-partnerships/accounts/account-setup/users-roles">owner</a> of the account. When creating a New Relic account, you <strong>must</strong> assign one user an <strong>owner</strong> role.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0ci1sYXN0X3JvbGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8PnJvbGUgPHN0cm9uZz4oUkVRVUlSRUQgZm9yIG5ldyB1c2Vycyk8L3N0cm9uZz48Lz4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjoyMDcsImNvbHVtbiI6MTEsIm9mZnNldCI6NTA5OX0sImVuZCI6eyJsaW5lIjoyMDcsImNvbHVtbiI6NjQsIm9mZnNldCI6NTE1Mn19fX1d">
    <div data-prop-text="title">[object Object]</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type:</p>
          </div>
          <div>
            <p>String</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default:</p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>This attribute is <strong>required</strong> for new users.</p>
    <p>The <a href="/docs/accounts-partnerships/accounts/account-setup/users-roles">role</a> for this person:</p>
    <ul>
      <li><code>admin</code></li>
      <li><code>user</code></li>
      <li><code>restricted</code></li>
    </ul>
  </div>
</div>
<h2>User calls</h2>
<p>Here are the URL patterns for user-related API functions. If using this URL pattern, send an HTTP header containing the <a href="https://docs.newrelic.com/docs/new-relic-partnerships/partnerships/partner-api/partner-api-reference#the-api-key">Partner API key</a> along with the JSON request body. For example:</p>
<pre><code>GET .../api/v2/partners/:PARTNER_ID:/accounts/:ID
x-api-key: :PARTNER_ACCOUNT_KEY:
Content-Type: application/json

{ JSON data }
</code></pre>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Call</p>
      </div>
      <div>
        <p>Resource URL pattern</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>List</strong> (index) all users of an account.</p>
      </div>
      <div>
        <pre><code>GET /api/v2/partners/:PARTNER_ID:/accounts/:ACCOUNT_ID:/users

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Update</strong> the role of a person in the account.</p>
      </div>
      <div>
        <pre><code>PUT /api/v2/partners/:PARTNER_ID:/accounts/:ACCOUNT_ID/users/:ID

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Create</strong> (add) a user to an account.</p>
        <p>Only one user may be created per POST operation.</p>
      </div>
      <div>
        <pre><code>POST /api/v2/partners/:PARTNER_ID:/accounts/:ACCOUNT_ID:/users

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Delete</strong> a user from an account.</p>
        <p>Deleting a user removes that user from the specified account. Owners cannot be removed from accounts via the Partnership API.</p>
      </div>
      <div>
        <pre><code>DELETE /api/v2/partners/:PARTNER_ID:/accounts/:ACCOUNT_ID:/users/:ID

</code></pre>
      </div>
    </div>
  </div>
</div>
<h2>User object JSON example [#call-example]</h2>
<p>Here is an example of a JSON request and response using the Partnership API user object.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdC1leGFtcGxlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJVc2VyIG9iamVjdCBKU09OIHJlcXVlc3QifV0=">
    <div data-prop-text="title">User object JSON request</div>
    <pre><code>{
  "users": [
    {
      "email": "jsmith@gmail.com",
      "password": "testing123",
      "first_name": "John",
      "last_name": "Smith",
      "owner": true,
      "role": "admin"
    }
  ]
}

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVzcG9uc2UtZXhhbXBsZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSlNPTiByZXNwb25zZSJ9XQ==">
    <div data-prop-text="title">JSON response</div>
    <p>Here is an example of a JSON response listing users for the account.</p>
    <pre><code>{
  "users": [
    {
      "id": 164814,
      "email": "user-name1@company.com",
      "role": "admin",
      "owner": 0
    },
    {
      "id": 208797,
      "email": "user-name2@company.com",
      "role": "admin",
      "owner": 0
    },
    {
      "id": 208804,
      "email": "user-name3@company.com",
      "role": "user",
      "owner": 1
    }
  ]
}

</code></pre>
  </div>
</div>
<h2>User object API examples [#api-examples-v2]</h2>
<p>Here are examples of API calls using the Partnership API user object.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1saXN0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJMaXN0In1d">
    <div data-prop-text="title">List</div>
    <p>List request:</p>
    <pre><code>curl -X GET \
    -H 'x-api-key:PARTNER_ACCOUNT_KEY' \
    -H 'Content-Type:application/json' \
    https://rpm.newrelic.com/api/v2/partners/:PARTNER_ID/accounts/12345/users

</code></pre>Accounts with more than 1,000 users will return a paginated response.
    To specify a page, add the `?page=` parameter to the query.
    <pre><code>
{"users":[{"id":12345,"email":"xx@newrelic.com","role":"admin","owner":1}]}

</code></pre>Response:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1jcmVhdGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkNyZWF0ZSJ9XQ==">
    <div data-prop-text="title">Create</div>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
      <p>Only a single new <code>users</code> object can be created per POST command.</p>
    </div>
    <p>Create request:</p>
    <pre><code>curl -X POST \
    -H 'x-api-key:PARTNER_ACCOUNT_KEY' \
    -H 'Content-Type:application/json' \
    -d '{"users":[{"email": "foobar@newrelic.com", "password":"password1", "first_name":"John", "last_name":"Doe", "role":"admin" }]}' \
    https://rpm.newrelic.com/api/v2/partners/:PARTNER_ID/accounts/12345/users

</code></pre>
    <pre><code>
{"users":[{"id":12345,"email":"xx@newrelic.com","role":"admin","owner":1},
  {"id":23456,"email":"foobar@newrelic.com","role":"admin","owner":0}]}

</code></pre>Response (line breaks are for readability):
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS11cGRhdGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlVwZGF0ZSJ9XQ==">
    <div data-prop-text="title">Update</div>
    <p>Update request:</p>
    <pre><code>curl -X PUT \
    -H 'x-api-key:PARTNER_ACCOUNT_KEY' \
    -H 'Content-Type:application/json' \
    -d '{"users":[{"role": "restricted"}]}' \
    https://rpm.newrelic.com/api/v2/partners/:PARTNER_ID/accounts/12345/users/23456

</code></pre>
    <pre><code>
{"users":[{"id":12345,"email":"xx@newrelic.com","role":"admin","owner":1},
  {"id":23456,"email":"foobar@newrelic.com","role":"restricted","owner":0}]}

</code></pre>Response (line breaks are for readability)
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1kZWxldGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRlbGV0ZSJ9XQ==">
    <div data-prop-text="title">Delete</div>
    <p>Request:</p>
    <pre><code>curl -X DELETE \
    -H 'x-api-key:PARTNER_ACCOUNT_KEY' \
    -H 'Content-Type:application/json' \
    https://rpm.newrelic.com/api/v2/partners/:PARTNER_ID/accounts/12345/users/23456

</code></pre>Response: No response body.
  </div>
</div>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/accounts-partnerships/partner-integration-guide">Partner integration guide</a> (how to work with New Relic as a partner)</li>
  <li><a href="/docs/partnerships/partner-api-account-object">Partnership API reference</a> (overview of the Partner API)</li>
  <li><a href="/docs/partnerships/partner-api-account-object">Partnership API account object</a> (the primary JSON container object in the API)</li>
  <li><a href="/docs/partnerships/partner-api-subscription-object">Partnership API subscription object</a> (defined as an array within the account object)</li>
</ul>
