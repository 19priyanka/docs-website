
<p>New Relic's Partnership API includes functions to replace a customer's existing subscription with a new one, or to update invoice information for New Relic partner accounts. This is particularly useful for partners acting as resellers for New Relic accounts.</p>
<p>For example, when customers of a New Relic reseller partner purchase a higher subscription level from New Relic's Sales team, New Relic replaces the old subscription with a new subscription. New Relic then uses the API to communicate this information to the partner.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This information is for version 2 of the Partnership API. Use v2 for all new integrations. Earlier versions have been deprecated. If you have problems with an older integration, upgrade to version 2.</p>
</div>
<h2>Contents [#qiklinks]</h2>
<h2>Communication endpoint [#billing-communication]</h2>
<p>Partners must implement a billing communication endpoint that identifies the partner's URL and <code>PARTNER_ID</code>. New Relic uses this endpoint to notify the partner that New Relic has made a change to a partner account's subscription or invoice information. The endpoint must support HTTPS.</p>
<ul>
  <li>The partner-specified portion of the URL is identified from the <strong>Settings</strong> tab of New Relic's <a href="/docs/accounts-partnerships/partnerships/getting-started/using-partner-portal">Partner Portal</a>.</li>
  <li>The <code>PARTNER_ID</code> is the partner's external ID for this account. This value must be passed when the account is created by using the <code>partner_external_identifier</code> parameter.</li>
</ul>
<h2>Billing API [#billing-api-calls]</h2>
<p>Supported functionality for the Partnership billing API includes:</p>
<ul>
  <li>Customer subscription notification</li>
  <li>Invoice information notification</li>
</ul>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXBkYXRlLWFwaSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ3VzdG9tZXIgc3Vic2NyaXB0aW9uIG5vdGlmaWNhdGlvbiBBUEkifV0=">
    <div data-prop-text="title">Customer subscription notification API</div>
    <p>To communicate changes to a partner about a customer's subscription, New Relic uses the POST method with this <a href="#billing-communication">URI</a>:</p>
    <pre><code>https://partner-specified/partner-specified/PARTNER_ID.json

</code></pre>Authentication is done via headers with the partner's REST API key or [Admin user's API key](/docs/apis/rest-api-v2/requirements/admins-api-key-partnerships). The Partnership API returns the results as JSON.
    **Parameters:**
    &#x3C;Table>
    &#x3C;thead>
    &#x3C;tr>
    &#x3C;th width={200}>
    **Name**
    &#x3C;/th>
    &#x3C;th width={80}>
    **Type**
    &#x3C;/th>
    &#x3C;th>
    **Description**
    &#x3C;/th>
    &#x3C;/tr>
    &#x3C;/thead>
    &#x3C;tbody>
    &#x3C;tr>
    &#x3C;td>
    `id`
    &#x3C;/td>
    &#x3C;td>
    String
    &#x3C;/td>
    &#x3C;td>
    The [customer's New Relic account ID](/docs/accounts-partnerships/accounts/account-setup/account-id)
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `subscription_id`
    &#x3C;/td>
    &#x3C;td>
    Integer
    &#x3C;/td>
    &#x3C;td>
    Subscription's numeric ID
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `subscription_string`
    &#x3C;/td>
    &#x3C;td>
    String
    &#x3C;/td>
    &#x3C;td>
    Description of subscription for display
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `price`
    &#x3C;/td>
    &#x3C;td>
    Integer
    &#x3C;/td>
    &#x3C;td>
    Monthly price of subscription in cents
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `number_of_hosts`
    &#x3C;/td>
    &#x3C;td>
    Integer
    &#x3C;/td>
    &#x3C;td>
    Number of hosts
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `starts`
    &#x3C;/td>
    &#x3C;td>
    Date
    &#x3C;/td>
    &#x3C;td>
    Subscription's start date (yyyymmdd)
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `expires`
    &#x3C;/td>
    &#x3C;td>
    Date
    &#x3C;/td>
    &#x3C;td>
    Subscription's end date (yyyymmdd)
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;/tbody>
    &#x3C;/Table>
    **Return codes:**
    * 200: Successfully updated.
    * 404: Account not found.
    * 422: Missing or invalid parameters.
    * Authentication failed.
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaW52b2ljZS1hcGkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ikludm9pY2Ugbm90aWZpY2F0aW9uIEFQSSJ9XQ==">
    <div data-prop-text="title">Invoice notification API</div>
    <p>New Relic uses this endpoint to notify the partner of changes to a partner account's subscription level and invoice information. New Relic uses the PUT method with this <a href="#billing-communication">URI</a>:</p>
    <pre><code>https://partner-specified/partner-specified/PARTNER_ID.json

</code></pre>The Partnership API returns the results as JSON or XML.
    **Parameters:**
    &#x3C;Table>
    &#x3C;thead>
    &#x3C;tr>
    &#x3C;th width={200}>
    **Name**
    &#x3C;/th>
    &#x3C;th width={80}>
    **Type**
    &#x3C;/th>
    &#x3C;th>
    **Description**
    &#x3C;/th>
    &#x3C;/tr>
    &#x3C;/thead>
    &#x3C;tbody>
    &#x3C;tr>
    &#x3C;td>
    `id`
    &#x3C;/td>
    &#x3C;td>
    string
    &#x3C;/td>
    &#x3C;td>
    The [customer's New Relic account ID](/docs/accounts-partnerships/accounts/account-setup/account-id)
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `subscription_id`
    &#x3C;/td>
    &#x3C;td>
    integer
    &#x3C;/td>
    &#x3C;td>
    Subscription's numeric ID
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `subscription_string`
    &#x3C;/td>
    &#x3C;td>
    string
    &#x3C;/td>
    &#x3C;td>
    Description of subscription for display
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;tr>
    &#x3C;td>
    `price`
    &#x3C;/td>
    &#x3C;td>
    integer
    &#x3C;/td>
    &#x3C;td>
    Monthly price of subscription in cents
    &#x3C;/td>
    &#x3C;/tr>
    &#x3C;/tbody>
    &#x3C;/Table>
    **Return codes:**
    * 200: Successfully updated.
    * 404: Account not found.
    * 422: Missing or invalid parameters.
    * Authentication failed.
    <pre><code>
https://partner-specified/partner-specified/PARTNER_ID.xml

</code></pre>OR
  </div>
</div>
