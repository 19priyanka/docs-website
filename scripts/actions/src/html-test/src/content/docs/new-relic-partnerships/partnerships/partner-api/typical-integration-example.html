
<p>This provides the step-by-step details of a typical integration using the page widget and SSO.</p>
<p><strong>Recommendation:</strong> Start new projects by referring to <a href="/docs/apm/apis/requirements/new-relic-rest-api-v2-getting-started">Getting started with API v2</a> and the <a href="/docs/apis/rest-api-v2">New Relic REST API v2 examples</a>. Also, begin migrating any of your API v1 scripts to their v2 equivalent.</p>
<h2>Account creation and value storage [#create-account]</h2>
<p>Using the accounts/create endpoint, create an account, subscription and user.</p>
<p>From the payload, extract and store the account values. Typically you will create a new table in your accounts database and associate the record containing this information with your user record. The values used in this scenario include <code>data-access-key</code>, <code>id</code>, and <code>license-key</code>. You may want to store additional values.</p>
<h2>Deploying the agent [#deploy-agent]</h2>
<p>New Relic highly recommends automatically deploying the agents for your customers if your architecture and choice of languages permit. Our experience is that even the best documented and easiest user deployment of the agent results in only a 75% success rate. Auto-deploying the agent for your customers eliminates this dropout.</p>
<p>Whether your intention is to auto-deploy or allow the user to do so, the license key from the account creation payload is required for this operation. If you are planning a manual deploy, it is helpful to make the license key easily available to your users. This is a convenience for your users. The key is available by logging into the account.</p>
<h2>Deploying the page widget with SSO [#deploy-widget-sso]</h2>
<p>Using the data access key from the newly created account and the user's email, along with the partnership shared secret and timestamp, create a digest that can be transformed into an SHA-2 hash. The elements are assembled into the widget URL.</p>
<p><strong>Note:</strong> As a standard <a href="/docs/accounts-partnerships/accounts/security/data-security">security measure for data collection</a>, New Relic requires that your application server supports SHA-2 (256-bit). SHA-1 is not supported.</p>
