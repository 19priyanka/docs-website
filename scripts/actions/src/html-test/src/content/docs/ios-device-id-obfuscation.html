
<p>New Relic uses Apple's <a href="https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor">vendor ID</a> to track specific devices for accurate counts of users. One of the special features of the vendor ID is it is unique across a suite of apps using the same bundle ID base. For example, the vendor ID is the same across apps that use the same bundle ID: <code>com.company-name.*</code> .</p>
<p>This article describes how to obscure this cross-app identifier using a hidden API (available in iOS agent version 6.11.0):</p>
<pre><code>+[NewRelic saltDeviceUUID:(BOOL)enabled]
</code></pre>
<h2>Enable device uuid salt [#h2_code]</h2>
<p>To access the hidden method <code>+[NewRelic saltDeviceUUID:(BOOL)enabled]</code>, add a category to the new relic object:</p>
<pre><code>@interface NewRelic (salt)
  + (void) saltDeviceUUID:(BOOL)enabled;
@end
</code></pre>
<p>This can be added in your <code>AppDelegate.h</code> after <code>#include &#x3C;NewRelic/NewRelic.h></code> and before the <code>@implementation AppDelgate</code>:</p>
<pre><code>//
//  AppDelegate.m
// 
//  Created on 9/11/12.
//  Copyright (c) 2012 New Relic. All rights reserved.
//

#import "AppDelegate.h"
#import &#x3C;NewRelic/NewRelic.h>

@interface NewRelic (salt) 
  + (void) saltDeviceUUID:(BOOL)enabled;
@end

@implementation AppDelegate
// code 
@end
</code></pre>
<h2>Call the API [#make-the-call]</h2>
<p>Next, call <code>[NewRelic saltDeviceUUID:YES];</code> before your <code>[NewRelic startWithApplicationToken:]</code></p>
<pre><code>// 
// AppDelegate.m 
// 
// Created on 9/11/12. 
// Copyright (c) 2012 New Relic. All rights reserved. 
//

#import "AppDelegate.h"
#import &#x3C;NewRelic/NewRelic.h>

@interface NewRelic (salt)
+ (void) saltDeviceUUID:(BOOL)enabled;
@end

@implementation AppDelegate
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  [NewRelic saltDeviceUUID:YES];
  [NewRelic startWithApplicationToken:@"MY_TOKEN"];

  ...

}

...

@end
</code></pre>
<p>You device IDs are now be obfuscated in all events and data sent to New Relic.</p>
