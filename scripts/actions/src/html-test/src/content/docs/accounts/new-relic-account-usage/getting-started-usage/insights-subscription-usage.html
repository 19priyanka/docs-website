
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This doc is for accounts on our original <a href="/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing">Product-based pricing</a>. If you're on the newer pricing plan, see <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing">New Relic One pricing plan</a>. Not sure which you're on? See <a href="/docs/transition-guide-our-new-pricing-plan-user-model">Overview of pricing plans</a>.</p>
</div>
<p>For accounts on our <a href="/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing">original pricing plan</a>, this document explains:</p>
<ul>
  <li>How New Relic calculates billable usage for an <a href="/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro">Insights Pro subscription</a>.</li>
  <li>Available subscription usage attributes and <a href="#query-examples">example NRQL queries</a> to use in the New Relic UI or in API calls.</li>
</ul>
<h2>Data generation [#data]</h2>
<p>Once per day, an account with an Insights Pro subscription will generate an <code>NrDailyUsage</code> <a href="https://docs.newrelic.com/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic">event</a> for every <a href="#namespace">event namespace</a>. A <code>NrDailyUsage</code> event includes a count of the events under that namespace.</p>
<p>To view the attributes for this event, see the <code>NrDailyUsage</code> <a href="/attribute-dictionary?attribute_name=&#x26;events_tids%5B%5D=8891">entry in the data dictionary</a>.</p>
<h2>Usage calculations [#calculation]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Only the account <strong>Owner</strong> and <strong>Admins</strong> can view the usage UI. However, anyone in your account can query usage data using the <code>NrDailyUsage</code> <a href="https://docs.newrelic.com/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic">event</a>.</p>
</div>
<p>To get an estimate of the current month's billable usage:</p>
<ol>
  <li>Go to: <strong><a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#account-dropdown">account dropdown</a> > Account settings > Usage</strong>.</li>
  <li>On the <strong>Insights usage</strong> page, set the time picker to <strong>Current month</strong>.</li>
</ol>
<p>For more information about the usage UI, see <a href="/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data">Introduction to subscription usage data</a>.</p>
<p>The Insights usage UI only displays <strong>paid events</strong>: these are events that count towards an <a href="/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro">Insights Pro subscription</a>. It does <strong>not</strong> display events that are included free as part of other New Relic product subscriptions. However, you can also <a href="#query-examples">query the product included events</a>.</p>
<p>How long specific events are retained will depend on each event type's <a href="/docs/insights/use-insights-ui/manage-account-data/insights-data-retention">data retention period</a>. For a list of the applicable event types, see <a href="#namespace">Event namespaces</a>.</p>
<h2>Table definitions [#details]</h2>
<p>Here are definitions of the column headers displayed in the UI table and CSV files. The columns you see depend on the <strong>Group by</strong> option you select in the UI.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Header</p>
      </div>
      <div>
        <p>Definition</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Account name</p>
      </div>
      <div>
        <p>The name of the account. This can be a standalone account, a <a href="/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts">master account</a>, or a <a href="/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions">partnership</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Account ID</p>
      </div>
      <div>
        <p><a href="/docs/accounts/install-new-relic/account-setup/account-id">New Relic account ID</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Event namespace</p>
      </div>
      <div>
        <p>The category of event governed by Insights subscription. For example: <code>APM</code> or <code>Mobile error</code>. For more information, see the list of <a href="/docs/accounts/new-relic-account-usage/insights-usage/insights-usage-attributes-queries#namespace">event namespaces</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Stored paid events</p>
      </div>
      <div>
        <p>The number of events stored that count towards an <a href="/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro">Insights Pro subscription</a>. Events included as part of other New Relic product subscriptions are not counted.</p>
      </div>
    </div>
    <div>
      <div>
        <p>% of total usage</p>
      </div>
      <div>
        <p>The percentage of the total usage used.</p>
      </div>
    </div>
  </div>
</div>
<h2>Event namespaces (types) [#namespace]</h2>
<p>An <a href="/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro">Insights Pro subscription</a> governs the data retention of certain types of events. An event's namespace (indicated by the <a href="#insightsEventNamespace"><code>insightsEventNamespace</code></a> attribute) corresponds to one or more event types that share a single <a href="/docs/using-new-relic/welcome-new-relic/getting-started/data-retention-components">data retention</a> policy.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Event namespace in UI</p>
      </div>
      <div>
        <p>Event namespace when queried</p>
      </div>
      <div>
        <p>Event types</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>APM Transactions</p>
      </div>
      <div>
        <p><code>APM</code></p>
      </div>
      <div>
        <p><code>Transaction</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>APM Errors</p>
      </div>
      <div>
        <p><code>APM Errors</code></p>
      </div>
      <div>
        <p><code>TransactionError</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Browser</p>
      </div>
      <div>
        <p><code>Browser</code></p>
      </div>
      <div>
        <p><code>Ajax</code></p>
        <p><code>PageAction</code></p>
        <p><code>PageView</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Page view timing</p>
      </div>
      <div>
        <p><code>PcvPerf</code></p>
      </div>
      <div>
        <p><code>PageViewTiming</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>SPA monitoring</p>
      </div>
      <div>
        <p><code>Browser:EventLog</code></p>
      </div>
      <div>
        <p><code>AjaxRequest</code></p>
        <p><code>BrowserInteraction</code></p>
        <p><code>BrowserTiming</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>JS errors</p>
      </div>
      <div>
        <p><code>Browser:JSErrors</code></p>
      </div>
      <div>
        <p><code>JavaScriptError</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Custom:*</p>
      </div>
      <div>
        <p><code>Custom:*</code></p>
      </div>
      <div>
        <p>Event types stored using custom filters created by New Relic. Not applicable for most customers.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Custom events</p>
      </div>
      <div>
        <p><code>Default</code></p>
      </div>
      <div>
        <p><a href="/docs/insights/insights-data-sources/custom-data/send-custom-data-insights">Custom event types</a> that you create using New Relic agents or the Event API</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile#custom-breadcrumbs">Crash event trails</a></p>
      </div>
      <div>
        <p><code>Breadcrumb</code></p>
      </div>
      <div>
        <p><code>MobileBreadcrumb</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Mobile crash</p>
      </div>
      <div>
        <p><code>Mobile Crash</code></p>
      </div>
      <div>
        <p><code>MobileCrash</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Mobile error (for <a href="https://docs.newrelic.com/docs/mobile-monitoring/mobile-monitoring-ui/network-pages/http-requests-page">HTTP requests</a> and <a href="https://docs.newrelic.com/docs/mobile-monitoring/mobile-monitoring-ui/network-pages/http-errors-network-failure-analysis">HTTP errors</a> features)</p>
      </div>
      <div>
        <p><code>Mobile Error</code></p>
      </div>
      <div>
        <p><code>MobileRequest</code></p>
        <p><code>MobileRequestError</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Mobile exception</p>
      </div>
      <div>
        <p><code>Mobile Exception</code></p>
      </div>
      <div>
        <p><code>MobileHandledException</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Mobile general</p>
      </div>
      <div>
        <p><code>Mobile General</code></p>
      </div>
      <div>
        <p><code>Mobile</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Mobile session</p>
      </div>
      <div>
        <p><code>Mobile Session</code></p>
      </div>
      <div>
        <p><code>Mobile Session</code></p>
      </div>
    </div>
  </div>
</div>
<h2>Query examples</h2>
<p>To get the most out of your Insights usage data, you can:</p>
<ul>
  <li>Run queries of this data and create custom charts and dashboards.</li>
  <li>Use this data programmatically, using one of our APIs.</li>
</ul>
<p>For general information about how to use NRQL queries, see <a href="/docs/introduction-new-relic-subscription-usage-data">Introduction to usage data</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Insights writes usage events <a href="#data">once per day</a>. That is why these queries use <code>since 24 hours ago</code> or <code>timeseries 1 day</code>.</p>
</div>
<p>Here are some NRQL query examples about usage.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1hY2NvdW50LWV2ZW50cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU3RvcmVkIGV2ZW50IHVzYWdlIGZvciBsYXN0IG1vbnRoIn1d">
    <div data-prop-text="title">Stored event usage for last month</div>
    <p>This query will tell you the "billable" number of Insights-governed events for all accounts (masters and sub-accounts) in the hierarchy under the account where the query is run, for the last calendar month. This number is calculated as the daily average number of stored events.</p>
    <pre><code>SELECT rate(sum(insightsTotalEventCount)-sum(insightsIncludedEventCount), 1 day) 
AS 'Paid events' 
FROM NrDailyUsage 
SINCE last month 
UNTIL this month

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1zaW5nbGUtYWNjb3VudCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ3VycmVudCBJbnNpZ2h0cyB1c2FnZSBmb3IgYW4gYWNjb3VudCJ9XQ==">
    <div data-prop-text="title">Current Insights usage for an account</div>
    <p>This query will tell you how many Insights-governed events are currently stored for a specific account, broken down by <a href="#insightsEventNamespace">event namespace</a>. Be sure to replace YOUR_ACCOUNT_ID in these queries with your <a href="/docs/accounts/install-new-relic/account-setup/account-id">account ID</a>.</p>
    <pre><code>SELECT latest(insightsTotalEventCount) 
FROM NrDailyUsage 
SINCE 24 hours ago 
WHERE consumingAccountId = YOUR_ACCOUNT_ID 
FACET insightsEventNamespace

</code></pre>
    <pre><code>
SELECT sum(insightsTotalEventCount) 
FROM NrDailyUsage 
SINCE 24 hours ago 
WHERE consumingAccountId = YOUR_ACCOUNT_ID

</code></pre>This query will tell you the total current Insights-governed event storage for a specific account, for all event namespaces:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1tdWx0aXBsZS1hY2NvdW50cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ3VycmVudCBJbnNpZ2h0cyB1c2FnZSBmb3IgbXVsdGlwbGUgYWNjb3VudHMifV0=">
    <div data-prop-text="title">Current Insights usage for multiple accounts</div>
    <p>This query will tell you how many Insights-governed events are currently stored for a list of accounts by <a href="#insightsEventNamespace">event namespace</a>. Note that you will need to replace LIST_OF_ACCOUNT_IDs in the query with a list of <a href="/docs/accounts/install-new-relic/account-setup/account-id">account IDs</a>.</p>
    <pre><code>SELECT latest(insightsTotalEventCount) 
FROM NrDailyUsage SINCE 24 hours ago 
WHERE consumingAccountId 
IN (LIST_OF_ACCOUNT_IDs) 
FACET consumingAccountId, insightsEventNamespace 
LIMIT 100

</code></pre>You may need to increase the value in the `limit` clause to see all of the facets in this query.
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1wcm9kdWN0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFdmVudHMgaW5jbHVkZWQgd2l0aCBvdGhlciBOZXcgUmVsaWMgcHJvZHVjdHMifV0=">
    <div data-prop-text="title">Events included with other New Relic products</div>
    <p>This query will tell you how many Insights-governed events that are included with other New Relic product subscriptions were stored for an account, by the product that created them, over the past seven days. Note that you will need to replace YOUR_ACCOUNT_ID in the query with your <a href="/docs/accounts/install-new-relic/account-setup/account-id">account ID</a>.</p>
    <pre><code>SELECT sum(insightsIncludedEventCount) 
FROM NrDailyUsage 
SINCE 7 days ago 
WHERE consumingAccountId = YOUR_ACCOUNT_ID 
FACET insightsNrProduct 
TIMESERIES 1 day

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1zdWJhY2NvdW50In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJSZXRlbnRpb24gcGVyaW9kcyBieSBzdWItYWNjb3VudCBhbmQgZXZlbnQgbmFtZXNwYWNlIn1d">
    <div data-prop-text="title">Retention periods by sub-account and event namespace</div>
    <p>This query will tell you the total, paid, and included retention periods for the different event categories associated with the various New Relic products (such as APM <code>Transaction</code> events), for each sub-account under the specified master account ID. When creating your own NRQL queries, be sure to replace YOUR_ACCOUNT_ID with your specific <a href="/docs/accounts/install-new-relic/account-setup/account-id">account ID</a>.</p>
    <pre><code>SELECT latest(insightsTotalRetentionInHours)/24 
AS 'Total retention, days', latest(insightsIncludedRetentionInHours)/24 
AS 'Included retention, days', (latest(insightsTotalRetentionInHours) - 
latest(insightsIncludedRetentionInHours))/24 
AS 'Paid retention, days' 
FROM NrDailyUsage where productLine='Insights' 
AND masterAccountId = YOUR_ACCOUNT_ID 
FACET consumingAccountId,consumingAccountName,insightsEventNamespace 
SINCE 1 day ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1wcm8tc3ViYWNjb3VudCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUGFpZCBJbnNpZ2h0cyB1c2FnZSBieSBzdWItYWNjb3VudCJ9XQ==">
    <div data-prop-text="title">Paid Insights usage by sub-account</div>
    <p>This query will tell you how many events under an Insights Pro subscription are being consumed by each sub-account for the specified master account ID over the past seven days. When creating your own NRQL queries, be sure to replace YOUR_MASTER_ACCOUNT_ID in the query with your specific master <a href="/docs/accounts/install-new-relic/account-setup/account-id">account ID</a>.</p>
    <pre><code>SELECT sum(insightsTotalEventCount)-sum(insightsIncludedEventCount) 
AS 'Paid events' from NrDailyUsage 
SINCE 7 days ago 
WHERE masterAccountId = YOUR_MASTER_ACCOUNT_ID 
FACET consumingAccountId, consumingAccountName 
TIMESERIES 1 day

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWNjb3VudC1oaWVyYXJjaHktcXVlcnkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkFjY291bnQgaGllcmFyY2h5In1d">
    <div data-prop-text="title">Account hierarchy</div>
    <p>This query is useful for seeing the account hierarchy (partnership, master, sub-accounts).</p>
    <pre><code>SELECT count(*) 
FROM NrDailyUsage 
FACET partnershipName,masterAccountName,masterAccountId,
consumingAccountName,consumingAccountId 
LIMIT 1000 
SINCE 1 day ago

</code></pre>
  </div>
</div>
