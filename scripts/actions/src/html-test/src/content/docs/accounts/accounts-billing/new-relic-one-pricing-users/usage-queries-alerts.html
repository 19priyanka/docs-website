
<p>For accounts on our <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing">New Relic One pricing plan</a>, we provide a <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing#billing-usage-ui">UI for understanding your New Relic usage</a> and <a href="/docs/telemetry-data-platform/get-data-new-relic/manage-data/manage-your-data">managing your data</a>. Additionally, you can:</p>
<ul>
  <li><a href="#query">Query your usage data</a> to get more detail than is available in the UI</li>
  <li><a href="#alerts">Set up NRQL alert conditions</a> to get notifications about changes in your usage.</li>
</ul>
<p>Note that account hierarchy may affect queried data. See <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/account-user-structure">Account structure</a>.</p>
<h2>Data types</h2>
<p>Usage data is attached to two <a href="/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic">events</a>:</p>
<ul>
  <li><code>NrConsumption</code> records usage every hour, and is the equivalent of "real-time" usage. Use this event to observe usage trends over time.</li>
  <li><code>NrMTDConsumption</code> generates aggregate values from the <code>NrConsumption</code> event. Use this event to see usage or estimated cost for a billing period.</li>
</ul>
<p>To look at changes made to your New Relic account, you can query <a href="/docs/insights/insights-data-sources/default-data/nrauditevent-event-data-query-examples"><code>NrAuditEvent</code></a>.</p>
<h2>Query examples [#query]</h2>
<p>The <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing#billing-usage-ui">usage UI</a> displays your data usage and billable user count. But to get more detail, you can use these <a href="/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql">NRQL queries</a>. For definitions of some of the attributes used in these queries, see <a href="#attributes">Attributes</a>.</p>
<h3>Data usage queries [#data-queries]</h3>
<p>Here are some data usage query examples:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGFpbHktZ2IifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRhaWx5IGRhdGEgdXNhZ2UifV0=">
    <div data-prop-text="title">Daily data usage</div>
    <p>This query totals your billable ingested data, and displays a daily value for the past three months:</p>
    <pre><code>FROM NrConsumption SELECT sum(GigabytesIngested) 
   WHERE productLine = 'DataPlatform' 
   SINCE 3 months ago TIMESERIES 1 day

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGFpbHktc291cmNlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEYWlseSB1c2FnZSBieSBzb3VyY2UifV0=">
    <div data-prop-text="title">Daily usage by source</div>
    <p>This query totals your billable ingested data, and displays a daily value for the past three months faceted by the source:</p>
    <pre><code>FROM NrConsumption SELECT sum(GigabytesIngested) 
   WHERE productLine = 'DataPlatform' SINCE 3 months ago 
   FACET usageMetric TIMESERIES 1 day

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibW9udGgtZ2IifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ik1vbnRoLXRvLWRhdGUgZGF0YSB1c2FnZSJ9XQ==">
    <div data-prop-text="title">Month-to-date data usage</div>
    <p>This query shows the current full user count. In other words, it shows how much you'd be billed for your data for that month if you were billed right now.</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(GigabytesIngested) 
   WHERE productLine = 'DataPlatform' SINCE this month

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibW9udGgtY29zdCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTW9udGgtdG8tZGF0ZSBlc3RpbWF0ZWQgZGF0YSBjb3N0In1d">
    <div data-prop-text="title">Month-to-date estimated data cost</div>
    <p>This query shows the estimated cost of your ingested data:</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(estimatedCost) 
   WHERE productLine = 'DataPlatform' SINCE this month

</code></pre>
  </div>
</div>
<h3>User count queries [#user-queries]</h3>
<p>Here are some user-related query examples. For details on how users are counted, see <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing#user-count">User count calculations</a>.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibW9udGgtdXNlcnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ik1vbnRoLXRvLWRhdGUgZnVsbCB1c2VycyJ9XQ==">
    <div data-prop-text="title">Month-to-date full users</div>
    <p>This query shows the billable full users for the month. In other words, it shows how much you'd be billed for your users for that month if you were billed right now.</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(usersBillable) 
  SINCE this month

</code></pre>
    <pre><code>
from NrConsumption SELECT max(FullUsers) 
  SINCE 10 days ago TIMESERIES 1 hour

</code></pre>This query shows how many full users were counted by hour. This is useful for seeing how the full user count changed over time.
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicHJvamVjdGVkLW1vbnRoLXVzZXJzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJQcm9qZWN0ZWQgbW9udGhseSBmdWxsIHVzZXIgY291bnQifV0=">
    <div data-prop-text="title">Projected monthly full user count</div>
    <p>This query shows a projected count of monthly users. This query would not be good for using in a dashboard; it requires values based on a) the days remaining in the month, b) the start of the month. Here's an example querying the projected end-of-month count with 10 days left in that month:</p>
    <pre><code>FROM NrMTDConsumption SELECT predictLinear(FullUsers, 10 days) 
SINCE '2020-09-01'

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZnVsbC1iYXNpYy11c2VycyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ291bnQgZnVsbCB1c2VycyBhbmQgYmFzaWMgdXNlcnMifV0=">
    <div data-prop-text="title">Count full users and basic users</div>
    <p>The <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing#billing-usage-ui">usage UI</a> shows the count of full users and basic users. The query used is:</p>
    <pre><code>FROM NrUsage SELECT max(usage) SINCE 10 days ago
WHERE productLine='FullStackObservability' 
WHERE metric in ('FullUsers', 'BasicUsers') 
FACET metric

</code></pre>
    <pre><code>
FROM NrUsage SELECT max(usage) SINCE 10 days ago
WHERE productLine='FullStackObservability' 
WHERE metric in ('FullUsers', 'BasicUsers') FACET metric TIMESERIES 1 hour

</code></pre>To see the count of full and basic users over time:
  </div>
</div>
<h2>Set usage alerts [#alerts]</h2>
<p>To help <a href="/docs/telemetry-data-platform/get-data-new-relic/manage-data/manage-your-data">manage your billable data</a>, you can set alerts to notify you of unexpected increases in usage. To learn about how to create alerts, see <a href="/docs/alerts/new-relic-alerts/getting-started/new-relic-alerts-concepts-workflow#workflow">Alert workflow</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>When creating alert conditions, we recommend 20 minutes for the alert window value and the evaluation offset value. This will ensure it won't alert on normal gaps between usage event generation.</p>
</div>
<p>Here are some NRQL alert condition examples. For attribute definitions, see <a href="#attributes">Attributes</a>.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2ItZXhjZWVkcy12YWx1ZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSW5nZXN0ZWQgZ2lnYWJ5dGVzIGV4Y2VlZCBhIGZpeGVkIHZhbHVlIn1d">
    <div data-prop-text="title">Ingested gigabytes exceed a fixed value</div>
    <p>This query will create an alert when your hourly usage exceeds a fixed value:</p>
    <pre><code>FROM NrConsumption SELECT sum(GigabytesIngested) 
   WHERE productLine = 'DataPlatform'

</code></pre>
    <pre><code>
FROM NrConsumption SELECT sum(GigabytesIngested) 
   WHERE productLine = 'DataPlatform' AND consumingAccountId = YOUR_SUB-ACCOUNT_ID

</code></pre>If you have multiple [sub-accounts](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts), you may want to set threshold alerts for a specific subaccount:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2ItZXhjZWVkcy10aHJlc2hvbGQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlVzYWdlIGV4Y2VlZHMgZml4ZWQgdGhyZXNob2xkIGZvciBHQnMifV0=">
    <div data-prop-text="title">Usage exceeds fixed threshold for GBs</div>
    <p>This query will create an alert when your usage exceeds fixed monthly threshold for GBs:</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(GigabytesIngested) 
   WHERE productLine = 'DataPlatform'

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXNlci10aHJlc2hvbGQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlVzYWdlIGV4Y2VlZHMgZml4ZWQgdGhyZXNob2xkIGZvciB1c2VycyJ9XQ==">
    <div data-prop-text="title">Usage exceeds fixed threshold for users</div>
    <p>This query will create an alert when your usage exceeds fixed monthly threshold for billable users:</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(usersBillable)

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXNhZ2UtZXhjZWVkcy1jb3N0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJVc2FnZSBleGNlZWRzIGZpeGVkIHRocmVzaG9sZCBmb3IgZXN0aW1hdGVkIGNvc3QifV0=">
    <div data-prop-text="title">Usage exceeds fixed threshold for estimated cost</div>
    <p>This query will create an alert when your usage exceeds fixed threshold for estimated cost:</p>
    <pre><code>FROM NrMTDConsumption SELECT latest(estimatedCost) 
   WHERE productLine = 'DataPlatform' SINCE this month

</code></pre>
  </div>
</div>
<h2>General attributes [#attributes]</h2>
<p>These attributes are attached to the <code>NrMTDConsumption</code> and <code>NrConsumption</code> events.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Attribute</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>productLine</code></p>
      </div>
      <div>
        <p>The category of usage. There are four options: <code>DataPlatform</code>, <code>FullStackObservability</code>, <code>IncidentIntelligence</code>, or <code>ProactiveDetection</code>. For more details about these categories, see <a href="https://newrelic.com/platform">New Relic platform</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>metric</code></p>
      </div>
      <div>
        <p>Consolidates multiple categories of usage into a single metric. Helpful when faceting by productLine.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>consumingAccountId</code></p>
      </div>
      <div>
        <p>ID of the New Relic account that is directly responsible for the stored events, as determined from the license key used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>estimatedCost</code></p>
      </div>
      <div>
        <p>Calculates a cost estimate based on usage and metric cost. This is an estimate of costs to date, not your monthly invoice.</p>
      </div>
    </div>
  </div>
</div>
