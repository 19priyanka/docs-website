
<p><a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">New Relic Infrastructure</a> provides an SDK for creating an on-host integration. This document explains requirements and best practices for generating integration logs.</p>
<h2>Logging requirements [#required]</h2>
<p>It's up to the integration creator to decide what kind of log messages to create, and what kind of information will be useful for debugging issues. There is only one requirement for how an integration must generate logs:</p>
<ul>
  <li>The integration executable must write logs to standard error (stderr).</li>
</ul>
<p>The Infrastructure agent will capture lines written to standard error and merge them into the <a href="/docs/infrastructure/new-relic-infrastructure/troubleshooting/generating-logs-troubleshooting-infrastructure">logging stream</a> written by the Infrastructure agent itself.</p>
<p>To avoid depending on third-party logging solutions, the Go integration building library provides a <a href="https://github.com/newrelic/infra-integrations-sdk/blob/master/docs/toolset/log.md">simple log package</a> with the common log-levels.</p>
<h2>Recommendations and best practices [#recommended]</h2>
<p>Here are the recommended practices for generating integration logs:</p>
<ul>
  <li>By default, an integration should be "quiet." Aside from the data emitted to standard output, there should be very few logging or diagnostic messages generated.</li>
  <li>It's recommended you include a verbose logging mode similar to the <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#verbose"><code>verbose</code></a> setting in the Infrastructure agent. Include a command line switch to enable and disable verbose logging (for example, <code>-verbose</code>).</li>
  <li>To debug your integration while the integration is running, include the verbose switch in the definition file as part of the command line to be run. This will send the verbose logs to the Infrastructure agent's own log file.</li>
  <li>For general debugging purposes, New Relic recommends you use a flag that writes the standard out JSON data in human-readable "pretty-printed" form (for example, <code>--pretty</code>). Note that output written in a "pretty-printed" form is only for your debugging purposes and is not compatible with the Infrastructure agent.</li>
  <li>Your integration should be created so that it can run on its own. If in doubt whether the integration is communicating with the Infrastructure agent, you can run the integration from the command line and see if it's producing the correct output or log messages you expect.</li>
</ul>
<p>For information about the Go language logging package, see <a href="https://github.com/newrelic/infra-integrations-sdk/blob/master/docs/toolset/log.md">Logging package</a>.</p>
<h2>For more help [#more_help]</h2>
<p>For logging for all New Relic agents, see <a href="/docs/agents/manage-apm-agents/troubleshooting/new-relic-agent-logs-troubleshooting">New Relic agent logs and troubleshooting</a>.</p>
