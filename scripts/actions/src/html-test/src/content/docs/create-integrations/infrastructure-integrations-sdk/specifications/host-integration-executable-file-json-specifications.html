
<p>When using the New Relic Infrastructure <a href="/docs/integrations/integrations-sdk/getting-started/introduction-infrastructure-integrations-sdk">Integrations SDK</a> to build a custom <a href="/docs/integrations/host-integrations/getting-started/introduction-host-integrations">on-host integration</a>, the integration will consist of at least three files: an executable file and at least one configuration file. The executable file generates JSON data that is consumed by the New Relic Infrastructure agent and sent to New Relic.</p>
<h2>Executable file requirements [#what-is]</h2>
<p>The executable can be any file that runs from a command-line interface. Some examples:</p>
<ul>
  <li>A shell script</li>
  <li>A scripting language script</li>
  <li>A compiled binary</li>
</ul>
<p>The only requirement of your executable file is:</p>
<ul>
  <li>It exports JSON data, in a single line format, that meets the <a href="#general-specs">specifications</a> in this document.</li>
</ul>
<p>New Relic recommends using Go to create integrations; it's the language New Relic uses to create Infrastructure on-host integrations and the <a href="/docs/integrations/integrations-sdk/getting-started/integrations-tutorials-build-resources">integration building tools</a>. However, you can create an integration in any language.</p>
<h2>File placement</h2>
<p>The executable file goes in this directory:</p>
<ul>
  <li>
    <p><strong>Linux:</strong></p>
    <pre><code>/var/db/newrelic-infra/custom-integrations
</code></pre>
  </li>
  <li>
    <p><strong>Windows:</strong></p>
    <pre><code>C:\Program Files\New Relic\newrelic-infra\newrelic-integrations
</code></pre>
  </li>
</ul>
<h2>Example JSON output [#example-json]</h2>
<p>The JSON includes:</p>
<ul>
  <li>
    <p>A header, with basic integration data (name, version)</p>
  </li>
  <li>
    <p>A data list, which includes:</p>
    <ul>
      <li>One or more <a href="/docs/integrations/integrations-sdk/getting-started/introduction-infrastructure-integrations-sdk#data-types">entities</a> reporting data (metric, inventory, and/or event data)</li>
    </ul>
  </li>
</ul>
<p>This diagram shows this structure:</p>
<p>
  <img src="./images/new-relic-integrations-sdk-data-structure.png" alt="New Relic Integrations SDK data structure diagram" title="new-relic-integrations-sdk-data-structure.png">
</p>
<p>Here is an example JSON output (formatted with line breaks for readability). Definitions and specifications are below this example.</p>
<pre><code>{
  "name": "my.company.integration",
  "protocol_version": "3",
  "integration_version": "x.y.z",  
  "data": [
    {
      "entity": {
        "name": "my_garage",
        "type": "building",
        "id_attributes": [
          {
            "key": "environment",
            "value": "production"
          }, 
          { 
             "key": "node",
             "value": "master"
          }
        ]
      },
      "metrics": [
        {
          "temperature": 25.3,
          "humidity": 0.45,
          "displayName": "my_garage",
          "entityName": "building:my_garage",
          "event_type": "BuildingStatus"
        }
      ],
      "inventory": {
        "out_door": {
          "status": "open"
        }
      },
      "events": []
    },
    {
      "entity": {
        "name": "my_family_car",
        "type": "car",
        "id_attributes": [ 
          {
            "key": "environment",
            "value": "production"
          },
          {
            "key": "node",
            "value": "master"
          } 
        ]
      },
      "metrics": [
        {
          "speed": 95,
          "fuel": 768,
          "displayName": "my_family_car",
          "entityName": "car:my_family_car",
          "event_type": "VehicleStatus"
        }
      ],
      "inventory": {
        "motor": {
          "brand": "renault",
          "cc": 1800
        }
      },
      "events": [
        {
          "category": "gear",
          "summary": "gear has been changed"
        }
      ],
      "add_hostname": true
    }
  ]
}
</code></pre>
<h2>JSON: General specifications [#general-specs]</h2>
<p>Here are general specifications for the JSON output:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGF0YS1vdXRwdXQtc3BlYyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiR2VuZXJhbCBvdXRwdXQgYW5kIEpTT04gZm9ybWF0dGluZyJ9XQ==">
    <div data-prop-text="title">General output and JSON formatting</div>
    <p>Data is emitted to <code>stdout</code> (standard output) in JSON format. The agent will treat <code>stdout</code> and <code>stderr</code> file descriptors as line-wise buffers.</p>
    <p>Use standard JSON, not "pretty printed" JSON, for the output. <strong>Recommendation:</strong> Include an optional command line switch (for example, <code>--pretty</code>) to make JSON "pretty printed" for debugging purposes.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXJyb3JzLXNwZWMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkVycm9ycyBhbmQgbG9nZ2luZyJ9XQ==">
    <div data-prop-text="title">Errors and logging</div>
    <p>Error and debug information must be emitted to <code>stderr</code> (standard error). Follow New Relic's <a href="/docs/infrastructure/integrations-sdk/file-specifications/integration-logging-recommendations">recommendations and best practices for integration logging</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXJyb3JzLXNwZWMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkV4aXQvY2xvc2Ugb2YgZXhlY3V0YWJsZSJ9XQ==">
    <div data-prop-text="title">Exit/close of executable</div>
    <p>The exit code must exit with a <code>0</code> status code and follow platform-specific conventions. For example:</p>
    <ul>
      <li>
        <p><strong>Linux:</strong> <code>0 == EX_OK</code></p>
      </li>
      <li>
        <p><strong>Windows:</strong> <code>0 == ERROR_SUCCESS</code></p>
        <p>If the executable exits with a non-zero status, the agent will discard any data from <code>stdout</code> and write a message to its log file with the name of the integration, the exit code, and any diagnostic information it can gather.</p>
      </li>
    </ul>
  </div>
</div>
<h2>JSON: Header [#exec-header]</h2>
<p>Here's an example of the first part of an on-host integration's <a href="#example-json">JSON output</a>:</p>
<pre><code>"name":"com.myorg.nginx",
"protocol_version":"3",
"integration_version":"1.0.0",
"data": [ {entities}...]
</code></pre>
<p>A minimal payload would be a JSON object with only the header fields. <strong>Recommendation:</strong> If there is no data to collect, use the program return code and log messages written to <code>stderr</code>.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>JSON header fields</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>name</code></p>
      </div>
      <div>
        <p>Required. Must be identical to the <code>name</code> field in the configuration file.</p>
        <p><strong>Recommendation:</strong> Use reverse domain names to generate unique integration names.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>protocol_version</code></p>
      </div>
      <div>
        <p>Required. The version number of the exchange protocol between the integration and the agent that the integration executable is using.</p>
        <p>The current version is 3. This protocol requires Infrastructure agent 1.2.25 or higher. Protocol 2 requires Infrastructure agent 1.0.859 or higher. Protocol <code>1</code> is compatible with all agents. For more on this, see <a href="/docs/integrations/integrations-sdk/getting-started/compatibility-requirements-infrastructure-integrations-sdk#change-log">SDK changes</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>integration_version</code></p>
      </div>
      <div>
        <p>Optional. The integration version. Used to track the integration version running on each host.</p>
        <p>An integration can have more than one executable. Therefore this is not simply the executable's version.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>data</code></p>
      </div>
      <div>
        <p>Required for reporting data. A list containing the <a href="#exec-data">data reported from one or more entities</a>.</p>
      </div>
    </div>
  </div>
</div>
<h2>JSON: Entities [#entity-json]</h2>
<p>Inside the <a href="#data"><code>data</code> list</a> of the <a href="#example-json">JSON output</a> are one or more entities. The entity entry has several fields:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Entity JSON fields</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>entity</code></p>
      </div>
      <div>
        <p>Required. Entity data or properties. Detailed in the next section <code>entity data</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>metrics</code></p>
      </div>
      <div>
        <p>Optional. Entity related metric list. Explained below.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>inventory</code></p>
      </div>
      <div>
        <p>Optional. Entity related inventory items. Explained below.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>events</code></p>
      </div>
      <div>
        <p>Optional. Entity related event list. Explained below.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>add_hostname</code></p>
      </div>
      <div>
        <p>Optional. Boolean. If true entity metrics will be decorated with the <code>hostname</code>.</p>
      </div>
    </div>
  </div>
</div>
<h2>JSON: Entity data</h2>
<p>Inside the <a href="#data"><code>data</code> list</a> of the <a href="#example-json">JSON output</a> are one or more entities and their data. The entity entry has two fields:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Entity data JSON fields</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>name</code></p>
      </div>
      <div>
        <p>Required. The identifier/name of the entity.</p>
        <p><strong>Recommendation:</strong> Use reverse domain names to generate unique integration names.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>type</code></p>
      </div>
      <div>
        <p>Required. The kind of entity. It will be used by the Infrastructure agent as a <em>namespace</em> to compose a <strong>unique identifier</strong>, in conjunction with the <code>name</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>id_attributes</code></p>
      </div>
      <div>
        <p>Optional. A list of key-value attributes that provide uniqueness to an entity. They are attached to the name in the form of key=value to ease readability, provide extra information and improve entity name uniqueness.</p>
        <p>Identifier attributes are most useful in cases where the entity name is not enough to work as a unique identifier, or it doesn't provide enough meaningful information.</p>
        <p>Eg:</p>
        <pre><code>[
  {
    "key": "service", 
    "value": "mysql"
  },
  { 
    "key": "role", 
    "value": "master" 
  }, ...
]

</code></pre>
      </div>
    </div>
  </div>
</div>
<h2>Loopback address replacement on entity names</h2>
<p>From <a href="/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes">agent version 1.2.25 or higher</a>, protocol v3 improves <strong>remote entities uniqueness</strong> by adding local address replacement on entity names at agent level.</p>
<p>When several remote entities have their name based on an endpoint (either ip or hostname), and this name contains <a href="https://en.wikipedia.org/wiki/Localhost#Name_resolution">loopback addresses</a>, we have 2 issues:</p>
<ul>
  <li>This localhost value does not provide valuable info without more context.</li>
  <li>Name could collide with other service being named with a local address.</li>
</ul>
<p>This happens when:</p>
<ul>
  <li>Endpoints names are like <strong>localhost:port</strong>.</li>
  <li>Ports tend to be the same for a given service. Ie: 3306 for Mysql.</li>
</ul>
<p>The Infrastructure Agent replaces loopback addresses on the entity name (and therefore key), on incoming protocol v3 data, with the first available item of the following list:</p>
<ol>
  <li>Cloud provider instance ID, retrieved by the agent if applicable.</li>
  <li>Display name, set via the <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#general">display_name agent config option</a>.</li>
  <li>Hostname, as retrieved by the agent.</li>
</ol>
<p>If for example, an integration using protocol v3 returns an entity with the name <code>localhost:3306</code>, and the agent is running on bare metal (doesn’t have cloud provider instance ID), the display_name has not been set, and the hostname is <code>prod-mysql-01</code>, then the agent will replace the <code>localhost</code> and produce the entity name <code>prod-mysql-01:3306</code></p>
<h3>Enabling replacement for protocol v2</h3>
<p>The infrastructure Agent enables loopback address replacement automatically for v3 integration protocol. It's possible to enable this for <strong>v2</strong> via <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#general">the agent configuration flag</a> <code>replace_v2_loopback_entity_names</code>. In this case all the integrations being run by the agent using <strong>v2</strong> will have their names replaced whenever they carry a local address.</p>
<h2>JSON: Metric, inventory, and event data</h2>
<p>Data values follow the executable file header. You can record three <a href="/docs/infrastructure/integrations-sdk/get-started/intro-infrastructure-integrations-sdk#data-types">data types</a>:</p>
<ul>
  <li><a href="#metric-data">Metrics</a></li>
  <li><a href="#event-data">Events</a></li>
  <li><a href="#inventory">Inventory</a></li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>From the perspective of New Relic Dashboards, the Infrastructure metrics and events are both classified as <a href="/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data#overview">event data types</a>. To find both Infrastructure metrics and Infrastructure events, use the Insights <a href="/docs/insights/explore-data/data-explorer/event-explorer-query-chart-your-event-data">Event data explorer</a>, not the Metric data explorer.</p>
</div>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibWV0cmljLWRhdGEifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ik1ldHJpYyBkYXRhIn1d">
    <div data-prop-text="title">Metric data</div>
    <p>Infrastructure metric data typically is used for simple numeric data; for example:</p>
    <ul>
      <li>
        <p>Count of MySQL requests in a queue per second</p>
      </li>
      <li>
        <p>Count of active connections to a specific system per minute</p>
        <p>Besides associated metadata, a metric is essentially just a metric name and a numeric value. To view this data, use the New Relic Insights <a href="/docs/insights/explore-data/data-explorer/event-explorer-query-chart-your-event-data">Event data explorer</a>.</p>
        <p>Here's an example of an entity's metric data JSON:</p>
        <pre><code>[ 
    {
         "event_type":"MyorgNginxSample",
         "net.connectionsActive": 54,  # metric data (a key/value pair)
         "net.requestsPerSecond": 21,  # metric data (a key/value pair)
         "net.reading": 23,   # metric data (a key/value pair)
    }
]
</code></pre>
        <div data-component="Table" data-prop="W10=">
          <div>
            <div>
              <div>
                <p>JSON metric data field</p>
              </div>
              <div>
                <p>Description</p>
              </div>
            </div>
          </div>
          <div>
            <div>
              <div>
                <p><code>event_type</code></p>
              </div>
              <div>
                <p>Required. <code>event_type</code> defines where the metrics will be stored. Each set of metrics is stored as a sample inside the specified event type. Each integration must store its data in its own event type. If you are generating multiple types of samples from the same integration, use different event types for each.</p>
                <p><strong>Recommendation:</strong> To ensure the event types used by your integration are unique, prefix the event type with your company name or acronym. For example, if your custom integration captures Cassandra node metrics and Cassandra column family metrics as different samples, store them in different event types, such as <code>MyOrgCassandraSample</code> and <code>MyOrgCassandraColumnFamilySample</code>.</p>
                <p>If the event type does not exist, it will be created automatically when New Relic receives data from your integration and make it available in Insights.</p>
              </div>
            </div>
            <div>
              <div>
                <p>One or more metric data key/value pairs</p>
              </div>
              <div>
                <p>Required (at least one). A metric measurement containing a name (key) and its value. Make sure these generally conform to the entity type's specification for maximum compatibility with Infrastructure features.</p>
                <p><strong>Recommendation:</strong> Prefix your metric with a category to help when navigating through metrics in the New Relic UI. New Relic integrations currently use:</p>
                <ul>
                  <li>
                    <p><code>net</code>: Number of connections, web server requests, bytes transmitted over the network, etc.; for example, <code>net.connectionsActive</code>.</p>
                  </li>
                  <li>
                    <p><code>query</code>: Metrics directly related to database queries; for example, <code>query.comInsertPerSecond</code>.</p>
                  </li>
                  <li>
                    <p><code>db</code>: Internal database metrics; for example, <code>db.openTables</code>.</p>
                    <p>Use multilevel prefixes for additional grouping when it makes sense; for example, <code>db.innodb.bufferPoolPagesFree</code></p>
                    <p>Use the <code>innerCamelCase</code> naming format; for example: <code>net.requestsPerSecond</code>.</p>
                    <p>Use a metric name as close to the original one as possible while respecting the other specifications. For example:</p>
                  </li>
                  <li>
                    <p>original name: Qcache_hits</p>
                  </li>
                  <li>
                    <p>metric name: <code>db.qCacheHits</code></p>
                    <p>Measurement unit: <strong>Recommendation:</strong> Specify the measurement unit using a unit suffix if it is not already included in the original metric name, as in the following examples:</p>
                  </li>
                  <li>
                    <p>Percentages: Use <code>Percent</code>; for example: <code>cpuUtilPercent</code>.</p>
                  </li>
                  <li>
                    <p>Rates: Use a format such as <code>PerSecond</code>. Seconds is the standard rate measurement, but you can also use other units, such as <code>PerMinute</code> or <code>PerDay</code>.</p>
                  </li>
                  <li>
                    <p>Byte measurements: Use <code>Bytes</code>. <strong>Recommendation:</strong> If a metric is captured in a different unit, such as <code>Megabytes</code>, convert it to <code>Bytes</code>. For example: <code>db.allMemtablesOffHeapSizeBytes</code>.</p>
                  </li>
                  <li>
                    <p>Time measurements: Use <code>Milliseconds</code>. <strong>Recommendation:</strong> If a metric is captured in a different unit, such as <code>Seconds</code>, convert it to <code>Milliseconds</code>. For example: <code>query.readLatency50thPercentileMilliseconds</code></p>
                    <p>Value: Use a string or a number (integer or float). Strings can be used as associated metadata, allowing data to be filtered in the New Relic UI. A boolean would need to be expressed as either a string ("true", "false") or an integer (1, 0). Do not use complex types of values, such as arrays or hashes.</p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXZlbnQtZGF0YSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRXZlbnQgZGF0YSJ9XQ==">
    <div data-prop-text="title">Event data</div>
    <p>Infrastructure <strong>event</strong> data represents arbitrary, one-off messages for key activities on a system; for example:</p>
    <ul>
      <li>
        <p>Starting up a specific service</p>
      </li>
      <li>
        <p>Creating a new table</p>
        <p>You can view this data in the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-events-page-live-feed-every-config-change">Infrastructure <strong>Events</strong> page</a> and <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/events-heatmap-examine-patterns-time-range">Infrastructure events heatmap</a>. You can also query the <code>InfrastructureEvent</code> event type in Insights.</p>
        <p>Here's an example of an integration's event data JSON payload, which follows the <a href="#exec-header">header JSON</a>, and field definitions.</p>
        <pre><code>[
   {
      "summary":"More than 10 request errors logged in the last 5 minutes",
      "category": "notifications"
   }
]
</code></pre>
        <div data-component="Table" data-prop="W10=">
          <div>
            <div>
              <div>
                <p>JSON event field</p>
              </div>
              <div>
                <p>Description</p>
              </div>
            </div>
          </div>
          <div>
            <div>
              <div>
                <p><code>summary</code></p>
              </div>
              <div>
                <p>Required. The message to be sent. Use a simple string.</p>
              </div>
            </div>
            <div>
              <div>
                <p><code>category</code></p>
              </div>
              <div>
                <p>Optional. String value of one of the existing categories used in the Infrastructure product, or a new category. The default value is <code>notifications</code>. Examples of categories:</p>
                <ul>
                  <li><code>applications</code></li>
                  <li><code>automation</code></li>
                  <li><code>configuration</code></li>
                  <li><code>metadata</code></li>
                  <li><code>notifications</code></li>
                  <li><code>os</code></li>
                  <li><code>packages</code></li>
                  <li><code>services</code></li>
                  <li><code>sessions</code></li>
                  <li><code>system</code></li>
                  <li><code>users</code></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJjbGFzc05hbWUiLCJ2YWx1ZSI6ImZyZXEtbGluayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaW52ZW50b3J5In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJJbnZlbnRvcnkgZGF0YSJ9XQ==">
    <div data-prop-text="title">Inventory data</div>
    <p>Infrastructure inventory data captures live state system information; for example:</p>
    <ul>
      <li>
        <p>Configuration data</p>
      </li>
      <li>
        <p>System versions installed</p>
      </li>
      <li>
        <p>Other system metadata</p>
        <p>You can view this data in the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure">Infrastructure <strong>Inventory</strong> page</a> and <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/events-heatmap-examine-patterns-time-range">Infrastructure events heatmap</a>. You can also query data related to inventory changes in Insights.</p>
        <p>The <code>inventory</code> data type is a hash of one or more JSON sub-objects containing:</p>
      </li>
      <li>
        <p>A unique inventory id key (required): The inventory item's identifier. This is used in combination with the integration's prefix to create a path to the inventory item's data. Like paths combine across entities and show possible variance. This ID points to a hash.</p>
      </li>
      <li>
        <p>A hash of key/value pairs, one per inventory attribute. At least one is required.</p>
      </li>
      <li>
        <p>Keys should be strings.</p>
      </li>
      <li>
        <p>Values may either be a scalar type (string or number) <strong>or</strong> another hash object of key/values. New Relic supports hierarchy, but the final value nodes must be a scalar.</p>
        <p>Here's an example of an integration's inventory data JSON:</p>
        <pre><code>{
    "events/worker_connections": {
        "value": 1024
                },
    "http/gzip" : {
        "value": "on"
                }
}
</code></pre>
      </li>
    </ul>
  </div>
</div>
