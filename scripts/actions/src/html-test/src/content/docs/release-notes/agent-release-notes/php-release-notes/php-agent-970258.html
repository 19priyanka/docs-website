
<h3>New Features</h3>
<p><strong>Avoid potential memory exhaustion for long running transactions</strong></p>
<ul>
  <li>
    <p>The configuration settings <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-configuration#inivar-tt-maxsegcli"><code>newrelic.transaction_tracer.max_segments_cli</code></a> and <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-configuration#inivar-tt-maxsegweb"><code>newrelic.transaction_tracer.max_segments_web</code></a> were added. These settings can be used to limit the number of segments the PHP agent records during a CLI transaction and a web transaction respectively.</p>
    <p><code>newrelic.transaction_tracer.max_segments_cli</code> defaults to <code>100000</code> and thus avoids potential memory exhaustion for long running CLI transactions.</p>
    <p><code>newrelic.transaction_tracer.max_segments_web</code> defaults to <code>0</code>, meaning that the PHP Agent shall capture all segments during a web transaction.</p>
    <p>For more information, see the documentation about the <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-configuration#inivar-tt-settings">PHP agent configuration</a>.</p>
  </li>
</ul>
<p><strong>Performance improvements</strong></p>
<ul>
  <li>The PHP agent now creates segments in a more efficient way, which results in improved performance.</li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>The Debian init script now uses <code>pidof</code> instead of <code>ps</code>. This solves issues related to starting the daemon with systemctl on Debian. Previously, the daemon would start and immediately stop.</li>
</ul>
