
<h3>Notes</h3>
<p>The Browser Agent, sometimes called the JS agent, has multiple variants: Lite, Pro, and Pro+SPA. Unless noted otherwise, all features/improvements/bug fixes are available in all variants of the agent.</p>
<h3>Bug fixes</h3>
<ul>
  <li><strong>Do not instrument SPA without a wrappable XHR:</strong> In browsers that don't orchestrate the wrapping of XHR, the SPA agent does not collect event data, only <a href="https://docs.newrelic.com/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data">metric timeslice data</a>. The agent will still report SPA for browsers that support XHR wrapping. Mobile Safari and a few other browsers didnâ€™t support wrapping the XMLHttpRequest, so they would not produce event data for instrumenting Single Page Apps. They still collect other types of metrics.</li>
  <li><strong>Support setTimeout with a string duration:</strong> When you call setTimeout with a string as the duration, browsers will cast this as a number, but the agent did not handle this correctly. We are now handling this case correctly.</li>
  <li><strong>Work around mutation observer memory leak in IE 11:</strong> We have discovered that MutationObserver in IE causes a memory leak, so the agent now will prefer setImmediate for IE, and use a resolved promise to schedule the wrapping in Edge (and other browsers that support promises).</li>
  <li><strong>Handle short recursive timers:</strong> Some libraries recursively set timers that left our interactions open. The agent now handles this by reducing the max time it will allow to be included in the interaction.</li>
</ul>
<h3>How to upgrade</h3>
<p>To upgrade your agent to the latest version, see <a href="https://docs.newrelic.com/docs/browser/new-relic-browser/installation-configuration/upgrade-browser-agent">Upgrade the Browser agent</a>.</p>
