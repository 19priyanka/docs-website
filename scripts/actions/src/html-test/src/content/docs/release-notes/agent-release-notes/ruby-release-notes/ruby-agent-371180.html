
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see <a href="/docs/agents/manage-apm-agents/installation/update-new-relic-agent">Update the agent</a>. For more information, see <a href="/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy">End-of-life policy</a>.</p>
</div>
<h3>Notes</h3>
<ul>
  <li>
    <p>MongoDB support</p>
    <p>The Ruby agent provides support for the mongo gem, versions 1.8 and 1.9! Mongo calls are captured for transaction traces along with their parameters, and time spent in Mongo shows up on the Database tab.</p>
    <p>Support for more Mongo gems and more UI goodness will be coming, so watch <a href="http://docs.newrelic.com/docs/ruby/mongo">http://docs.newrelic.com/docs/ruby/mongo</a> for up-to-date status.</p>
  </li>
  <li>
    <p>Harvest thread restarts for forked and daemonized processes</p>
    <p>Historically framework specific code was necessary for the Ruby agent to successfully report data after an app forked or daemonized. Gems or scripts with daemonizing modes had to wait for agent support or find workarounds.</p>
    <p>With 3.7.1 setting <code>restart_thread_in_children: true</code> in your newrelic.yml automatically restarts the agent in child processes without requiring custom code. For now the feature is opt-in, but future releases may default it on.</p>
  </li>
  <li>
    <p>Fix for missing HTTP time</p>
    <p>The agent previously did not include connection establishment time for outgoing Net::HTTP requests. This has been corrected, and reported HTTP timings should now be more accurate.</p>
  </li>
</ul>
