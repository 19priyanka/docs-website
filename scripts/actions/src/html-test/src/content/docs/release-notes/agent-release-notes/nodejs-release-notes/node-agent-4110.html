
<h3>New features</h3>
<ul>
  <li>
    <p>Added <code>protocol_17</code> feature flag.</p>
    <p>Flag will be removed and protocol will be hard-coded to <code>17</code> once functionality is released on New Relic backend.</p>
  </li>
  <li>
    <p>This release also includes changes to the agent to enable monitoring of Lambda functions. If you are interested in learning more or previewing New Relic Lambda monitoring please email <a href="mailto:lambda_preview@newrelic.com">lambda_preview@newrelic.com</a>.</p>
  </li>
  <li>
    <p>Added <code>waitForIdle</code> option to <code>API#shutdown</code>.</p>
    <p>This new option will make the agent wait for all active transactions to finish before actually shutting down. This does not pre-empt creation of new transactions, so care must be taken to ensure the active transaction pool drains or the agent will never shut down.</p>
  </li>
</ul>
<h3>Improvements</h3>
<ul>
  <li>Added switch statement indenting standard to eslintrc</li>
  <li>Introduced "warn" level 2 space rule to eslintrc</li>
  <li>Upgraded <code>@newrelic/test-utilities</code> to v2.</li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>
    <p>Changed totalTime attribute to be in decimal seconds instead of milliseconds for transaction events.</p>
  </li>
  <li>
    <p>Agent no longer produces spans on ignored transactions.</p>
    <p>Previously, the agent would produce distributed tracing span events regardless of the ignored status of the transaction the events originated from.</p>
  </li>
  <li>
    <p>Extended Restify instrumentation to mark possible transaction names in order to account for async response methods.</p>
  </li>
  <li>
    <p>Updated <code>hapi@16</code> versioned tests to only run on Node 6 and above.</p>
  </li>
  <li>
    <p>Pinned mysql2 to <code>&#x3C;1.6.2</code> in versioned tests.</p>
  </li>
</ul>
