
<h3>New Features</h3>
<ul>
  <li>
    <p><strong>Infinite Tracing on New Relic Edge</strong></p>
    <p>This release adds support for <a href="https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/enable-configure/enable-distributed-tracing">Infinite Tracing on New Relic Edge</a>. Infinite Tracing observes 100% of your distributed traces and provides visualizations for the most actionable data so you have the examples of errors and long-running traces so you can better diagnose and troubleshoot your systems.</p>
    <p>You configure your agent to send traces to a trace observer in New Relic Edge. You view your distributed traces through the New Relic’s UI. There is no need to install a collector on your network.</p>
    <p>Infinite Tracing is currently available on a sign-up basis. If you would like to participate, please contact your sales representative.</p>
    <p>Agent version 8.30 introduces significant performance enhancements to Infinite Tracing. To use Infinite Tracing, please upgrade to version 8.30 or later.</p>
  </li>
  <li>
    <p><strong>Error attributes now added to each span that exits with an error or exception</strong></p>
    <p>Error attributes <code>error.class</code> and <code>error.message</code> are now included on the span event in which an error or exception was noticed, and, in the case of unhandled exceptions, on any ancestor spans that also exit with an error. The public API method <code>NoticeError</code> now attaches these error attributes to the currently executing span.</p>
    <p><a href="https://docs.newrelic.com/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#rules-limits">Spans with error details are now highlighted red in the Distributed Tracing UI</a>, and error details will expose the associated <code>error.class</code> and <code>error.message</code>. It is also now possible to see when an exception leaves the boundary of the span, and if it is caught in an ancestor span without reaching the entry span. NOTE: This “bubbling up” of exceptions will impact the error count when compared to prior behavior for the same trace. It is possible to have a trace that now has span errors without the trace level showing an error.</p>
    <p>If multiple errors occur on the same span, only the most recent error information is added to the attributes. Prior errors on the same span are overwritten.</p>
    <p>These span event attributes conform to <a href="https://docs.newrelic.com/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-or-mark-expected#ignore">ignored errors</a> configuration.</p>
  </li>
</ul>
<h3>Fixes</h3>
<ul>
  <li>Fixes issue in the MSI installer which prevented the <code>InstrumentAllNETFramework</code> feature selection from working as expected on the command line.</li>
  <li>Fixes issue for Azure App Service environments running on Linux that caused both the application and its Kudu process to be instrumented by the agent. The Kudu process is no longer instrumented.</li>
  <li>Fixes issue when using the <a href="https://docs.newrelic.com/docs/agents/net-agent/configuration/net-agent-configuration#error-ignoreErrors"><code>ignoreErrors</code> configuration</a>. Previously, when an exception contained a inner exception(s), the <code>ignoreErrors</code> config was only applied to the outer-most exception. Now, both the outer-most and inner-most exception type are considered when evaluating the <code>ignoreErrors</code> configuration.</li>
  <li>Fixes an issue that could cause an exception to occur in the instrumentation for StackExchange Redis. This exception caused the instrumentation to shut down leaving StackExchange Redis uninstrumented.</li>
</ul>
<h3>Upgrading</h3>
<ul>
  <li>Follow standard procedures to <a href="/docs/agents/net-agent/installation-configuration/update-net-agent">update the .NET agent</a>.</li>
  <li>If you are upgrading from a particularly old agent, review the list of major changes and procedures to <a href="/docs/agents/net-agent/troubleshooting/upgrade-legacy-net-agents">upgrade legacy .NET agents</a>.</li>
</ul>
