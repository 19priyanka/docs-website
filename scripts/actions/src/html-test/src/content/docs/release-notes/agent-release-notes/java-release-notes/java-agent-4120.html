
<h3>Improvements</h3>
<ul>
  <li>
    <p>Kafka-clients</p>
    <p>The Java agent now supports the kafka-clients library. The agent will automatically report up Kafka metrics to New Relic.</p>
    <p>Optional support is provided for reporting Kafka metrics as Insights events and for enabling distributed tracing. More information can be found in the <a href="https://docs.newrelic.com/docs/agents/java-agent/instrumentation/instrument-kafka-message-queues">New Relic documentation</a>.</p>
  </li>
  <li>
    <p>Java 12, Coretto and Zulu</p>
    <p>The New Relic Java agent is now fully compatible with Java 12. This release also adds support for the Amazon Coretto and Azul Zulu JDKs.</p>
  </li>
</ul>
<h3>New APIs</h3>
<ul>
  <li>Added <a href="https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/Transaction.html#ignoreErrors--">ignoreErrors()</a> to the Transaction API, allowing all errors reported within a specific transaction to be ignored.</li>
  <li>Added <a href="https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#addCustomParameters-java.util.Map-">addCustomParameters(Map&#x3C;String, Object>)</a> API, allowing multiple custom parameters to be added to a transaction at once.</li>
  <li>Updated the <a href="https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#noticeError-java.lang.String-">noticeError()</a> API documentation to clarify that when the api is invoked multiple times while in a transaction, only the first error will be reported.</li>
</ul>
<h3>Deprecated APIs</h3>
<ul>
  <li>The custom transport channel API is now deprecated in favor of the <a href="https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/DistributedTracePayload.html">Distributed Tracing</a> API.</li>
  <li>The skipTransactionTrace attribute on the @Trace annotation is now deprecated. The <a href="https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/Trace.html#excludeFromTransactionTrace--">excludeFromTransactionTrace</a> attribute should be used in its place.</li>
</ul>
<h3>Deprecated Instrumentation</h3>
<ul>
  <li>
    <p>JetS3t</p>
    <p>Removed built-in instrumentation for JetS3t. The agent will continue to report external calls made with the JetS3t client.</p>
  </li>
</ul>
<h3>Fixes</h3>
<ul>
  <li>Fixed an issue with Jax-RS subresource transaction naming where the root path is duplicated when a nested resource structure is used. This could lead to transactions being named incorrectly for incoming requests to a Jax-RS framework.</li>
  <li>Fixed a bug in the agent's Jetty metric sampling that could prevent Jetty specific metrics from being reported when the number of threads returned by JMX is zero.</li>
  <li>Fixed a NullPointerException that can occur when cross application tracing configuration is explicitly disabled.</li>
  <li>Fixed an issue where transactions would be named incorrectly when using custom Akka Http stream directives or a pathEnd directive followed by a Segment directive.</li>
  <li>Fixed an issue where certain usages of Akka and Scala would prevent transactions from being reported to New Relic. This would also manifest as a NullPointerException in the agent log at <code>finest</code> level.</li>
  <li>The Java agent no longer includes Jaxb or Logback dependencies. A new dependency on Log4j2 has been added</li>
</ul>
