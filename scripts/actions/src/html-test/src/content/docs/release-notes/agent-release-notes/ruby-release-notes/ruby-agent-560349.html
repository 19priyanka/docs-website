
<h2>v5.6.0</h2>
<ul>
  <li>
    <p>Bugfix for transactions with <code>ActionController::Live</code></p>
    <p>Previously, transactions containing <code>ActionController::Live</code> resulted in incorrect calculations of capacity analysis as well as error backtraces appearing in agent logs in agent versions 5.4 and later. The agent now correctly calculates capacity for transactions with <code>ActionController::Live</code>.</p>
  </li>
  <li>
    <p>Add ability to exclude attributes from span events and transaction segments</p>
    <p>Agent versions 5.5 and lower could selectively exclude attributes from page views, error traces, transaction traces, and transaction events. With agent version 5.6 and higher, you can also exclude attributes from span events (via the <code>span_events.include/exclude</code> options) and from transaction segments (via the <code>transaction_segments.include/exclude</code> options).</p>
    <p>As with other attribute destinations, these new options will inherit values from the top-level <code>attributes.include/exclude</code> settings. See the <a href="https://docs.newrelic.com/docs/agents/ruby-agent/attributes/enabling-disabling-attributes-ruby">documentation</a> for more information.</p>
  </li>
  <li>
    <p>Increasing backoff sequence on failing to connect to New Relic</p>
    <p>If the agent cannot reach New Relic, it will now wait for an increasing amount of time after each failed attempt. We are also starting with a shorter delay initially, which will help customer apps bounce back more quickly from transient network errors.</p>
  </li>
  <li>
    <p>Truncation of long stack traces</p>
    <p>Previous versions of the agent would truncate long stack traces to 50 frames. To give customers more flexibility, we have added the <code>error_collector.max_backtrace_frames</code> configuration option. Thanks to Patrick Tulskie for the contribution!</p>
  </li>
  <li>
    <p>Update link in documentation</p>
    <p>The community forum link in <code>README.md</code> now goes to the updated location. Thanks to Sam Killgallon for the contribution!</p>
  </li>
  <li>
    <p>Active Storage instrumentation</p>
    <p>The agent now provides instrumentation for Active Storage, introduced in Rails 5.2. Customers will see Active Storage operations represented as segments within transaction traces.</p>
  </li>
</ul>
