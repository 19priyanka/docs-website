
<h3>New Features</h3>
<p>With this release of the New Relic Browser agent, we now support new metrics, largestContentfulPaint and windowUnload, in our PageViewTiming event. With the release of Chrome 77, Google now reports a metric called <a href="https://web.dev/lcp/">Largest Contentful Paint</a>. This metric, LCP for short, reports the render time of the largest content element visible in the viewport, along with the element size and element Id values. This new metric comes after <a href="https://calendar.perfplanet.com/2019/developing-the-largest-contentful-paint-metric/">extensive research by Google</a>. They found that the more accurate way to measure when the main content of a page is loaded is to look at when the largest element was rendered. Largest Contentful Paint is replacing First Meaningful Paint (which is now a deprecated metric) in Google Lighthouse as well. Additionally, LCP is considered the "field" equivalent to the Speed Index "lab" metric.</p>
<p>Largest Contentful Paint is updated over time, but captured and reported when one of these three criteria is met:</p>
<ul>
  <li>A user interacts with the page, thus potentially changing the content in the viewport</li>
  <li>The user closes the page (the window unload event fires)</li>
  <li>If no other other interaction happens, and we have received a LCP value, we will report that value after 1 minute has passed</li>
  <li>If we have not received a value, and no interaction has occurred after a minute, we will simply wait until we have received any value for LCP. This would only occur for very high values (> 1minute) of LCP.</li>
</ul>
<p>In addition to this metric, we added the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/unload_event">windowUnload</a> event to PageViewTiming, so you can see when your users are most commonly closing their sessions. This metric is supported by all browsers on both desktop and mobile devices.</p>
<p>For more information about these new metrics, supporting attributes and browser compatibility, visit our <a href="https://docs.newrelic.com/docs/browser/new-relic-browser/page-load-timing-resources/pageviewtiming-async-or-dynamic-page-details">PageViewTiming documentation.</a></p>
<h3>Issue Fixes</h3>
<ul>
  <li>Fix to resolve repeated InvalidStateError errors associated with IE11 and some Edge versions.</li>
</ul>
<h3>How to upgrade</h3>
<p>To upgrade your agent to the latest version, see <a href="https://docs.newrelic.com/docs/browser/new-relic-browser/installation-configuration/upgrade-browser-agent">Upgrade the Browser agent</a>.</p>
