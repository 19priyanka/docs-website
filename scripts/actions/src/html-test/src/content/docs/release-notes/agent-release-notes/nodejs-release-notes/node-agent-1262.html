
<h3>New features</h3>
<ul>
  <li>
    <p>Added ioredis instrumentation.</p>
    <p>Big thanks to Guilherme Souza (@guilhermef) for the contribution!</p>
  </li>
  <li>
    <p>Added a new shutdown call to the public API.</p>
    <p>Thanks to @echmykhun for the contribution!</p>
    <p>The new shutdown API call will gracefully stop the agent. It can optionally harvest any pending data waiting to be sent to the New Relic servers before shutting down.</p>
    <p>To read more about this new API, please read our README, or visit our <a href="https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#shutdown">docs page</a>.</p>
  </li>
  <li>
    <p>Added support for truncated segment notifiers.</p>
    <p>Segments related to work that happens after a transaction has finished will now be labeled as Truncated in the UI.</p>
  </li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>
    <p>Fixed an issue in the express instrumentation related to inactive/lost transaction state.</p>
    <p>Thanks to Jacob Page (@DullReferenceException) for submitting this fix.</p>
    <p>Previously, the agent would crash if there was no active transaction when an Express middleware would handle the request.</p>
  </li>
</ul>
<h3>Improvements</h3>
<ul>
  <li>
    <p>The agent now uses MongoDB's APM API for its instrumentation.</p>
    <p>Method discovery for instrumentation is now done through MongoDB's APM API in newer versions of the MongoDB driver.</p>
  </li>
</ul>
