
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see <a href="/docs/agents/manage-apm-agents/installation/update-new-relic-agent">Update the agent</a>. For more information, see <a href="/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy">End-of-life policy</a>.</p>
</div>
<h3>New Features</h3>
<h4>Zend Framework 2 transaction naming support</h4>
<p>Support has been added for naming transactions automatically based on ZF2 route names. Transaction naming will work with routes set in <code>module.config.php</code>, or anything else using the <code>setMatchedRouteName</code> method of <code>Zend\Mvc\Router\RouteMatch</code> (or the same methods of the corresponding <code>HTTP</code> and <code>Console</code> routers).</p>
<p>For example:</p>
<p>'router' => array( 'routes' => array( 'route1' => array( ... ) 'route' => '/foo[/:bar][/:baz]', 'constraints' => array( ... ), 'defaults' => array( ... 'route2' => array( ... )</p>
<p>Anything the router matches to <code>route1</code> will be named <code>route1</code> regardless of URL, parameters or controller. 404 errors and similar will be named "unknown".</p>
<h4>Silex transaction naming support</h4>
<p>Support has been added for naming transactions automatically based on Silex controller names. If a route name has been set using the <code>Controller::bind()</code> method, then that will be used, otherwise the default controller name generated by Silex will be used instead.</p>
<p>For example:</p>
<p>// This will be named with the autogenerated "GET_hello_name". $app->get('/hello/{name}', function ($name) { ... });</p>
<p>// This will be named "hello", as bound. $app->get('/hello/{name}', function ($name) { ... })->bind('hello');</p>
<p>Automatic transaction naming will work on all Silex 1.x versions provided the default <code>kernel</code> service has not been replaced with an object of a type other than <code>Symfony\Component\HttpKernel\HttpKernel</code>. If the <code>kernel</code> service has been replaced with something else, you will need to continue to use the <code>newrelic_name_transaction</code> function to name your transactions.</p>
<h3>End of Life Notices</h3>
<ul>
  <li>
    <p><code>memcacheDuration</code> attributes have been removed.</p>
    <p>A bug in version 4.19 of the PHP agent removed support for <code>memcacheDuration</code> attributes in <code>Transaction</code> events. We have decided not to restore this functionality, as these durations are now accounted for in <code>databaseDuration</code> attribute values.</p>
  </li>
</ul>
<h3>Bug Fixes</h3>
<ul>
  <li>
    <p><code>databaseDuration</code> attributes have been restored.</p>
    <p>A bug in versions 4.19 and 4.20 of the PHP agent resulted in <code>databaseDuration</code> attributes no longer being attached to <code>Transaction</code> events. These have been restored, with one change: they now also include time spent in Memcached operations, as these are now unified with other datastores in New Relic APM.</p>
  </li>
  <li>
    <p>Fix application name rollup ordering issue.</p>
    <p>When using application rollup names, the agent had the restriction that any name could only appear as the first rollup name once, which prevented the simultaneous connection of <code>a;b</code> and <code>a;c</code>. This restriction has been removed.</p>
  </li>
</ul>
