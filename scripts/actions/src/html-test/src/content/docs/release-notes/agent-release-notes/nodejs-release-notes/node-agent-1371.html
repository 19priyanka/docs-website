
<h3>Notes</h3>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This release has been re-published to npm as 1.37.2. Please use version <a href="/docs/release-notes/agent-release-notes/nodejs-release-notes/node-agent-1372">1.37.2</a> or higher.</p>
</div>
<h3>Improvements</h3>
<ul>
  <li>
    <p>Agent now wraps <code>emit</code> on http request/response objects instead of relying on listeners.</p>
  </li>
  <li>
    <p>Improved documentation for <code>newrelic.noticeError()</code> and <code>ignore_status_codes</code> configuration.</p>
    <p>The documentation now makes it clear that errors recorded using <code>noticeError()</code> do not obey the <code>ignore_status_codes</code> configuration value.</p>
  </li>
  <li>
    <p>Removed unused <code>yakaa</code> dependency.</p>
  </li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>Fixed a bug in normalization rules when replacements do not maintain initial <code>/</code>.</li>
  <li>Better de-duplication of errors when the same error instance is used multiple times.</li>
  <li>Server-side naming rules are now applied even when user defined ones have matched.</li>
  <li>Errors reported outside of a transaction now include their stack trace on the error analytics page.</li>
  <li>A potential stack overflow in trace serialization has been removed.</li>
  <li>Fixed an issue with our Express and domain instrumentation related to a loss of transaction state that could result in incorrect transaction names, traces, and events.</li>
  <li>Nested background transactions now report the correct number of metrics.</li>
</ul>
