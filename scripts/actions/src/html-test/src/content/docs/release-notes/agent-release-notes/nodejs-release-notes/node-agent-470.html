
<h3>New features</h3>
<ul>
  <li>
    <p>Added support for distributed tracing.</p>
    <p>Distributed tracing lets you see the path that a request takes as it travels through your distributed system. By showing the distributed activity through a unified view, you can troubleshoot and understand a complex system better than ever before.</p>
    <p>Distributed tracing is available with an APM Pro or equivalent subscription. To see a complete distributed trace, you need to enable the feature on a set of neighboring services. Enabling distributed tracing changes the behavior of some New Relic features, so carefully consult the <a href="https://docs.newrelic.com/docs/transition-guide-distributed-tracing">transition guide</a> before you enable this feature.</p>
    <p>To enable distributed tracing, set <code>distributed_tracing.enabled</code> to <code>true</code> in your <code>newrelic.js</code> file, or set <code>NEW_RELIC_DISTRIBUTED_TRACING_ENABLED</code> in your environment.</p>
  </li>
  <li>
    <p>Added a warning for too-new versions of Node.js during agent startup.</p>
  </li>
  <li>
    <p>Appropriately obfuscated SQL statements will now be included in all transaction traces.</p>
    <p>Previously, the agent would only include the SQL statements if the corresponding query was sufficiently slow.</p>
  </li>
  <li>
    <p>Added ability to execute instrumentation functions in the context of the segment the segment descriptor is describing.</p>
    <p>All <code>record*</code> methods supplied by all instrumentation shim classes now allow for a function to be executed under the context of the segment the record call will produce. This may be done by supplying a function in the <code>inContext</code> key for the segment descriptor passed to the record method.</p>
  </li>
  <li>
    <p>Reservoirs will now respect setting their size to 0.</p>
  </li>
</ul>
