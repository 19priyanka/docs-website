
<h3>Improvements</h3>
<ul>
  <li>
    <p>Websphere Liberty Profile</p>
    <p>The Java agent now <a href="/docs/agents/java-agent/frameworks/websphere-liberty-profile-installation-java">provides instrumentation for WebSphere Liberty Profile</a>. This includes web transaction visibility, Cross Application Tracing, and app server stats.</p>
  </li>
  <li>
    <p>Performance improvements</p>
    <p>The Java agent now starts more quickly so applications are available sooner. This release also reduces agent overhead at run time.</p>
  </li>
  <li>
    <p>Customize hostname displayed in APM</p>
    <p>A new configuration setting has been added: <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#display_name">process_host.display_name</a>. When set in the <strong>newrelic.yml</strong> configuration file, the display name <a href="/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name">identifies the host in the APM UI</a>, along with the hostname that the agent automatically captures.</p>
    <pre><code>process_host:
    display_name: hostname
</code></pre>
    <p>In addition, the display name can be set using the <code>NEW_RELIC_PROCESS_HOST_DISPLAY_NAME</code> environment variable. This property can be viewed in all Insights transaction events.</p>
  </li>
  <li>
    <p>WebLogic and WebSphere instance name available</p>
    <p>The instance name for WebLogic and WebSphere application servers is now available in transaction traces, traced errors, and Insights transaction events.</p>
  </li>
  <li>
    <p>Custom instrumentation of transaction attributes is disabled by default</p>
    <p>Custom attributes defined using the <strong>Instrumentation</strong> tab in the UI are now disabled by default. In order to enable these attributes, you must have High Security mode disabled and you must place the following text in the <code>common:</code> block of your <strong>newrelic.yml</strong>:</p>
    <pre><code>reinstrument:
    attributes_enabled: true
</code></pre>
  </li>
</ul>
<h3>Fixes</h3>
<ul>
  <li>
    <p>Very large thread profiles were failing to report to RPM, causing the site to display a time out message. The agent will now truncate the size of the profile before sending.</p>
  </li>
  <li>
    <p>Cross application tracing date was failing to report when using Jersey 2 endpoints.</p>
  </li>
  <li>
    <p>Spring AOP instrumentation is now disabled by default. It was exercising a bug in certain versions of Java 8 that caused the JVM to crash. To re-enable, include the following in your <strong>newrelic.yml</strong>:</p>
    <pre><code>com.newrelic.instrumentation.spring-aop-2:
       enabled: true
</code></pre>
  </li>
  <li>
    <p>RabbitMQ metrics could double-report for some versions of RabbitMQ. This was introduced in Java agent version 3.16.1 and is fixed in this version.</p>
  </li>
  <li>
    <p>In rare cases the agent would report a LinkageError.</p>
  </li>
</ul>
