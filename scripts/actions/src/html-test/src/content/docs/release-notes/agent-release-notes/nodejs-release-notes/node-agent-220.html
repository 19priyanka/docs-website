
<h3>New features</h3>
<ul>
  <li>
    <p>Added support for ignoring ranges of status codes.</p>
    <p>The configuration <code>error_collector.ignore_status_codes</code> can now take ranges of numbers. For example, <code>ignore_status_codes: ['400-404']</code> would ignore 400, 401, 402, 403, and 404.</p>
  </li>
  <li>
    <p>Experimental instrumentation for <code>async/await</code></p>
    <p>This is experimental instrumentation and has not yet been tested in a wide array of production environments. The feature is currently off by default behind a feature flag. To enable this experimental instrumentation, add <code>await_support: true</code> to the <code>feature_flag</code> setting in your agent config file.</p>
  </li>
</ul>
<h3>Improvements</h3>
<ul>
  <li>
    <p>Updated examples and documentation regarding custom transaction creation.</p>
    <p>All examples and documentation now point at the <code>newrelic.start*Transaction</code> methods.</p>
  </li>
  <li>
    <p>Transaction state is now maintained in <code>ChildProcess</code> event listeners.</p>
  </li>
  <li>
    <p>Reducing logging verbosity in the SQL query obfuscator.</p>
  </li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>
    <p>Fixed a bug when a custom collector port was provided in the configuration that prevented redirected connections from working.</p>
  </li>
  <li>
    <p>Fixed a bug in <code>Shim#record</code> that could cause an exception when trying to create a new segment as part of an ended/inactive transaction.</p>
  </li>
  <li>
    <p>Fixed issue with custom Hapi handlers causing an error.</p>
    <p>Previously custom Hapi handlers defined using the <code>server.handler()</code> method were causing the Hapi server to return a 500 error. Now they are correctly handled and recorded as middleware functions.</p>
  </li>
</ul>
