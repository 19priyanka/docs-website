
<h3>New features</h3>
<ul>
  <li>
    <p>The agent now reports event loop metrics on supported platforms.</p>
    <p>The agent will now record the number of event loop ticks per minute and CPU time spent in each tick. This feature requires v2.1.0 or higher of the optional <code>@newrelic/native-metrics</code> module, and is supported on Node versions 0.12, 4, 6, and 7.<br>You can read more about it on <a href="https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/node-vm-measurements">our docs site!</a></p>
  </li>
</ul>
<h3>Bug fixes</h3>
<ul>
  <li>The agent no longer creates a segment for each row returned from a PG query when the pg-query-stream module is used.</li>
  <li>Internal properties used in our promise instrumentation are now non-enumerable to prevent unexpected keys showing up for clients.</li>
  <li>Agent now uses safe stringification when encoding payloads in order to prevent an issue with circular references.</li>
  <li>Fixed issue with the agent holding the process open when retrying to connect to the collector.</li>
</ul>
<h3>Improvements</h3>
<ul>
  <li>Removed io.js from our test suite, since it has not been supported for some time.</li>
  <li>Quieted a log message warning users about their own settings.</li>
  <li>Fixed typo in a log message. Thanks to Dave Bobak (@davebobak) for the contribution.</li>
</ul>
