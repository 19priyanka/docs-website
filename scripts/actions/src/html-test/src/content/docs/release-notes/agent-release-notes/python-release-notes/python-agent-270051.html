
<h3>Notes</h3>
<p>This release of the Python agent adds support for the improved Django middleware introduced in Django v1.10, and also adds instrumentation for the <code>boto3</code> and <code>awscli</code> packages.</p>
<p>The agent can be installed using easy_install/pip/distribute via the <a href="https://pypi.python.org/pypi/newrelic">Python Package Index</a> or can be downloaded directly from our <a href="http://download.newrelic.com/python_agent/release/">download site</a>.</p>
<h3>New Features</h3>
<ul>
  <li>
    <p><strong>Django 1.10 Middleware Support</strong></p>
    <p>As described in <a href="https://github.com/django/deps/blob/master/final/0005-improved-middleware.rst">Django Enhancement Proposal 5</a> and in the <a href="https://docs.djangoproject.com/en/1.10/topics/http/middleware/">Django v1.10 middleware documentation</a>, Django introduced a new style of middleware in version 1.10. Previously, Django allowed you to define certain methods on middleware classes: <code>process_request()</code> methods would run before the view handler was invoked, and <code>process_response()</code> methods would run after the response was generated. Accordingly, the Python agent would instrument these as separate, self-contained methods, and in the Transaction Trace Details view, they would be displayed at the same level as the view handler in the segments hierarchy.</p>
    <p>With the improved version in Django v1.10, the middleware classes form a "chain", and each middleware calls the next middleware, until it reaches the end of the chain and calls the actual view. This means that new-style middleware acts as a wrapper, and each one is nested inside the previous one. As a result, in the Transaction Trace Details view, each middleware will be nested inside the previous one, and the actual view handler will be displayed nested inside the innermost middleware class. Furthermore, the duration of each middleware segment will include the duration of the middleware nested inside it.</p>
    <p>Because Django v1.10 is backwards-compatible with the old-style middleware, the agent also supports instrumenting old-style middleware in Django v1.10</p>
  </li>
  <li>
    <p><strong>Boto3 and AWS CLI Support</strong></p>
    <p>With this release, API calls to Amazon Web Services endpoints made with the <code>boto3</code> and <code>awscli</code> packages will be recorded as <code>External Traces</code> and will be visible in the <code>External Services</code> tab in APM. This is achieved by instrumenting the <code>botocore</code> library, which both <code>boto3</code> and <code>awscli</code> utilize.</p>
  </li>
</ul>
<h3>Bug Fixes</h3>
<ul>
  <li>
    <p><strong>Proxy Scheme Output of <code>network-config</code> Command</strong></p>
    <p>Prior to this release, the <code>newrelic-admin network-config</code> command would output the incorrect proxy scheme. That is now fixed.</p>
  </li>
  <li>
    <p><strong>Debug Console Works with Python 3</strong></p>
    <p>The <code>newrelic-admin debug-console</code> is now compatible with Python 3.</p>
  </li>
</ul>
