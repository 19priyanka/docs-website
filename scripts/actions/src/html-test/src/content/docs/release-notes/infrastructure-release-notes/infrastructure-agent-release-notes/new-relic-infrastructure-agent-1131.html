
<h2>Notes</h2>
<p>A new version of the agent has been released. Follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/install-configure-manage-infrastructure/update-or-uninstall/update-infrastructure-agent">update the Infrastructure agent</a>.</p>
<h3>Added</h3>
<ul>
  <li><a href="https://github.com/newrelic/infrastructure-agent/issues/155">#155</a> The Infrastructure agent now handles entities' registration errors the following way (Infrastructure SDK v4 protocol):
    <ul>
      <li>For request errors:
        <ul>
          <li>Connectivity failure or limit exceeded (429 or 503 status codes) will trigger a retry with an exponential backoff with a maximum backoff of 1 minute.</li>
          <li>Other types of errors (including bad payload format) will be logged, and data will be discarded.</li>
        </ul>
      </li>
      <li>For successful requests (200 status code) containing:
        <ul>
          <li>Errors: The agent will discard related data.</li>
          <li>Warnings will be logged.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="https://github.com/newrelic/infrastructure-agent/issues/156">#156</a> The Infrastructure agent entity registration now batches requests with a maximum of 1000 entities and payloads of 1Mb per call.</li>
  <li><a href="https://github.com/newrelic/infrastructure-agent/issues/123">#123</a> The embedded telemetry API now splits DM submission by number of entities following requested driven contract limitations. For more informations on the limits, see our <a href="https://docs.newrelic.com/docs/telemetry-data-platform/get-data/apis/metric-api-limits-restricted-attributes">docs</a></li>
</ul>
<h3>Changed</h3>
<ul>
  <li><a href="https://github.com/newrelic/infrastructure-agent/pull/206">#206</a> The built-in Prometheus integration has been updated to version [2.3.0] (<a href="https://github.com/newrelic/nri-prometheus/releases/tag/v2.3.0">https://github.com/newrelic/nri-prometheus/releases/tag/v2.3.0</a>). For more information about the Prometheus integration, see our <a href="https://docs.newrelic.com/docs/integrations/prometheus-integrations">documentation</a>.</li>
</ul>
<h3>Fixed</h3>
<ul>
  <li><a href="https://github.com/newrelic/infrastructure-agent/pull/203">#203</a> NFS invalid stats fix.</li>
  <li><a href="https://github.com/newrelic/infrastructure-agent/issues/188">#188</a> Prometheus summary type calculated as delta value to properly allow average calculation in NRQL.</li>
  <li><a href="https://github.com/newrelic/infrastructure-agent/issues/167">#167</a> Container processes now correctly filtered as host processes when Process Monitoring is enabled and "include_matching_metrics" rules are defined. For more information about <a href="https://docs.newrelic.com/docs/infrastructure/install-configure-manage-infrastructure/configuration/infrastructure-configuration-settings#enable-process-metrics">enabling process monitoring</a> and <a href="https://docs.newrelic.com/docs/infrastructure/install-configure-manage-infrastructure/configuration/infrastructure-configuration-settings#include-matching-metrics">filtering processes</a>, see our <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-ui-pages/infrastructure-ui/infrastructure-hosts-page#processes-tab">documentation</a>.</li>
</ul>
