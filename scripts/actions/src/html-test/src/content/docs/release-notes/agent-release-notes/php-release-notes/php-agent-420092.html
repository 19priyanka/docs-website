
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see <a href="/docs/agents/manage-apm-agents/installation/update-new-relic-agent">Update the agent</a>. For more information, see <a href="/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy">End-of-life policy</a>.</p>
</div>
<h3>Release Unavailable</h3>
<p>Due to a bug in this release related to the new explain plan support for MySQLi, we have decided to remove it from our download servers. Instead, we recommend installing <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes/php-agent-420193">version 4.20.1</a>, which includes a fix for this bug.</p>
<h3>New Features</h3>
<ul>
  <li>
    <p>Support for Laravel 5.0.</p>
    <p>We are pleased to announce support for the latest Laravel release: Laravel 5. Sites and applications using Laravel 5.0 are now automatically detected and named in the same way as Laravel 4 applications.</p>
  </li>
  <li>
    <p>Support for explain plans with MySQLi.</p>
    <p>The existing support for generating explain plans for slow SELECT queries with the PDO MySQL driver has been extended to MySQLi. Explain plans are controlled by the <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-newrelicini-settings#inivar-tt-epenabled">newrelic.transaction_tracer.explain_enabled</a> and <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-newrelicini-settings#inivar-tt-epthreshold">newrelic.transaction_tracer.explain_threshold</a> settings. These plans can be seen in the query analysis section of the <a href="/docs/apm/applications-menu/monitoring/databases-slow-queries-page">slow SQL trace</a> page in APM.</p>
    <p>Explain plans will be generated for queries issued through <code>mysqli_query</code>, <code>mysqli_real_query</code>, and <code>mysqli_stmt_execute</code>, as well as their OO equivalents <code>mysqli::query</code>, <code>mysqli::real_query</code>, and <code>mysqli_stmt::execute</code>.</p>
    <p>Please note that the <code>mysqli_multi_query</code> API is not currently supported, and that explain plans are not generated for multiple (semicolon separated) queries.</p>
  </li>
  <li>
    <p>Added Memcache connection monitoring.</p>
    <p>The <code>connect</code> and <code>pconnect</code> functions (and their OO counterparts) of the Memcache extension are now instrumented, and will generate metrics. As a result, if there is a problem with calling those functions, it will now be visible within New Relic.</p>
  </li>
</ul>
<h3>Bug Fixes</h3>
<ul>
  <li>
    <p>Laravel 4 App::after() filters are no longer overridden.</p>
    <p>In certain circumstances, the improved Laravel transaction naming code in version 4.19 of the PHP agent could result in filters registered using Laravel 4's App::after() method no longer being executed. This has been fixed.</p>
  </li>
</ul>
<h3>Upgrade Notices</h3>
<ul>
  <li>The daemon now uses openssl 1.0.1m, rather than 1.0.1l.</li>
  <li>The daemon now uses curl 7.41.0 rather than 7.40.0.</li>
</ul>
