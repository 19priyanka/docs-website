
<h3>Notes</h3>
<ul>
  <li>Dropped support for Express &#x3C;4.6.</li>
</ul>
<h3>New features</h3>
<ul>
  <li>
    <p>Improved API for writing web framework instrumentation.</p>
    <p>Introduced a new <code>WebFrameworkShim</code> class for writing instrumentation. This shim can be accessed using the <code>newrelic.instrumentWebframework</code> API method.</p>
  </li>
</ul>
<h3>Improvements</h3>
<ul>
  <li>
    <p>Incorporated fixes and features from 1.38.0, 1.38.1, and 1.38.2.</p>
  </li>
  <li>
    <p>Only one transaction is created for each request emitted by a server.</p>
    <p>Previously we created a transaction for each <em>listener</em> on the <code>request</code> event.</p>
  </li>
  <li>
    <p>Fixed the beta sign up link in the README.md.</p>
  </li>
  <li>
    <p>Rewrote instrumentation for Connect, Director, Express, Hapi, and Restify.</p>
    <p>These instrumentations were rewritten using the new <code>WebFrameworkShim</code>. As a consequence of this rewrite, all our instrumentations now have feature parity, meaning every instrumentation will create Middleware metrics for your server.</p>
    <p>Tutorials on using the new instrumentation shim can be found on our API docs: <a href="http://newrelic.github.io/node-newrelic/docs/">http://newrelic.github.io/node-newrelic/docs/</a>.</p>
  </li>
  <li>
    <p>Removed <code>express_segments</code> feature flag.</p>
    <p>This configuration previously controlled the creation of middleware metrics in our Express instrumentation. With the move to the WebFrameworkShim this was dropped.</p>
  </li>
</ul>
