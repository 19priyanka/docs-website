
<h2>Notes</h2>
<ul>
  <li>
    <p>Added official parity support for Node 12.</p>
    <ul>
      <li>
        <p>Exception: Errors resulting in unhandled rejections will no longer be scoped to the transaction that was active when the rejected promise was created.</p>
        <p>As of Node 12, the promise responsible for triggering the init async hook will no longer be passed through on the promise wrap instance. This breaks the linkage used to relate a given promise rejection to the transaction it was scheduled in.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>BREAKING</strong> Removed support for Node 6, 7, and 9.</p>
    <p>The minimum supported version is now Node v8. For further information on our support policy, see: <a href="https://docs.newrelic.com/docs/agents/nodejs-agent/getting-started/compatibility-requirements-nodejs-agent">https://docs.newrelic.com/docs/agents/nodejs-agent/getting-started/compa...</a>.</p>
    <ul>
      <li>Bumped version of <code>@newrelic/superagent</code> instrumentation to <code>v2.0.0</code>.</li>
      <li>Bumped version of <code>@newrelic/native-metrics</code> to <code>v5.0.0</code>.</li>
    </ul>
  </li>
  <li>
    <p><strong>BREAKING</strong> Bumped version of <code>@newrelic/koa</code> instrumentation to <code>v3.0.0</code> <code>@newrelic/koa</code> update includes changes to transaction naming in addition to dropping Node versions 6, 7, and 9. See <code>@newrelic/koa</code>release notes for what was included in <code>v2.0.0</code> and <code>v3.0.0</code> updates. <a href="https://github.com/newrelic/node-newrelic-koa/blob/master/NEWS.md">https://github.com/newrelic/node-newrelic-koa/blob/master/NEWS.md</a>.</p>
  </li>
  <li>
    <p><strong>BREAKING</strong> <code>max_samples_stored</code> behavior has changed to replace <code>max_samples_per_minute</code>. <code>max_samples_per_minute</code> is no longer a configuration parameter.</p>
    <p>The new behavior for <code>max_samples_stored</code> is as follows: "The agent will collect all events up to this number per minute. If there are more than that, a statistical sampling will be collected." This usage of the configuration is consistent with other New Relic APM agents.</p>
    <p>If your application has previously used <code>max_samples_per_minute</code> as an upper bound, you may need to lower the threshold to a valid maximum to avoid data being dropped on the server. No larger than 10k is recommended.</p>
  </li>
  <li>
    <p>Updated utilization callback test to point to a host that can't represent a valid provider. Previously, location where CI provider runs tests could cause test to fail.</p>
  </li>
  <li>
    <p>Added support for <code>Promise.allSettled()</code> method in Bluebird 3.7.</p>
  </li>
  <li>
    <p>Bumped <code>mongodb</code> dev dependency past security warning.</p>
  </li>
  <li>
    <p>Fixed <code>mongodb</code> versioned tests so they are self-contained by using version under test for setup/teardown instead of agent dev-dependency version.</p>
  </li>
  <li>
    <p>Forced filename resolution if not already cached on module load. This should not occur in normal/non-test scenarios but provides a fall-back to maintain functionality.</p>
  </li>
  <li>
    <p>Refactored <code>restify</code> versioned tests to be less dependent on the order of asynchronous operations.</p>
  </li>
  <li>
    <p>Updated README to reference Pug rather than Jade.</p>
  </li>
</ul>
