
<h2>Notes</h2>
<p>This release of the Python agent adds built-in <a href="https://docs.newrelic.com/docs/agents/python-agent/supported-features/use-rabbitmq-message-queues">instrumentation</a> for the <a href="https://pypi.python.org/pypi/pika">pika RabbitMQ library</a>, a message broker API which can be used to add custom instrumentation for additional message brokers, and various bug fixes.</p>
<p>The agent can be installed using easy_install/pip/distribute via the <a href="https://pypi.python.org/pypi/newrelic">Python Package Index</a> or can be downloaded directly from the New Relic <a href="http://download.newrelic.com/python_agent/release/">download site</a>.</p>
<h2>New Features</h2>
<ul>
  <li>
    <p><strong>Pika Instrumentation</strong></p>
    <p>The RabbitMQ pika library is now automatically instrumented. The agent will report data for messages sent and received by an application. Data on messages is available in both APM and Insights. Applications connected through a RabbitMQ exchange will now also be visible on Service Maps as part of Cross Application Tracing.</p>
  </li>
  <li>
    <p><strong>Message Broker API</strong></p>
    <p>A Message Broker API is now available for use in custom instrumentation. The Message Broker API will send data to <a href="https://docs.newrelic.com/docs/agents/python-agent/supported-features/use-rabbitmq-message-queues">APM</a> and Insights (through message.routingKey and message.queueName attributes) for message broker related operations.</p>
  </li>
  <li>
    <p><strong>Tornado 4.5 Support</strong></p>
    <p>The Python Agent's out-of-the-box Tornado 4 instrumentation now supports Tornado version 4.5.</p>
  </li>
  <li>
    <p><strong>Tornado AsyncIO Loop</strong></p>
    <p>In addition to the Tornado PollIOLoop, the AsyncIO loop is now supported as part of our Tornado instrumentation. When Tornado is configured to use the AsyncIO loop, data will now be sent to New Relic. Note that AsyncIO is not yet generally supported.</p>
  </li>
</ul>
<h2>Bug Fixes</h2>
<ul>
  <li>
    <p><strong>SQL comments beginning with a "--" resulted in an improperly parsed query</strong></p>
    <p>When executing SQL queries with comments that used the "--" comment syntax, the database operation and table was not properly parsed resulting in queries being absent from the Databases tab. Queries with "--" comments should now show up in the Database tab.</p>
  </li>
  <li>
    <p><strong>AttributeError generated when using Tornado 4 HTTPRequest objects in an external web call</strong></p>
    <p>When using the Tornado 4 HTTPRequest object as an argument to HTTPClient.fetch, it was possible to generate an AttributeError. The web call now completes as expected.</p>
  </li>
  <li>
    <p><strong>Slow network connections may result in lost data</strong></p>
    <p>When, due to a slow network, a 408 error is returned from New Relic data was not retransmitted. Data is now retransmitted when a 408 is received.</p>
  </li>
</ul>
