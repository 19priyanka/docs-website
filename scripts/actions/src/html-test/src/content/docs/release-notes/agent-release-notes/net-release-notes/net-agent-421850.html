
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see <a href="/docs/agents/manage-apm-agents/installation/update-new-relic-agent">Update the agent</a>. For more information, see <a href="/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy">End-of-life policy</a>.</p>
</div>
<h3>New Features</h3>
<ul>
  <li>Customers who use the MongoDB.Driver for .NET in their applications will start to see MongoDB-based transaction segments. Operations will include data querying, aggregation, index creation/retrieval, data insertion/update/removal and bulk write operations. MongoDB datastore transactions will appear in the <strong><a href="/docs/apm/applications-menu/monitoring/databases-slow-queries-page">Monitoring > Databases</a></strong> APM page. The .NET agent uses the 1.10.0 version of the MongoDB Driver for .NET but will report instrumentation for applications using older versions of the driver.</li>
  <li>Provides support for NServiceBus instrumentation, which will appear as transaction segments containing <strong>Message Broker</strong>, the queue name and the action (such as <strong>Produce</strong> or <strong>Consume</strong>). Since NServiceBus can be used for inter-application communication, nodes will also appear within the <a href="/docs/apm/transactions/cross-application-traces/cross-application-tracing">Cross-Application Tracing map</a> in APM. This release supports NServiceBus 5.0 and later.</li>
</ul>
<h3>Fixes</h3>
<ul>
  <li>Fixes a bug where WCF applications hosted in IIS with compatibility mode disabled would not receive any useful transaction traces.</li>
  <li>Fixes a bug where WCF applications hosted in IIS with compatibility mode disabled would see twice as much throughput and *.svc transactions.</li>
  <li>Fixes a bug where some frameworks (WCF, Umbraco, DotNetNuke, etc.) were not having their transactions named as they were in agent 3.x and instead were getting named by the route.</li>
  <li>Fixed a bug where server-side redirects would cause transactions to be dropped.</li>
  <li>Fixes a bug where default page redirection in IIS classic pipeline mode would cause the redirection to fail and a 404 to occur instead.</li>
  <li>Fixes a bug where an exception could be thrown if the Content Type of an outgoing payload could not be parsed.</li>
  <li>Fixes an issue where the Azure Cloud Services NuGet package will not install on roles that are added as part of a second Cloud Service project.</li>
  <li>Fixes a bug where transactions would sometimes not show up in the UI.</li>
</ul>
<h3>Notes</h3>
<ul>
  <li>There is a known issue in version 4.2.185.0 of the .NET agent which prevents auto-injection in certain specific cases. This issue only affects WebForms websites running in integrated pipeline mode, and only manifests when navigating to the website's root URL.</li>
</ul>
