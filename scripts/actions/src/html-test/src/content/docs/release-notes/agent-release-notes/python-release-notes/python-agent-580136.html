
<h2>Notes</h2>
<p>This release of the Python agent includes a new API for adding custom attributes on span events, improvements to external type spans, deprecations, and bug fixes.</p>
<p>The agent can be installed using easy_install/pip/distribute via the <a href="https://pypi.python.org/pypi/newrelic">Python Package Index</a> or can be downloaded directly from the New Relic <a href="http://download.newrelic.com/python_agent/release">download site</a>.</p>
<h2>New features</h2>
<ul>
  <li>
    <p><strong>Add new api newrelic.agent.add_custom_span_attribute</strong></p>
    <p>There is now a public API method allowing users to add custom attributes directly to spans.</p>
  </li>
</ul>
<h2>Improved features</h2>
<ul>
  <li>
    <p><strong>External spans now contain HTTP response code</strong></p>
    <p>External HTTP spans will now contain a new attribute <code>http.statusCode</code> with the http response code for each external call made. This attribute will be added when using any supported HTTP client.</p>
  </li>
</ul>
<h2>Deprecations</h2>
<ul>
  <li>
    <p><strong>LambdaHandlerWrapper and lambda_handler APIs are deprecated</strong></p>
    <p>The Lambda API functionality has been moved to a separate package called <a href="https://pypi.org/project/newrelic-lambda/">newrelic-lambda</a>. All future lambda implementations should use the new package for lambda monitoring.</p>
  </li>
</ul>
<h2>Bug fixes</h2>
<ul>
  <li>
    <p><strong>Fix application crash when using a non-WSGI framework with the Synthetics product</strong></p>
    <p>When the Synthetics product was used with an application utilizing a non-WSGI web framework (such as aiohttp), a crash could have occurred if an outbound HTTP request was attempted from within the transaction. This crash has now been fixed.</p>
  </li>
  <li>
    <p><strong>The Python agent generates an invalid nr tracestate entry</strong></p>
    <p>Under certain random conditions, the agent may have generated an invalid New Relic w3c tracestate entry, resulting in potentially missing parts of traces. This invalid tracestate entry would not impact propagation of tracestate values from other vendors.</p>
  </li>
</ul>
<h2>Known issues and workarounds</h2>
<ul>
  <li>If a .NET agent is initiating distributed traces as the root service, you must update that .NET agent to version 8.24 or later before upgrading your downstream New Relic Python agents to this agent release.</li>
</ul>
