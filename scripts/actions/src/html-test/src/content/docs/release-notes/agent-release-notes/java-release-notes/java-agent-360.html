
<h3>Notes</h3>
<ul>
  <li>
    <p>Enhanced XML for custom instrumentation</p>
    <p>The custom XML xsd has been enhanced to support the instrumentation of interfaces, subclasses, and method annotations. These enhancements give you much more flexibility to identify transactions and add monitoring of components without changes to your source code.</p>
  </li>
  <li>
    <p>Fix: Agent could cause VerifyError</p>
    <p>In specific cases, the agent could cause verification errors.</p>
  </li>
  <li>
    <p>Fix: Embedded Jetty instrumentation</p>
    <p>Starting with the 3.3.1 agent, transactions were not reported for some configurations of embedded Jetty.</p>
  </li>
  <li>
    <p>Fix: Exceptions incorrectly reported</p>
    <p>In some cases exceptions were reported even if configured to be ignored.</p>
  </li>
  <li>
    <p>Fix: Embedded Tomcat not reporting JMX Builtin metrics</p>
    <p>In newer versions of embedded Tomcat the agent wasn't collecting JMX metrics properly.</p>
  </li>
  <li>
    <p>Fix: Apache HttpClient 4.3 not consistently reported</p>
    <p>The Java agent now instruments Apache HttpClient 4.3 calls, including the new call patterns introduced in 4.3.</p>
  </li>
  <li>
    <p>Fix: RESTEasy transactions</p>
    <p>In certain instances, transactions between applications were not getting linked correctly when RESTEasy was used.</p>
  </li>
  <li>
    <p>Fix: JBoss 7 port not reported correctly</p>
    <p>The port was not reported correctly for some JBoss users.</p>
  </li>
  <li>
    <p>Fix: Auto-RUM bug</p>
    <p>Starting in version 3.5.0 of the Java agent, in rare cases Auto-RUM could cause the New Relic footer script to be placed within a script tag.</p>
  </li>
  <li>
    <p>Fix: Errors not reporting with some versions WebSphere 7.0</p>
    <p>In some Fix Packs of WebSphere 7.0, the agent did not report errors properly.</p>
  </li>
  <li>
    <p>Fix: Agent works properly inside a folder with + in the path</p>
    <p>The Java agent did not initialize properly when in a folder with a + character in the pathname.</p>
  </li>
  <li>
    <p>Fix: Agent HttpClient logging</p>
    <p>The Agent's HttpClient was writing to the app server's log when it discovered a log4j appender.</p>
  </li>
  <li>
    <p>Fix: Inconsistent State with Play 1.2.x</p>
    <p>In some cases the agent was logging an "Inconsistent state!" message and not reporting a transaction.</p>
  </li>
  <li>
    <p>Fix: Invalid errors for Stripes</p>
    <p>The Agent was erroneously reporting spurious 404 errors for web apps using Stripes.</p>
  </li>
  <li>
    <p>Fix: Hanging threads in the Agent with SQL Prepared Statements</p>
    <p>Under rare circumstances, threads could hang in the Agent when an application with multiple threads made heavy use of SQL Prepared Statements.</p>
  </li>
  <li>
    <p>Fix: Request queue time was incorrect for some versions of nginx</p>
    <p>Nginx fractional second header values for queue and server start times are now parsed correctly.</p>
  </li>
  <li>
    <p>Fix: XML entity expansion with non-SSL connection to New Relic</p>
    <p>Fixed an XML entity expansion vulnerability that only occurs when the agent is configured with ssl: false; the default is true. The agent already has other protection against unauthorized entity expansion. This fix is an additional layer of protection.</p>
  </li>
  <li>
    <p>Fix: In rare case, agent can cause application thread to hang</p>
    <p>Under rare circumstances, an application thread could hang when an application with multiple threads made heavy use of SQL Prepared Statements.</p>
  </li>
</ul>
