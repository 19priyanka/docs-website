
<p>Our browser monitoring's <strong>AJAX</strong> UI shows recent AJAX requests from browsers to external endpoints, such as HTTP or HTTPS domains. This information helps identify problems with the end user experience when you have time-consuming or failing AJAX calls that update parts of a webpage on your site.</p>
<h2>What to troubleshoot [#troubleshooting]</h2>
<p>Here are some troubleshooting tips for identifying performance problems with your app:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Troubleshooting AJAX calls</p>
      </div>
      <div>
        <p>Examples</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Problems across the entire request</p>
      </div>
      <div>
        <p>If you're not sure where the problem is, or if you want to trace your requests from start to finish, click the <a href="/docs/browser/new-relic-browser/browser-pro-features/browser-data-distributed-tracing">distributed tracing</a> link in the <strong>AJAX</strong> UI.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Timing problems</p>
      </div>
      <div>
        <p>Total <a href="#time-percentage-example">time percentages</a>, throughput requests per minute (rpm), and average data transfer rates per request can help identify timing problems.</p>
        <ul>
          <li>Look for large spikes in the <strong>AJAX</strong> summary page's <strong>Average data transfer per request</strong> chart.</li>
          <li>From the individual call's <strong>AJAX performance</strong> tab, look for correlations between high callback time values and data transfer rates.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Endpoint problems</p>
      </div>
      <div>
        <p>Look for any outlier endpoints, and investigate individual requests made from them.</p>
        <p>The <strong>Status codes</strong> chart on the <strong>AJAX</strong> summary page provides information about the return behavior from the call. If you see a large number of status codes outside the <code>200</code> range, this may indicate a problem with your AJAX endpoints.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Specific webpage location problems</p>
      </div>
      <div>
        <p>Examine potential AJAX problems within the context of the page where they load. Select an AJAX transaction, then select any trace from the <a href="/docs/browser/browser-monitoring/browser-pro-features/session-traces-explore-webpages-life-cycle"><strong>Session traces with AJAX</strong></a> table.</p>
      </div>
    </div>
  </div>
</div>
<h2>How to do it [#ajax-dashboard]</h2>
<p>To troubleshoot problems with AJAX requests for your app:</p>
<ul>
  <li>
    <p>Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Browser > (select an app) > AJAX</strong>.</p>
    <p>OR</p>
  </li>
  <li>
    <p>Go directly to the selected app's <a href="/docs/browser/browser-monitoring/getting-started/browser-summary-page"><strong>Browser Summary</strong> page</a>, then click the <strong>AJAX response time</strong> chart's title.</p>
  </li>
</ul>
<p>
  <img src="./images/nr-one-ajax-browser.png" alt="NR One browser monitoring: AJAX summary" title="NR One browser monitoring: AJAX summary">
</p>
<p><strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Browser > (select an app) > AJAX</strong>: Identify problems due to time-consuming or failing AJAX calls that update parts of a webpage on your site.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWpheC1zdW1tYXJ5In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJTdGFydCB3aXRoIEFKQVggc3VtbWFyeSBjaGFydHMifV0=">
    <div data-prop-text="title">Start with AJAX summary charts</div>
    <p>The summary page provides several charts to help you troubleshoot AJAX calls.</p>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>AJAX summary page</p>
          </div>
          <div>
            <p>Comments</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>Groups and filters</p>
          </div>
          <div>
            <p>Use any of the available <strong>Sort by</strong> or filter options in the UI. All AJAX requests that take longer than two minutes are filtered out automatically.</p>
            <p>You can also <a href="/docs/browser/new-relic-browser/configuration/group-browser-metrics-urls">group your browser metrics by URLs</a>. For example, this is useful with allow lists and deny lists.</p>
          </div>
        </div>
        <div>
          <div>
            <p>Endpoints</p>
          </div>
          <div>
            <p>The <strong>Throughput</strong> chart shows the five endpoints with the highest throughput. If the call has more than five endpoints, they are consolidated on the chart as <strong>Other</strong>.</p>
          </div>
        </div>
        <div>
          <div>
            <p>Calls from New Relic</p>
          </div>
          <div>
            <p>You may see our own browser monitoring AJAX calls to your app. This is normal, because all activity is captured during the browser session.</p>
          </div>
        </div>
        <div>
          <div>
            <p>Missing browser data</p>
          </div>
          <div>
            <p>AJAX timing details are not available from IE 7, IE 8, or Chrome for iOS browsers. If you do not see expected data from other browsers, follow our <a href="/docs/browser/new-relic-browser/troubleshooting/troubleshoot-ajax-data-collection">AJAX troubleshooting procedures</a>.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWpheC1wZXJmb3JtYW5jZXgifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdldCBkZXRhaWxzIGJ5IGNhbGxzIG9yIHBhZ2Ugdmlld3MifV0=">
    <div data-prop-text="title">Get details by calls or page views</div>
    <p>After selecting a specific call from the <strong>AJAX</strong> summary page, you can drill down into detailed information with the <strong>AJAX performance</strong> tab. This includes a direct link to <a href="/docs/browser/browser-monitoring/browser-pro-features/session-traces-explore-webpages-life-cycle">session trace details</a>.</p>
    <p>From here you can also select the tab to get performance data by page views. (If your app server requests greatly outnumber your browser <code>PageView</code> transactions, this is because some requests to your back end are made through AJAX. For more information, see our <a href="/docs/browser/new-relic-browser/troubleshooting/app-server-requests-greatly-outnumber-browser-pageview-transactions">troubleshooting procedures</a>.)</p>
    <p>
      <img src="./images/nr-one-ajax-details.png" alt="NR One browser monitoring: AJAX details" title="NR One browser monitoring: AJAX details">
    </p>
    <p><strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Browser > (select an app) > AJAX > (select an AJAX call)</strong>: This example shows performance details for a specific AJAX call. You can also view performance details by page views.</p>
    <p>AJAX endpoints on the <strong>Average response time</strong> chart appear either as four or two time periods. This depends on whether there are <a href="/docs/apm/transactions/cross-application-traces/cross-application-tracing#security">cross application tracing headers</a>.</p>
    <ul>
      <li>Four time periods (<strong>Application time</strong>, <strong>Queue time</strong>, <strong>Network time</strong>, and <strong>Callback time</strong>): These AJAX calls are made against apps monitored by APM agents that provide cross application tracing headers.</li>
      <li>Two time periods (<strong>Response time</strong> and <strong>Callback time</strong>): These AJAX calls are made against apps that either are not monitored by APM agents, or they are monitored by agents that do not provide cross application tracing headers.</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGlzdHJpYnV0ZWQgdHJhY2luZyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiVHJhY2UgeW91ciByZXF1ZXN0cyBmcm9tIHN0YXJ0IHRvIGZpbmlzaCJ9XQ==">
    <div data-prop-text="title">Trace your requests from start to finish</div>
    <p>To trace your requests from start to finish, you can also click the <a href="/docs/browser/new-relic-browser/browser-pro-features/browser-data-distributed-tracing">distributed tracing</a> link in the <strong>AJAX</strong> UI.</p>
    <ul>
      <li>To view a list of distributed traces, click the link in the <strong>AJAX</strong> UI at the AJAX summary level.</li>
      <li>To view all traces filtered by your application and a specific request type, click the distributed tracing link for the request you select in the <strong>AJAX</strong> UI.</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidGltZS1wZXJjZW50YWdlLWV4YW1wbGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlRpbWUgcGVyY2VudGFnZSBleGFtcGxlIn1d">
    <div data-prop-text="title">Time percentage example</div>
    <p>When you sort the AJAX category list by <strong>Total time percentage</strong>, the list shows the percentage for each AJAX category. Also, the chart shows the top requests with the highest time percentages.</p>
    <p>To present this information, Browser takes the cumulative request time for each AJAX category and divides it by the cumulative request time for all AJAX requests. This helps identify where to optimize response times, because high throughput requests will be favored over low throughput requests.</p>
    <p><strong>Example: Calculating time percentages for two AJAX categories</strong></p>
    <p>This example uses two AJAX categories: <code>api1.example.com</code> and <code>api2.example.com</code>.</p>
    <ul>
      <li>
        <p>Your <code>api1.example.com</code> is hit 1 time, and it takes 1 second (1000ms) to respond (1 x 1 second = 1 second).</p>
      </li>
      <li>
        <p>Your <code>api2.example.com</code> is hit 500 times, and it takes 1ms to respond (500 x 1ms = 500ms, or 0.5 second).</p>
        <p>The cumulative request time for all of your AJAX categories is 1500 ms, or 1.5 seconds. To get the time percentages, divide each AJAX category by the cumulative request time, and then multiply by 100 for the percentage.</p>
        <p>So <code>api1.example.com</code> is 67% (1000 divided by 1500, times 100) and <code>api2.example.com</code> is 33% (500 divided by 1500, times 100) of the total time percentage.</p>
        <div data-component="Table" data-prop="W10=">
          <div>
            <div>
              <div>
                <p><strong>Time calculations</strong></p>
              </div>
              <div>
                <p><strong>api1</strong></p>
              </div>
              <div>
                <p><strong>api2</strong></p>
              </div>
            </div>
          </div>
          <div>
            <div>
              <div>
                <p>Number of hits</p>
              </div>
              <div>
                <p>1</p>
              </div>
              <div>
                <p>500</p>
              </div>
            </div>
            <div>
              <div>
                <p>Time to respond</p>
              </div>
              <div>
                <p>1 second (1000ms)</p>
                <p>1 hit x 1000ms = 1000ms (1 second)</p>
              </div>
              <div>
                <p>1 millisecond (1ms)</p>
                <p>500 hits x 1ms = 500ms (.5 second)</p>
              </div>
            </div>
            <div>
              <div>
                <p>Cumulative request time for all AJAX categories</p>
              </div>
              <div>
                <p>1000ms + 500ms = 1500ms (1.5 seconds)</p>
              </div>
              <div>
                <p>1000ms + 500ms = 1500ms (1.5 seconds)</p>
              </div>
            </div>
            <div>
              <div>
                <p>Time percentage = Category / 1500ms cumulative request time x 100 for percentage</p>
              </div>
              <div>
                <p>1000ms / 1500 x 100 = 67%</p>
              </div>
              <div>
                <p>500ms / 1500 x 100 = 33%</p>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>
<h2>What's next [#next]</h2>
<p>In addition to the <strong>AJAX</strong> UI, you can also use these resources:</p>
<ul>
  <li>Help prevent problems from occurring by using <a href="/docs/alerts-applied-intelligence/new-relic-alerts/get-started/introduction-alerts">alerts</a> and <a href="/docs/alerts-applied-intelligence/new-relic-alerts/get-started/introduction-applied-intelligence">Applied Intelligence</a> for your key performance indicators.</li>
  <li>Use <a href="/docs/browser/single-page-app-monitoring/get-started/introduction-single-page-app-monitoring">single-page app (SPA) monitoring</a>. This is valuable for any app that uses AJAX requests to pull content dynamically and create a fluid user experience.</li>
  <li><a href="/docs/query-your-data/explore-query-data/explore-data/introduction-querying-new-relic-data">Query your data</a> in the UI or by API. For example, you can query with <a href="/docs/insights/insights-data-sources/default-data/browser-default-events-insights">default browser events</a>, use <a href="https://docs.newrelic.com/attribute-dictionary?attribute_name=&#x26;events_tids%5B%5D=8317">SPA <code>AjaxRequest</code></a> for geographic and browser data, or get your own <a href="/docs/telemetry-data-platform/get-data-new-relic/getting-started/introduction-new-relic-data-ingest-apis-sdks">custom data</a> into New Relic.</li>
  <li>Visualize and share your data with <a href="/docs/insights/use-insights-ui/manage-dashboards/chart-types">charts</a> and <a href="/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards">dashboards</a>.</li>
</ul>
