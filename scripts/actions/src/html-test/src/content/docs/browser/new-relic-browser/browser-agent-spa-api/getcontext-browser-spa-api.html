
<h2>Syntax</h2>
<pre><code>newrelic.interaction().getContext(function $callback)
</code></pre>
<p>Stores values for the current SPA interaction asynchronously in Browser.</p>
<h2>Requirements</h2>
<p>Agent version <a href="https://docs.newrelic.com/docs/release-notes/new-relic-browser-release-notes/browser-agent-release-notes">nr-963</a> or higher.</p>
<h2>Description</h2>
<p>This API method takes a callback that will be invoked asynchronously with the context object associated with the current interaction. Use this for aggregating data associated with the current interaction. These values can be used in other parts of your code.</p>
<p>This context is also provided by the <a href="/docs/browser/new-relic-browser/browser-agent-spa-api/spa-on-end">onEnd</a> call.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$callback</code></p>
        <p><em>function</em></p>
      </div>
      <div>
        <p>Required. A function that accepts the interaction context object as its only argument.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>This method returns the same API object created by <code>interaction()</code>.</p>
<h2>Examples</h2>
<pre><code>router.addRoute('/products/{productId}', params => {
    newrelic.interaction().getContext(ctx => ctx.productId = params.productId)
    renderProduct(params.productId)
    updateHash()
})

window.addEventListener('hashchange', (ev) => {
    const interaction = newrelic.interaction()
    interaction.getContext(ctx => {
        if (ctx.productId) {
            interaction.setAttribute('productId', ctx.productId)
        }
    })
})
</code></pre>
