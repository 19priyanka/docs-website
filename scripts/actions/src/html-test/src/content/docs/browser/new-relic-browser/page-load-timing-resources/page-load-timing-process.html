
<p>This document explains:</p>
<ul>
  <li>How a web page loads</li>
  <li>How <a href="/docs/browser/new-relic-browser/getting-started/new-relic-browser">Browser monitoring</a> measures page load timing, also known as real user monitoring (RUM)</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>This is a description of traditional, synchronous page load timing. Browser can also monitor <a href="/docs/browser/single-page-app-monitoring/get-started/welcome-single-page-app-monitoring">asynchronous page load timing</a>.</p>
</div>
<h2>Page load process [#process]</h2>
<p>Here are the major steps in the loading of most web pages. The numbers 1-6 in the diagram correspond to the numbered steps below.</p>
<p>
  <img src="./images/browser-page-load-timeline.png" alt="browser-pageload-timeline.png" title="browser-pageload-timeline.png">
</p>
<p><strong>Page load timeline:</strong> The steps involved in a web page load. Browser monitoring charts display the following segments of that process: <strong><a href="#h3-network">Network</a></strong>, <strong><a href="#h3-app-time">Web application</a></strong>, <strong><a href="#h3-dom">DOM processing</a></strong>, and <strong><a href="#h3-page">Page rendering</a></strong>.</p>
<ol>
  <li>A page load begins when a user selects a hyperlink, submits a form, or types a URL in a browser. This is also referred to as the <strong>initial request</strong> or the <strong>navigation start</strong>. The user's action sends a <strong>request</strong> across the network to the web application server.</li>
  <li>The request reaches the application for processing. (The request may take some time to start being processed. This could be the result of <strong>request queuing</strong> or it could be other factors.)</li>
  <li>The app finishes processing and sends an HTML <strong>response</strong> back across the network to the user's browser. This is sometimes referred to as <strong>response start</strong> or <strong>first byte</strong>.</li>
  <li>The user's browser receives the HTML response and starts to process the Document Object Model, or <strong>DOM</strong>.</li>
  <li>The DOM finishes loading; this point is known as <strong>DOM ready</strong>. Using the DOM, the user's browser starts to render the page.</li>
  <li>The page finishes rendering in the user's browser and the <strong>window load event</strong> fires. (For pages that use <a href="/docs/browser/single-page-app-monitoring/get-started/welcome-single-page-app-monitoring">asynchronous loading</a>, some elements may continue to load after the window load event occurs.)</li>
</ol>
<h2>Page load time charts in Browser monitoring [#page-load-charts]</h2>
<p>Browser monitoring captures the major page load timing segments in the <a href="/docs/browser/new-relic-browser/getting-started/browser-overview-website-performance-glance">Browser <strong>Summary</strong> page</a> and the <a href="/docs/browser/new-relic-browser/additional-standard-features/page-views-understanding-your-sites-popularity"><strong>Page views</strong> page</a>. If you have SPA monitoring enabled, you will have access to both this chart and <a href="/docs/browser/single-page-app-monitoring/use-spa-data/view-spa-data-new-relic-browser">SPA-specific charts</a>. The charts show:</p>
<ul>
  <li>Network</li>
  <li>Web application time</li>
  <li>DOM processing</li>
  <li>Page rendering</li>
  <li>Other segments as applicable, such as request queuing</li>
</ul>
<p>The chart colors match the colors in the <a href="#process">page load timing diagram</a>.</p>
<p>
  <img src="./images/page_load_overview.png" alt="page_load_overview.png" title="page_load_overview.png">
</p>
<p><strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Browser > (select an app) > Summary</strong>: The load time chart appears on the <strong>Summary</strong> and <strong>Page views</strong> page.</p>
<p>The way Browser collects these times depends on the browser's capability to use the <a href="/docs/browser/new-relic-browser/page-load-timing-resources/instrumentation-browser-monitoring">Navigation Timing Specification API</a>. You can add custom page load timing events with the <a href="/docs/browser/new-relic-browser/browser-agent-apis/reporting-data-events-browser-agent-api">Browser agent API</a>.</p>
<p>Here are descriptions of the activity included in the Browser load time chart segments:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDMtYXBwLXRpbWUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IldlYiBhcHBsaWNhdGlvbiJ9XQ==">
    <div data-prop-text="title">Web application</div>
    <p>The web application time includes the time spent on the application server. This can only be determined if the browser instrumentation for page load timing was provided by an APM agent.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDMtbmV0d29yayJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTmV0d29yayJ9XQ==">
    <div data-prop-text="title">Network</div>
    <p>The Network layer includes time spent in redirects as well as in requesting and receiving HTML. It does not include time on the server or for static assets.</p>
    <p>Network time measurement starts from the initial click on a link. Network time includes DNS and may include more than one lookup if you have redirects on your site, TCP (including the firewall, unless you have configured <a href="/docs/apm/other-features/request-queueing/request-queuing-tracking-front-end-time">request queue time monitoring</a>), and SSL connect time.</p>
    <ul>
      <li>
        <p>If you <strong>have</strong> configured request queue time monitoring, then the network time <strong>does not</strong> include any of the request queue time that occurs after the X-Request header.</p>
      </li>
      <li>
        <p>If you <strong>have not</strong> configured request queue time monitoring, then the network time <strong>does</strong> include all of the request queue time.</p>
        <p>The <a href="/docs/browser/new-relic-browser/page-load-timing-resources/instrumentation-browser-monitoring">Navigation Timing Specification API</a> provides a detailed breakdown of network time. (For old browsers, the timer starts on the "before unload event.")</p>
        <p>For apps that have been <a href="/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser">deployed using the copy/paste method</a>, Browser includes web app and queue time in Network time. This is because Browser relies on the server-side agent to pass the application values to the Browser agent through auto-injection.</p>
        <p>For more information about how this back-end time breaks down from the browser's point of view, use the <a href="/docs/browser/new-relic-browser/browser-pro-features/session-traces-exploring-webpages-life-cycle"><strong>Session traces</strong> page</a>. The session traces report on all the network related events available, so you can see on a case-by-case basis how the browser is spending time on DNS lookups and other network events.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
          <p>Even with request queuing configured, the front-end server's setup can still affect network time. This is because the front-end server does not add the queueing time header until after it actually accepts and processes the request. If the front-end server is configured in some way that causes requests to start backlogging and to queue up in the listener socket that the front-end server uses to accept connections, then you will see network time increase for browser monitoring. The queueing time headers can never account for backlog in this listener socket.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDMtZG9tIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJET00gcHJvY2Vzc2luZyJ9XQ==">
    <div data-prop-text="title">DOM processing</div>
    <p>DOM processing is the time it takes to parse the HTML into a DOM and retrieve or execute synchronous scripts. If the browser starts to download images in this phase, page load timing will capture the image load time.</p>
    <p>The DOM processing and page rendering layers include network time for static assets (assets that are not explicitly retrieved after page load). However, if a script on the page dynamically inserts image tags and loads images after the server or content delivery system (CDN) finishes, page load timing cannot capture the image load time.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDMtcGFnZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUGFnZSByZW5kZXJpbmcifV0=">
    <div data-prop-text="title">Page rendering</div>
    <p>The Page rendering phase is the time between the DOM being complete and the window load event. This phase measures browser-side processing of the page content, and often includes time for scripts and static assets to load.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDMtcmVxdWVzdCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUmVxdWVzdCBxdWV1aW5nIn1d">
    <div data-prop-text="title">Request queuing</div>
    <p><strong>Request queuing</strong> will be displayed in the load time chart if your account has both Browser and APM linked. In New Relic, <a href="/docs/apm/applications-menu/features/request-queuing-tracking-front-end-time">request queuing</a> refers to the time between a request entering your production systems and it reaching your application. Depending on the specifics of your production infrastructure, this time may include an actual queue that requests enter, or it may represent other functions that take time (such as load balancing or internal network latency).</p>
  </div>
</div>
<h2>App server requests vs. browser transactions [#rpm-vs-ppm]</h2>
<p>Often the number of app server transactions (requests per minute or <strong>rpm</strong>) is larger than the number of browser transactions (pages per minute or <strong>ppm</strong>) for the same application. For more information, see the <a href="/docs/browser/new-relic-browser/troubleshooting/app-server-requests-greatly-outnumber-browser-transactions">troubleshooting procedures</a>.</p>
<h2>Outliers</h2>
<p>No matter how well your application performs, there will be some slow browsers, platforms, and networks that make your overall aggregate response times appear slower. To minimize the skew caused by outliers, page load timing clamps and scales the end user response times that are greater than 4.5 times your application's Browser Apdex T setting to 4.5 times the Apdex T, or to 13.5 seconds, whichever is greater. (<a href="/docs/data-analysis/user-interface-functions/histograms-viewing-data-distribution#outliers">Histogram outliers</a> are cut off at 95%.)</p>
<p>For example, if your application's <a href="/docs/browser/new-relic-browser/installation-configuration/browser-settings-ui-options-browser-monitoring#apdex">end user Apdex T threshold</a> is 8 seconds, those response times will be clamped at 36 seconds. This minimizes the impact of these response times on your overall application but still provides accounting for "frustrated" Apdex scores.</p>
<p>For <a href="/docs/browser/single-page-app-monitoring/get-started/welcome-single-page-app-monitoring">SPA monitoring</a>, outliers are handled differently. When the duration of an initial page load or route change reaches 30 minutes, that event is treated as invalid data and is discarded.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/browser/new-relic-browser/page-load-timing-resources/instrumentation-page-load-timing">Instrumentation for page load timing</a> (JavaScript elements, data transmission)</li>
  <li><a href="/docs/browser/new-relic-browser/page-load-timing-resources/cached-pages">Cached pages</a> (how the New Relic agents deal with cached pages, and how browser traces are affected by cached pages)</li>
  <li><a href="/docs/browser/new-relic-browser/page-load-timing-resources/session-tracking">Session tracking</a> (how an application's session count relates to its page throughput)</li>
</ul>
