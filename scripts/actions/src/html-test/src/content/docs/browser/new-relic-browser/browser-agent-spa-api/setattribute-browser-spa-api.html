
<h2>Syntax</h2>
<pre><code>newrelic.interaction().setAttribute(string $key, any $value)
</code></pre>
<p>Adds a custom SPA attribute only to the current interaction in Browser.</p>
<h2>Requirements</h2>
<p>Agent version <a href="https://docs.newrelic.com/docs/release-notes/new-relic-browser-release-notes/browser-agent-release-notes">nr-963</a> or higher.</p>
<h2>Description</h2>
<p>This method adds a custom attribute to an interaction. If saved, this attribute will be exposed as a new property on the resulting <a href="/docs/insights/explore-data/attributes/browser-default-attributes-insights#browserinteraction-attributes"><code>BrowserInteraction</code></a> event. Unlike attributes added with <a href="https://docs.newrelic.com/docs/browser/new-relic-browser/browser-agent-apis/browser-api-newrelicsetcustomattribute"><code>setCustomAttribute()</code></a>, an attribute added to an interaction will only apply to the current interaction, and it will not be added to <a href="/docs/insights/explore-data/attributes/browser-default-attributes-insights#pageaction-list"><code>PageAction</code></a> events.</p>
<p>New Relic merges these custom attributes with the custom attributes set by calling <a href="/docs/browser/new-relic-browser/browser-agent-apis/browser-api-newrelicsetcustomattribute"><code>setCustomAttribute()</code></a> and with custom attributes set by a server-side agent.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Order of precedence</strong></p>
      </div>
      <div>
        <p><strong>Custom attributes</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Highest level</p>
      </div>
      <div>
        <p><code>BrowserInteraction</code> attributes set with the SPA API: These overwrite attributes set in the other two ways.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Next level</p>
      </div>
      <div>
        <p>Attributes set by <code>setCustomAttribute()</code>: These overwrite server-side custom attributes.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Lowest level</p>
      </div>
      <div>
        <p>Custom attributes set server-side.</p>
      </div>
    </div>
  </div>
</div>
<p>Errors for custom attributes will be included in events on the <a href="/docs/browser/new-relic-browser/browser-pro-features/javascript-errors-page-detect-analyze-errors">JS Errors page</a>. To view or log errors for a custom attribute via API, use the Browser API's <a href="/docs/browser/new-relic-browser/browser-agent-spa-api/newrelicnoticeerror-browser-agent-api"><code>noticeError</code></a> call.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. Used as the attribute name on the <code>BrowserInteraction</code> event.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$value</code></p>
        <p><em>any</em></p>
      </div>
      <div>
        <p>Required. Used as the attribute value on the <code>BrowserInteraction</code> event. This can be a string, number, boolean, or object. If it is an object, New Relic serializes it to a JSON string.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>This method returns the same API object created by <code>interaction()</code>.</p>
<h2>Examples</h2>
<pre><code>router.addRoute('/profile', () => {
    const user = getCurrentUser()
    newrelic.interaction()
        .setAttribute('username', user.username)
        .setAttribute('userId', user.id)
    renderProfile(user)
})
</code></pre>
