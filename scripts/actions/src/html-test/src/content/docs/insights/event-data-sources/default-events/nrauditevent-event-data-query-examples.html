
<p>To view changes made in your New Relic account, you can query <a href="/docs/insights/use-insights-ui/manage-account-data/query-account-audit-logs-nrauditevent"><code>NrAuditEvent</code> events</a>.</p>
<h2>Available events and attributes [#attributes]</h2>
<p>The <code>NrAuditEvent</code> is created by New Relic services to record configuration changes made in New Relic products. The data gathered for this event includes the type of account change, actor (user or API key) that made the change, a human-readable description of the action taken, and a timestamp for the change.</p>
<p>To see the attributes available on this event, see <a href="https://docs.newrelic.com/attribute-dictionary?attribute_name=&#x26;events_tids%5B%5D=8287"><code>NrAuditEvent</code>.</a></p>
<h2>Example NRQL queries for accounts [#default-attributes]</h2>
<p>These examples show some of the ways you can use standard <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-since">NRQL syntax (<code>COUNT</code>, <code>SINCE</code>, <code>FACET</code>, etc.)</a> with <code>NrAuditEvent</code> attributes in NRQL queries.</p>
<h3>Any account changes [#examples-any]</h3>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWxsLWNoYW5nZXMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IldoYXQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSB0byB0aGUgTmV3IFJlbGljIGFjY291bnQ/In1d">
    <div data-prop-text="title">What changes have been made to the New Relic account?</div>
    <p>To view all changes to your New Relic account users for a specific time frame, run this basic NRQL query:</p>
    <pre><code>SELECT * from NrAuditEvent SINCE 1 day ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoid2hhdC1jaGFuZ2VkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJXaGF0IHR5cGUgb2YgYWNjb3VudCBjaGFuZ2Ugd2FzIG1hZGUgdGhlIG1vc3Q/In1d">
    <div data-prop-text="title">What type of account change was made the most?</div>
    <p>To query what type of change to the account users was made the most frequently during a specific time frame, include the <a href="#actorIdentifier"><code>actionIdentifier</code> attribute</a> in your query. For example:</p>
    <pre><code>SELECT count(*) AS Actions FROM NrAuditEvent 
FACET actionIdentifier SINCE 1 week ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ3JhcGgtY2hhbmdlcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiV2hhdCB0cmVuZHMgYXBwZWFyIGluIGFjY291bnQgY2hhbmdlcz8ifV0=">
    <div data-prop-text="title">What trends appear in account changes?</div>
    <p>When you include <code>TIMESERIES</code> in the NRQL query, Insights automatically shows the results as a line graph. For example:</p>
    <pre><code>SELECT count(*) from NrAuditEvent TIMESERIES facet actionIdentifier since 1 week ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicm9sZXMtYWRkZWQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IldoYXQgcm9sZXMgaGF2ZSBiZWVuIHVwZGF0ZWQgZm9yIHVzZXJzPyJ9XQ==">
    <div data-prop-text="title">What roles have been updated for users?</div>
    <p>To query what roles have been added, changed, or removed for users in the account during a specific time frame, include the <a href="#actionIdentifier"><code>actionIdentifier</code> attribute</a> in the NRQL query. For example:</p>
    <pre><code>SELECT * FROM NrAuditEvent WHERE actionIdentifier = 'user.add_roles' 
SINCE '2018-06-19' UNTIL 30 minutes ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3ludGgtY2hhbmdlcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU3ludGhldGljczogV2hhdCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIHRvIGEgbW9uaXRvcj8ifV0=">
    <div data-prop-text="title">Synthetics: What changes have been made to a monitor?</div>
    <p>To query Synthetics monitor updates during a specific time frame, include the <a href="/attribute-dictionary/nrauditevent/actionidentifier"><code>actionIdentifier</code></a> attribute in your query. For example:</p>
    <pre><code>SELECT count(*) FROM NrAuditEvent 
WHERE actionIdentifier = 'synthetics_monitor.update_script' 
FACET actionIdentifier, description, actorEmail 
SINCE 1 week ago LIMIT 1000

</code></pre>For more information about this Synthetics feature, see [Synthetics audit log](/docs/synthetics/new-relic-synthetics/administration/audit-synthetics-account-changes).
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3ludGgtdXNlciJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiV29ya2xvYWRzOiBXaGF0IGNoYW5nZXMgd2VyZSBtYWRlIHRvIGFueSB3b3JrbG9hZCBjb25maWd1cmF0aW9uPyJ9XQ==">
    <div data-prop-text="title">Workloads: What changes were made to any workload configuration?</div>
    <p>To query what configuration changes were made to any workload, use the query below. The <code>targetId</code> attribute contains the GUID of the workload that was modified, which you can use for searches. Since changes on workloads are often automated, you might want to include the <code>actorType</code> attribute to know if the change was done directly by a user through the UI or through the API.</p>
    <pre><code>SELECT timestamp, actorEmail, actorType, description, targetId 
FROM NrAuditEvent WHERE targetType = 'workload' 
SINCE 1 week ago LIMIT MAX

</code></pre>
  </div>
</div>
<h3>Changes made by users [#examples-who]</h3>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXZlbnRzLXVzZXJzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJXaGF0IGFjY291bnQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSBieSBhbnkgdXNlcj8ifV0=">
    <div data-prop-text="title">What account changes have been made by any user?</div>
    <p>To see detailed information about any user who made changes to the account during a specific time frame, include <a href="#actorType"><code>actorType = 'user'</code></a> in the query. For example:</p>
    <pre><code>SELECT actionIdentifier, description, actorEmail, actorId, targetType, targetId 
FROM NrAuditEvent WHERE actorType = 'user' 
SINCE 1 week ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoid2hvLWNoYW5nZWQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IldoYXQgYWNjb3VudCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIGJ5IGEgc3BlY2lmaWMgdXNlcj8ifV0=">
    <div data-prop-text="title">What account changes have been made by a specific user?</div>
    <p>To query account activities made by a specific person during the selected time frame, you must know their <a href="#actorId"><code>actorId</code></a>. For example:</p>
    <pre><code>SELECT actionIdentifier FROM NrAuditEvent 
WHERE actorId = 829034 SINCE 1 week ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibW9zdC1jaGFuZ2VzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJXaG8gbWFkZSB0aGUgbW9zdCBjaGFuZ2VzIHRvIHRoZSBhY2NvdW50PyJ9XQ==">
    <div data-prop-text="title">Who made the most changes to the account?</div>
    <p>To identify who (<a href="#actorType"><code>actorType</code></a>) has made the most changes to the account, include the <a href="#actorEmail"><code>actorEmail</code> attribute</a> in your query. For example:</p>
    <pre><code>SELECT count(*) as Users FROM NrAuditEvent 
WHERE actorType = 'user' 
FACET actorEmail SINCE 1 week ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3ludGgtdXNlciJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU3ludGhldGljczogV2hhdCBtb25pdG9ycyB3ZXJlIGNyZWF0ZWQgYnkgYSBzcGVjaWZpYyB1c2VyPyJ9XQ==">
    <div data-prop-text="title">Synthetics: What monitors were created by a specific user?</div>
    <p>To query Synthetics monitor updates made by a specific user, include the <a href="/attribute-dictionary/nrauditevent/actionidentifier"><code>actionIdentifier</code></a> and <a href="/attribute-dictionary/nrauditevent/actoremail"><code>actorEmail</code></a> attribute in your query. For example:</p>
    <pre><code>SELECT count(*) FROM NrAuditEvent 
WHERE actionIdentifier = 'synthetics_monitor.update_script' 
FACET actorEmail, actionIdentifier, description 
SINCE 1 week ago LIMIT 1000

</code></pre>
  </div>
</div>
<h3>Changes made using API [#examples-api]</h3>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXZlbnRzLWFwaS1rZXkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IldoYXQgYWNjb3VudCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIHVzaW5nIGFuIEFQSSBrZXk/In1d">
    <div data-prop-text="title">What account changes have been made using an API key?</div>
    <p>To see detailed information about changes to the account that were made using an API key during a specific time frame, include <a href="#actorType"><code>actorType = 'api_key'</code></a> in the query. For example:</p>
    <pre><code>SELECT actionIdentifier, description, targetType, targetId, actorAPIKey, actorId, actorEmail 
FROM NrAuditEvent WHERE actorType = 'api_key' SINCE 1 week ago

</code></pre>
  </div>
</div>
