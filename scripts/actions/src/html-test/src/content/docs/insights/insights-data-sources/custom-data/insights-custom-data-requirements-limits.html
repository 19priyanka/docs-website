
<p>You can report custom <a href="/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic">events</a> to New Relic in several ways, including the <a href="/docs/insights/insights-data-sources/custom-data/send-custom-events-event-api">New Relic Event API</a>, <a href="/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents">APM agent APIs</a>, <a href="/docs/insights/insights-data-sources/custom-data/insert-data-via-new-relic-browser">Browser agent APIs</a>, and the <a href="/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data">Mobile SDK</a>.</p>
<p>This document contains general requirements and rules for inserting and using custom events and their associated <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute">attributes</a>. Additional requirements may apply based on the method you use.</p>
<h2>General requirements [#general]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>How long custom data is retained depends on your <a href="/docs/insights/use-insights-ui/manage-account-data/insights-data-retention">Insights subscription and its associated data retention</a>.</p>
</div>
<p>When reporting custom events and attributes, follow these general requirements for supported data types, naming syntax, and size:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Requirement</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Payload</p>
      </div>
      <div>
        <p>Total maximum size or length: <strong>1MB (10^6 bytes) maximum per POST</strong>. We highly recommend using compression.</p>
        <p>The payload must be encoded as <strong>UTF-8</strong>.</p>
        <p>The Event API has additional <a href="/docs/insights/insights-data-sources/custom-data/send-custom-events-event-api#post-limit">HTTP rate limits</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Attribute data types</p>
      </div>
      <div>
        <p><a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute">Attribute</a> values can be either a string or a numeric integer or float.</p>
        <p>If your attribute values contain date information, define it as an unformatted Unix timestamp (in seconds or milliseconds) by using the <a href="/docs/insights/use-insights-ui/manage-account-data/data-formatter-set-default-formats-numeric-values">Insights data formatter</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Attribute size</p>
      </div>
      <div>
        <p>Maximum <code>name</code> size: 255 bytes.</p>
        <p>Maximum attribute <code>value</code> size:</p>
        <ul>
          <li>
            <p>Custom attributes sent by the agent: 255 bytes</p>
          </li>
          <li>
            <p>Attributes attached to custom events sent using the <a href="/docs/insights/insights-data-sources/custom-data/send-custom-events-event-api">Event API</a>: 4096 characters</p>
            <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
              <p>Charts may only display the first 255 characters of attribute values. For complete attribute values, use the <a href="/docs/insights/use-insights-ui/manage-dashboards/chart-types#widget-json">JSON chart type</a> or <a href="/docs/insights/insights-api/get-data/query-insights-event-data-api">Query API</a>.</p>
            </div>
            <p>Maximum total attributes per event: 254. <strong>Exception:</strong> If you use an APM agent API, the max is 64.</p>
            <p>Maximum total attributes per event type: 48,000.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Naming syntax</p>
      </div>
      <div>
        <p>Attribute names can be a combination of alphanumeric characters, colons (<code>:</code>), periods (<code>.</code>), and underscores (<code>_</code>).</p>
        <p>Event types (using the <code>eventType</code> attribute) can be a combination of alphanumeric characters, colons (<code>:</code>), and underscores (<code>_</code>).</p>
        <p>Do not use <a href="#reserved-words">words reserved for use by NRQL</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Null values</p>
      </div>
      <div>
        <p>The database does not store any data with a null value.</p>
      </div>
    </div>
  </div>
</div>
<h2>Reserved words</h2>
<p>Avoid using the following reserved words as names for events and attributes. Otherwise, unexpected results may occur.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This is not a complete list. In general, it's a good practice to avoid using <a href="https://dev.mysql.com/doc/refman/5.5/en/keywords.html">MySQL-reserved words</a> to avoid collision with future New Relic functionality.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Keyword</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>accountId</code></p>
      </div>
      <div>
        <p>This is a reserved <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute">attribute</a> name. If it's included, it will be dropped during ingest.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>appId</code></p>
      </div>
      <div>
        <p>Value must be an integer. If it is not an integer, the attribute name and value will be dropped during ingest.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>eventType</code></p>
      </div>
      <div>
        <p>The event type as stored in New Relic. New Relic agents and scripts normally report this as <code>eventType</code>. Can be a combination of alphanumeric characters, colons (<code>:</code>), and underscores (<code>_</code>). Be sure to review the <a href="#prohibited-eventType">prohibited <code>eventType</code> values</a> and <a href="#event-limits"><code>eventType</code> limits</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Prohibited <code>eventType</code> values</p>
      </div>
      <div>
        <p>For your <code>eventType</code> value, avoid using:</p>
        <ul>
          <li>
            <p><code>Metric</code>, <code>MetricRaw</code>, and strings prefixed with <code>Metric[0-9]</code> (such as <code>Metric2</code> or <code>Metric1Minute</code>).</p>
          </li>
          <li>
            <p><code>Public_</code> and strings prefixed with <code>Public_</code>.</p>
            <p>These event types are reserved for use by New Relic. Events passed in with these <code>eventType</code> values will be dropped.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>timestamp</code></p>
      </div>
      <div>
        <p>Must be a Unix epoch timestamp. You can define timestamps either in seconds or in milliseconds. It must be +/-1 day (24 hours) of the current time on the server.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Log forwarding terms</p>
      </div>
      <div>
        <p>The following keys are reserved by the Infrastructure agent's log forwarding feature: <code>entity.guid</code>, log, <code>hostname</code>, <code>plugin.type</code>, <code>fb.input</code>. If used, they are dropped during ingest and a warning is added to the logs.</p>
      </div>
    </div>
    <div>
      <div>
        <p>NRQL syntax terms</p>
      </div>
      <div>
        <p>If you need to use <a href="/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql">NRQL</a> syntax terms as attribute names, including dotted attributes, they must be enclosed in backticks; for example, <code>`LIMIT`</code> or <code>`consumer.offset`</code>. Otherwise, avoid using these reserved words:</p>
        <p><code>ago</code>, <code>and</code>, <code>as</code>, <code>auto</code>,</p>
        <p><code>begin</code>, <code>begintime</code>,</p>
        <p><code>compare</code>,</p>
        <p><code>day</code>, <code>days</code>,</p>
        <p><code>end</code>, <code>endtime</code>, <code>explain</code>,</p>
        <p><code>facet</code>, <code>from</code>,</p>
        <p><code>hour</code>, <code>hours</code>,</p>
        <p><code>in</code>, <code>is</code>,</p>
        <p><code>like</code>, <code>limit</code>,</p>
        <p><code>minute</code>, <code>minutes</code>, <code>month</code>, <code>months</code>,</p>
        <p><code>not</code>, <code>null</code>,</p>
        <p><code>offset</code>, <code>or</code>,</p>
        <p><code>raw</code>,</p>
        <p><code>second</code>, <code>seconds</code>, <code>select</code>, <code>since</code>,</p>
        <p><code>timeseries</code>,</p>
        <p><code>until</code>,</p>
        <p><code>week</code>, <code>weeks</code>, <code>where</code>, <code>with</code></p>
      </div>
    </div>
  </div>
</div>
<h2>Additional Browser PageAction requirements [#pageAction]</h2>
<p>For additional requirements for using New Relic Browser's custom <code>PageAction</code> event, see <a href="/docs/insights/insights-data-sources/custom-data/insert-via-new-relic-browser">Insert custom data via New Relic Browser agent</a>.</p>
<h2>Additional Event API requirements [#api-reqs]</h2>
<p>For more requirements and details for the Event API, see <a href="/docs/insights/insights-data-sources/custom-data/send-custom-events-event-api">Event API</a>.</p>
<h2>Event type limits [#event-limits]</h2>
<p>The current limit for total number of <code>eventType</code> values is 250 per sub-account in a given 24-hour time period. If a user exceeds this limit, New Relic may filter or drop data. Event types include:</p>
<ul>
  <li>Default events from New Relic agents</li>
  <li>Custom events from New Relic agents</li>
  <li>Custom events from Insights custom event inserter</li>
</ul>
