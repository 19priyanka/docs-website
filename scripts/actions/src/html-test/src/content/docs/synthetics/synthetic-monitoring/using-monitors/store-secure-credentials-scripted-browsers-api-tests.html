
<p>You can use secure credentials with synthetic monitoring to store critical information, such as passwords, API keys, usernames, etc. This prevents scripted monitor users from viewing, updating, or deleting these values unless they have explicit permissions in New Relic. The credentials are securely stored using AES-GCM 256-bit encryption at rest with keys managed by <a href="https://aws.amazon.com/kms/">Amazon AWS Key Management Service (KMS)</a>.</p>
<p>You can set secure credentials in New Relic One or with the <a href="/docs/apis/synthetics-rest-api/secure-credentials-examples/use-synthetics-secure-credentials-apis">API</a>.</p>
<h2>Requirements and limits [#requirements]</h2>
<p>Before <a href="#ui-procedures">using secure credentials</a>, review these requirements and guidelines:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Secure credentials</p>
      </div>
      <div>
        <p>Comments</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Applicable monitors</p>
      </div>
      <div>
        <p>The secure credentials feature is available only for <a href="/docs/synthetics/new-relic-synthetics/getting-started/types-synthetics-monitors">synthetic scripted browsers and API test monitors</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Permissions</p>
      </div>
      <div>
        <p>Account administrators can control which users can <code>create</code>, <code>view</code>, or <code>delete</code> secure credentials by <a href="/docs/accounts/accounts-billing/general-account-settings/factors-affecting-access-features-data">managing users' permissions</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Limit</p>
      </div>
      <div>
        <p>You can have a maximum of 1,000 secure credentials.</p>
      </div>
    </div>
  </div>
</div>
<h2>Add or update secure credentials [#ui-procedures]</h2>
<p>You can add or update secure credentials using the UI or the <a href="/docs/apis/synthetics-rest-api/secure-credentials-examples/use-synthetics-secure-credentials-apis#add-secure-credential">Synthetics REST API</a>.</p>
<p>To add, view, edit, or delete a secure credential for a scripted browser or API test monitor from the UI:</p>
<ol>
  <li>Go to <a href="http://one.newrelic.com/"><strong>one.newrelic.com</strong></a> <strong>> Synthetics > Secure credentials</strong>.</li>
  <li>Follow the UI instructions to add, edit, or delete a secure credential, then save any additions or changes you make.
    <ul>
      <li>Tips for creating the <strong>Key</strong>: choose a username or other meaningful key name to identify the secure credential. Use alphanumeric or underscore <code>_</code> characters.</li>
      <li>Tips for creating the <strong>Value</strong>: Use any combination of alphanumeric or special characters. 3000 characters maximum. This field is not accessible via <a href="/docs/apis/synthetics-rest-api/secure-credentials-examples/use-synthetics-secure-credentials-apis">the API</a>.</li>
    </ul>
  </li>
  <li>Associate the secure credential with a scripted browser or API test by <a href="#script-procedures">editing the script</a>.</li>
</ol>
<p>After you add the secure credential to the script, the <strong>Secure credentials</strong> user interface shows how many scripted monitors use that credential. This number is approximate and only updates after a monitor with a secure credential has actually been run.</p>
<h2>Update the script [#script-procedures]</h2>
<p>When using the <a href="/docs/synthetics/new-relic-synthetics/scripting-monitors/write-scripted-browsers">Synthetics UI editor</a> to create scripted browsers or API test monitors, follow these guidelines:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Script</strong></p>
      </div>
      <div>
        <p><strong>Guidelines</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Format</p>
      </div>
      <div>
        <p>Anywhere in the script where you reference the secure credential, it is accessed via the reserved New Relic <code>$secure</code> JavaScript object with dot notation. For example, <code>$secure.MY_SECURE_CREDENTIAL</code>. Properties on <code>$secure</code> are not accessible through bracket notation.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Existing credentials</p>
      </div>
      <div>
        <p>To view or select from a list of available secure credentials:</p>
        <ul>
          <li>
            <p>Type <code>$secure.</code></p>
            <p>OR</p>
          </li>
          <li>
            <p>Select from the dropdown in the editor UI.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Validation</p>
      </div>
      <div>
        <p>To validate the secure credential, follow standard procedures to <a href="/docs/synthetics/new-relic-synthetics/using-monitors/view-monitor-results">test the script</a> or <a href="/docs/synthetics/new-relic-synthetics/scripting-monitors/write-api-tests">write an API test</a>.</p>
      </div>
    </div>
  </div>
</div>
<p>Any changes to the secure credential's value will automatically take effect across all monitors that use it. You do not need to also update the script.</p>
<p><strong>Exception:</strong> If you update the script and jobs are already processing, the secure credential change will not take effect until the next time the job begins.</p>
<h2>Security for secure credentials [#security]</h2>
<p>To ensure the security of your secure credentials, New Relic scrubs the secure value out of all data that goes to results in synthetic monitoring data and alerts. <strong>New Relic employees cannot access secure credential values and must be added to the account to be able to view secure credentials</strong>.</p>
<p><strong>Example</strong></p>
<p>A secure credential is named <code>PASSWORD</code> and the value is <code>Pass123!</code>. New Relic replaces <code>Pass123!</code> with <code>_SECURECREDENTIAL_</code></p>
<p>For example, a script includes:</p>
<pre><code>$browser.get("https://example.com/" + $secure.PASSWORD)
</code></pre>
<p>The script results will show that New Relic Synthetics went to <code>https://example.com/_SECURECREDENTIAL_</code>, even though it actually went to <code>https://example.com/Pass123!</code>. This ensures the value of the secure credential will not appear in the results.</p>
<h3>Redacted information [#redacted]</h3>
<p>We currently redact the following from the results of your monitor:</p>
<ul>
  <li>The exact values of your secure credentials</li>
  <li>Any percent-encoded values of your secure credentials</li>
</ul>
