
<p>New Relic lets you see a 13-month history of synthetic monitoring audit events.</p>
<h2>Feature description [#description]</h2>
<p>When you take specific actions in synthetic monitoring like creating or editing a monitor, an <a href="/attribute-dictionary?attribute_name=&#x26;events_tids%5B%5D=8287"><code>NrAuditEvent</code></a> is generated. This event includes details about the action taken and which user took that action. This data is stored for 13 months. This historical data may be helpful if you'd like to investigate how a problem with your account was created and who made that change.</p>
<p>Synthetic monitoring's changes tracked include:</p>
<ul>
  <li>Monitors
    <ul>
      <li>Creation</li>
      <li>Edits (including location change, mute/unmute, and enable/disable)</li>
      <li>Script creation, edits, validation (including secure credentials used)</li>
      <li>Deletion</li>
    </ul>
  </li>
  <li>Monitor downtimes
    <ul>
      <li>Creation</li>
      <li>Edits</li>
      <li>Deletion</li>
    </ul>
  </li>
  <li>Secure credentials
    <ul>
      <li>Creation</li>
      <li>Edits</li>
      <li>Views</li>
      <li>Deletion</li>
    </ul>
  </li>
  <li>Private locations
    <ul>
      <li>Creation</li>
      <li>Edits (including clearing queues)</li>
      <li>Deletion</li>
    </ul>
  </li>
</ul>
<p>For details on how to query this data, see <a href="#query-changes">Query details</a>.</p>
<h2>Query details [#query-changes]</h2>
<p>To query changes, <a href="/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder">use the query builder</a> to explore the <code>NrAuditEvent</code> and its associated attributes. For an introduction to using the <code>NrAuditEvent</code> event, see <a href="/docs/insights/use-insights-ui/manage-account-data/query-account-audit-logs-nrauditevent">Query account audit logs</a>.</p>
<p>Supported <code>actionIdentifier</code> events currently include:</p>
<ul>
  <li>Monitors
    <ul>
      <li><code>synthetics_monitor.create</code></li>
      <li><code>synthetics_monitor.update</code></li>
      <li><code>synthetics_monitor.create_script</code></li>
      <li><code>synthetics_monitor.update_script</code></li>
      <li><code>synthetics_monitor.validate_script</code></li>
      <li><code>synthetics_monitor.delete</code></li>
    </ul>
  </li>
  <li>Monitor downtimes
    <ul>
      <li><code>synthetics_monitor_downtime.create</code></li>
      <li><code>synthetics_monitor_downtime.update</code></li>
      <li><code>synthetics_monitor_downtime.delete</code></li>
    </ul>
  </li>
  <li>Secure credentials
    <ul>
      <li><code>synthetics_secure_credential.create</code></li>
      <li><code>synthetics_secure_credential.update</code></li>
      <li><code>synthetics_secure_credential.view</code></li>
      <li><code>synthetics_secure_credential.delete</code></li>
    </ul>
  </li>
  <li>Private locations
    <ul>
      <li><code>synthetics_private_location.create​</code></li>
      <li><code>synthetics_private_location.update​</code></li>
      <li><code>synthetics_private_location.delete</code></li>
    </ul>
  </li>
</ul>
<p>How the change was made:</p>
<ul>
  <li>The <code>actorAPIKey</code> attribute indicates if the change was made via the API or by a user via the UI. When this value is null, it's a user update; when not null, it's an API update.</li>
</ul>
<p>For examples of synthetic monitoring's audit log queries, see:</p>
<ul>
  <li>The <a href="#example-use-case">example use case</a>.</li>
  <li>The synthetic monitoring specific examples in <a href="/docs/insights/insights-data-sources/default-data/nrauditevent-default-attributes-examples">Audit query examples</a>.</li>
</ul>
<h2>Example use case: Finding changes made by a user [#example-use-case]</h2>
<p>Here's an example of using the synthetic monitoring audit log to solve a common problem:</p>
<p>You are a manager at a company that uses synthetic monitoring. A new employee has been playing with your company's accounts to learn how synthetic monitoring works. Unfortunately, this employee was accidentally given full access to the production accounts, instead of the pre-production accounts.</p>
<p>You want to determine what synthetic monitors this employee created, deleted, and updated, so that you will know which monitors need to be fixed. Instead of having to review every monitor in the account, you <a href="/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder">open the query builder</a> and run the following NRQL query of the <code>NrAuditEvent</code> event:</p>
<pre><code>SELECT count(*) FROM NrAuditEvent 
WHERE actionIdentifier = 'synthetics_monitor.update_script' AND
actorEmail = 'EMPLOYEE_EMAIL'
FACET actionIdentifier, description 
SINCE 1 week ago LIMIT 1000
</code></pre>
<p>The query will return all the synthetic monitors that the employee has updated, deleted, created, disable, or muted. One by one, you and the employee review the list and update the edited monitors.</p>
