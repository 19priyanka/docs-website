
<p>In synthetic monitoring, a private location is a collection of private minions. A minion is a containerized application that receives and manages jobs set up through the Synthetics UI.</p>
<p>A private location can contain any number of private minions. Private locations allow you to extend your synthetic monitoring coverage to new geographical locations, and to monitor websites behind your firewall (like an intranet site).</p>
<h2>What you need [#requirements]</h2>
<p>To use private locations, first review these requirements and other factors:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Compatibility for...</p>
      </div>
      <div>
        <p>Requirements</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Check budget</p>
      </div>
      <div>
        <p>Checks from a private location count against <a href="/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing">your budget</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Synthetics horde endpoint</p>
      </div>
      <div>
        <p>For US-based accounts: <code>https://synthetics-horde.nr-data.net/</code></p>
        <p>For <a href="/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center#partner-hierarchy">EU-based</a> accounts: <code>https://synthetics-horde.eu01.nr-data.net/</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Outbound network access</p>
      </div>
      <div>
        <p>The minion needs to connect to the synthetic monitoring's horde endpoint to receive and process jobs. If your firewall rules don't permit direct access, you must <a href="/docs/synthetics/new-relic-synthetics/private-locations/install-manage-private-minions#proxy">configure proxy access</a>.</p>
        <p>Test your connection to the horde endpoint with a successful response from the following command:</p>
        <pre><code>curl -X GET https://synthetics-horde.nr-data.net/synthetics/api/v1/ping

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p>Account access and permissions</p>
      </div>
      <div>
        <p>A private location set up with a master account can be used by the sub-accounts in that master account. A private location set up with a sub-account can only be used by that sub-account.</p>
      </div>
    </div>
  </div>
</div>
<h2>Create a private location [#create-location]</h2>
<p><strong><img src="./images/private-locations.png" alt="screenshot-manage-private-locations.png" title="screenshot-manage-private-locations.png"></strong></p>
<p><a href="http://one.newrelic.com/"><strong>one.newrelic.com</strong></a> <strong>> Synthetics > Private Locations</strong>: Use the <strong>Private Locations</strong> page to create, edit, and delete private locations.</p>
<p>Before <a href="/docs/synthetics/new-relic-synthetics/private-locations/install-containerized-private-minions-cpms">installing private minions</a>, you need to create a private location. To create a new private location:</p>
<ol>
  <li>
    <p>Ensure you meet the <a href="#requirements">requirements</a>, including activating the feature <a href="#compatibility-account-rep">by contacting your account representative</a>.</p>
  </li>
  <li>
    <p>Go to <a href="http://one.newrelic.com/"><strong>one.newrelic.com</strong></a> <strong>> Synthetics > Private locations</strong>. Then select
      <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1wbHVzLWNpcmNsZSJ9XQ=="></div><strong>Create private location</strong>.
    </p>
  </li>
  <li>
    <p>Type a location name.</p>
  </li>
  <li>
    <p>Optional: Configure these additional settings:</p>
    <ul>
      <li><strong>Description</strong>: Describe your private location for other account users.</li>
      <li><strong><a href="/docs/synthetics/new-relic-synthetics/private-locations/verified-script-execution-private-locations">Verified script execution</a></strong>: Require a passphrase when assigning scripts to this location, or when adding minions to the location.</li>
    </ul>
  </li>
  <li>
    <p>Select <strong>Create</strong>.</p>
  </li>
</ol>
<p>After creating the location, Synthetics lists your <strong>Private location key</strong> so you can <a href="/docs/synthetics/new-relic-synthetics/private-locations/install-containerized-private-minions-cpms#install-update">install a private minion</a>.</p>
<h2>Ping monitor checks [#checks]</h2>
<p>Each minion can run about 200 ping monitor checks per minute (about 8,640,000 checks per month). If the job queue for a particular location is growing, <a href="/docs/synthetics/new-relic-synthetics/private-locations/install-containerized-private-minions-cpms#install-update">add additional minions</a>. The exact capacity of the minions can vary, depending on:</p>
<ul>
  <li>Your network performance</li>
  <li>The complexity of your scripts</li>
  <li>The hardware configuration for the private minion</li>
</ul>
<h2>Add jobs to the location queue [#add-jobs]</h2>
<p>To add jobs to the queue for your location, follow standard procedures to <a href="/docs/synthetics/new-relic-synthetics/using-monitors/add-edit-monitors#adding-monitors">add or edit a monitor</a>, and select your location from the <strong>Private locations</strong> list. To assign an existing monitor, edit that <a href="/docs/synthetics/new-relic-synthetics/using-monitors/add-edit-monitors#editing-monitors">monitor's settings</a>.</p>
<p>
  <img src="./images/screen-assign-to-private-location-synthetics-monitor_0.png" alt="screen-assign-to-private-location-synthetics-monitor.png" title="screen-assign-to-private-location-synthetics-monitor.png">
</p>
<p><a href="http://one.newrelic.com/"><strong>one.newrelic.com</strong></a> <strong>> Synthetics > Create monitor</strong>: To assign new jobs to your private location and its minions, select its name from the <strong>Create monitor</strong> page.</p>
<h2>Manage private locations [#manage-location]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If you can't access this feature, check the <a href="https://docs.newrelic.com/docs/accounts/accounts-billing/general-account-settings/factors-affecting-access-features-data">Factors affecting access to features and data</a>.</p>
</div>
<p>Synthetic monitoring includes tools to manage locations and individual minions. You can also <a href="/docs/synthetics/new-relic-synthetics/private-locations/install-containerized-private-minions-cpms#install-update">install new minions</a>, and clear the job queue if it backs up.</p>
<p>To access these tools, go to <a href="http://one.newrelic.com/"><strong>one.newrelic.com</strong></a> <strong>> Synthetics > Private locations</strong>. Then follow the steps:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>If you want to...</p>
      </div>
      <div>
        <p>Do this...</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Clear the job queue</p>
      </div>
      <div>
        <p>Click the
          <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1tb3JlLWhvcml6b250YWwifV0="></div>icon, and select <strong>Clear queue</strong>.
        </p>
        <p>This is useful when the number of scheduled jobs has increased faster than the minions can process them, such as when the minion is offline.</p>
      </div>
    </div>
    <div>
      <div>
        <p>View the status of an individual minion</p>
      </div>
      <div>
        <p>Select the parent location's name from the list.</p>
        <p>The green <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#health-status">health status indicator</a> identifies active minions. You can also view the last reported time for each minion, and check whether the minion software is out of date.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Change location or view the private location key</p>
      </div>
      <div>
        <p>Click the
          <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1tb3JlLWhvcml6b250YWwifV0="></div>icon, and select <strong>Edit</strong>.
        </p>
      </div>
    </div>
    <div>
      <div>
        <p>Delete a location</p>
      </div>
      <div>
        <p>Click the
          <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1tb3JlLWhvcml6b250YWwifV0="></div>icon for the location, and select <strong>Delete</strong>.
        </p>
        <p>This does not shut down any minions assigned to that location. The minions must be shut down manually or reassigned.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Enable or disable verified script execution</p>
      </div>
      <div>
        <ul>
          <li>Legacy minions: <a href="/docs/synthetics/new-relic-synthetics/private-locations/verified-script-execution-private-locations">Verified script execution</a> requires that you set up a passphrase on the minion before assigning any scripts to the location.</li>
          <li>CPM: You need to pass the <a href="https://docs.newrelic.com/docs/synthetics/synthetic-monitoring/private-locations/containerized-private-minion-cpm-configuration#environment-variables">MINION_VSE_PASSPHRASE</a> variable to the minion. Then, at the <strong>Private locations</strong> tab, click on <strong>Edit</strong> and, in the menu, enable the <strong>Verified script execution</strong> option.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h2>Set proxy configuration [#proxy]</h2>
<p>You can set proxy server configuration for synthetic scripted monitors that run from local private locations. For more information, see <a href="/docs/synthetics/new-relic-synthetics/scripting-monitors/set-proxy-settings-scripted-monitors">Synthetic's proxy settings</a>.</p>
