
<h2>Syntax</h2>
<pre><code>newrelic.agent.record_custom_metric(name, value, application=None)
</code></pre>
<p>Records a single custom metric.</p>
<h2>Description</h2>
<p>This call records a single <a href="/docs/agents/manage-apm-agents/agent-data/custom-metrics">custom metric</a>. To record a set of metrics, see <a href="/docs/agents/python-agent/python-agent-api/record_custom_metrics"><code>record_custom_metrics</code></a>.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>name</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. Name of the metric.</p>
        <p>There are no restrictions on naming formats, but we recommends you use a <code>Custom/</code> prefix for your custom metric names. This helps you differentiate custom metrics from default-monitored metrics in the our UI, and also helps you troubleshoot if necessary.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>value</code></p>
        <p><em>int</em> or <em>dict</em></p>
      </div>
      <div>
        <p>Required. The numeric value of the metric. Can be an integer, a float, or a dictionary of values. The possible fields for a dictionary are:</p>
        <ul>
          <li>
            <p><code>count</code></p>
          </li>
          <li>
            <p><code>total</code></p>
          </li>
          <li>
            <p><code>min</code></p>
          </li>
          <li>
            <p><code>max</code></p>
          </li>
          <li>
            <p><code>sum_of_squares</code></p>
            <p>For explanations of these fields and some general usage tips, see the <a href="/docs/plugins/plugin-developer-resources/developer-reference/metric-value-reference">documentation for the plugins custom metrics API</a>.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>application</code></p>
        <p><em>application object</em></p>
      </div>
      <div>
        <p>Optional. The <a href="/docs/agents/python-agent/python-agent-api/application">application object</a> corresponding to the app with which you want to associate the metrics. If the application is the default value of <code>None</code>, the agent records the custom metrics to the app associated with the current transaction. Thus, you should provide the application unless this method is used in code for a web transaction or background task.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>None.</p>
<h2>Examples</h2>
<h3>Recording a custom metric using the application object [#app-object-example]</h3>
<p>To record custom metrics from a distinct background thread or other code, you must pass the <a href="/docs/agents/python-agent/python-agent-api/application">application object</a> corresponding to the application to which the custom metrics are to be reported.</p>
<pre><code>import newrelic.agent
application = newrelic.agent.application()

newrelic.agent.record_custom_metric('Custom/my_favorite_number', 42, application)
</code></pre>
