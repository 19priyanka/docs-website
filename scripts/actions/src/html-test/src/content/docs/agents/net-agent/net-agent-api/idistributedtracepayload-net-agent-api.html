
<h2>Syntax</h2>
<pre><code>public interface IDistributedTracePayload
</code></pre>
<p>Provides access to distributed trace payload.</p>
<h2>Requirements</h2>
<p>Agent version 8.9 or higher.</p>
<p>Compatible with all app types.</p>
<p><a href="/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing">Distributed tracing must be enabled</a>.</p>
<h2>Description</h2>
<p>Provides access to distributed trace payload.</p>
<h3>Methods</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>HttpSafe()</p>
      </div>
      <div>
        <p>Returns a serialized, Base64-encoded version of the distributed trace payload.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Text()</p>
      </div>
      <div>
        <p>Returns a serialized, plain text version of the distributed trace payload.</p>
      </div>
    </div>
    <div>
      <div>
        <p>IsEmpty()</p>
      </div>
      <div>
        <p>Returns <code>true</code> if the distributed trace payload is empty, <code>false</code> if it is not. This method is provided as a convenience method and to emphasize that it is possible the .NET agent will create an empty payload.</p>
      </div>
    </div>
  </div>
</div>
<h2>Examples</h2>
<h3>HttpSafe()</h3>
<pre><code>KeyValuePair&#x3C;string, string> metadata;
IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
ITransaction transaction = agent.CurrentTransaction;
IDistributedTracePayload payload = transaction.CreateDistributedTracePayload();
metadata.Key = NewRelic.Api.Agent.Constants.DistributedTracePayloadKey;
metadata.Value = payload.HttpSafe();
</code></pre>
<h3>Text()</h3>
<pre><code>KeyValuePair&#x3C;string, string> metadata;
IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
ITransaction transaction = agent.CurrentTransaction;
IDistributedTracePayload payload = transaction.CreateDistributedTracePayload();
metadata.Key = NewRelic.Api.Agent.Constants.DistributedTracePayloadKey;
metadata.Value = payload.Text();
</code></pre>
<h3>IsEmpty()</h3>
<pre><code>KeyValuePair&#x3C;string, string> metadata;
IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
ITransaction transaction = agent.CurrentTransaction;
IDistributedTracePayload payload = transaction.CreateDistributedTracePayload();
if (!payload.IsEmpty())
{
  metadata.Key = NewRelic.Api.Agent.Constants.DistributedTracePayloadKey;
  metadata.Value = payload.HttpSafe();
}
</code></pre>
