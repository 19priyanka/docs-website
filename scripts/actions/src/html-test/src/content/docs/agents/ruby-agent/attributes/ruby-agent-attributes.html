
<p><a href="/docs/features/agent-attributes">Attributes</a> are key-value pairs containing information that determines the properties of an event or transaction. These key-value pairs can be viewed within transaction traces in APM, traced errors in APM, transaction events in dashboards, and page views in dashboards. You can customize exactly which attributes will be sent to each of these destinations.</p>
<p>These attribute settings apply to version 3.12.0 or higher of the Ruby agent.</p>
<h2>Ruby agent attributes [#attributes]</h2>
<p>The following table lists the attributes that can be automatically captured by the Ruby agent:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaHR0cFJlc3BvbnNlQ29kZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiaHR0cFJlc3BvbnNlQ29kZSJ9XQ==">
    <div data-prop-text="title">httpResponseCode</div>
    <p>The response status code for a web request. Defaults:</p>
    <ul>
      <li>
        <p>Transaction traces: Enabled</p>
      </li>
      <li>
        <p>Error collector (traced errors): Enabled</p>
      </li>
      <li>
        <p>Transaction events: Enabled</p>
      </li>
      <li>
        <p>Page views (browser monitoring): Unavailable</p>
        <p><strong>Note:</strong> The <code>httpResponseCode</code> attribute (string value) is deprecated as of agent version 6.12.0. <code>http.statusCode</code> (integer value) should be used instead.</p>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdEhlYWRlcnNSZWZlcmVyIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJyZXF1ZXN0LmhlYWRlcnMucmVmZXJlciJ9XQ==">
    <div data-prop-text="title">request.headers.referer</div>
    <p>The HTTP referrer header if present (minus the query string). Defaults:</p>
    <ul>
      <li>Transaction traces: Disabled</li>
      <li>Error collector (traced errors): Enabled</li>
      <li>Transaction events: Disabled</li>
      <li>Page views (browser monitoring): Unavailable</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdFBhcmFtZXRlcnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6InJlcXVlc3QucGFyYW1ldGVycy4qIn1d">
    <div data-prop-text="title">request.parameters.*</div>
    <p>The HTTP request parameters, associated with the transaction. Available for Rails, Sinatra, and Grape applications only. Defaults:</p>
    <ul>
      <li>
        <p>Transaction traces: Disabled</p>
      </li>
      <li>
        <p>Error collector (traced errors): Disabled</p>
      </li>
      <li>
        <p>Transaction events: Disabled</p>
      </li>
      <li>
        <p>Page views (browser monitoring): Disabled</p>
        <p><strong>Note:</strong> The <code>capture_params</code> property is deprecated. However, if set to <code>true</code>, it will enable request parameters for transaction traces and traced errors.</p>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiam9iUmVzcXVlQXJndW1lbnRzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJqb2IucmVzcXVlLmFyZ3MuKiJ9XQ==">
    <div data-prop-text="title">job.resque.args.*</div>
    <p>Job arguments passed to the Resque worker. Arguments passed to Resque workers are positional. These arguments are stored as keys of the form <code>job.resque.args.&#x3C;position></code> where position is the index of the argument to the <code>perform</code> method. For example, a Resque job that takes two arguments will have keys <code>job.resque.args.0</code> and <code>job.resque.args.1</code>. Defaults:</p>
    <ul>
      <li>
        <p>Transaction traces: Disabled</p>
      </li>
      <li>
        <p>Error collector (traced errors): Disabled</p>
      </li>
      <li>
        <p>Transaction events: Disabled</p>
      </li>
      <li>
        <p>Page views (browser monitoring): Unavailable</p>
        <p><strong>Note:</strong> The <code>resque.capture_params</code> property is deprecated. However, if set to <code>true</code>, it will enable capture of Resque arguments for transaction traces, traced errors.</p>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiam9iU2lkZWtpcUFyZ3VtZW50cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiam9iLnNpZGVraXEuYXJncy4qIn1d">
    <div data-prop-text="title">job.sidekiq.args.*</div>
    <p>Job arguments passed to the Sidekiq worker. Arguments passed to Sidekiq workers are positional. These arguments are stored as keys of the form <code>job.sidekiq.args.&#x3C;position></code> where position is the index of the argument to the <code>perform</code> method. For example, a Sidekiq job that takes two arguments will have keys <code>job.sidekiq.args.0</code> and <code>job.sidekiq.args.1</code>. Defaults:</p>
    <ul>
      <li>
        <p>Transaction traces: Disabled</p>
      </li>
      <li>
        <p>Error collector (traced errors): Disabled</p>
      </li>
      <li>
        <p>Transaction events: Disabled</p>
      </li>
      <li>
        <p>Page views (browser monitoring): Unavailable</p>
        <p><strong>Note:</strong> The <code>sidekiq.capture_params</code> property is deprecated. However, if set to <code>true</code>, it will enable capture of Sidekiq arguments for transaction traces and traced errors.</p>
      </li>
    </ul>
  </div>
</div>
<h2>Adding custom attributes [#add-custom-attributes]</h2>
<p>To capture additional custom attributes from your application, use <code>NewRelic::Agent.add_custom_attributes</code>. For full reference see <a href="/docs/apm/other-features/attributes/collecting-custom-attributes#ruby-att">Collecting custom attributes</a>. Defaults:</p>
<ul>
  <li>Transaction traces: Enabled</li>
  <li>Error collector (traced errors): Enabled</li>
  <li>Transaction events: Enabled</li>
  <li>Page views (browser monitoring): Disabled</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>If you want to use your custom parameters or attributes in Insights, avoid using any of the <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a> for naming them.</p>
</div>
<h2>Upgrading the Ruby agent [#upgrading]</h2>
<p>When upgrading to Ruby agent <strong>3.12.0</strong> or higher, upgrade your <strong>newrelic.yml</strong> configuration.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/features/agent-attributes">Agent attributes</a> (types, destinations, and limits for attributes used by New Relic agents)</li>
  <li><a href="/docs/agents/ruby-agent/attributes/enabling-disabling-attributes-ruby">Enabling and disabling attributes</a> (properties, rules, and backwards compatibility information for Ruby agent attributes)</li>
  <li><a href="/docs/agents/ruby-agent/attributes/ruby-attribute-examples">Attribute examples</a> (scenarios and results of enabling and disabling different Ruby agent attributes)</li>
</ul>
