
<p>New Relic provides limited technical support for customers using .NET Framework 4.0 or earlier. This level of support includes ensuring that the following areas are configured as expected:</p>
<ul>
  <li>Agent configuration</li>
  <li>System settings</li>
  <li>Network access</li>
  <li>Permissions settings</li>
</ul>
<p>You can perform most troubleshooting checks by using <a href="/docs/agents/manage-apm-agents/troubleshooting/new-relic-diagnostics">New Relic Diagnostics</a>, with the exception of a few checks that must be done manually. If a New Relic Diagnostics check does find an issue, information on additional troubleshooting and potential resolutions will appear in your terminal.</p>
<h2>Agent version requirements [#agent-version]</h2>
<p>To get the most out of your New Relic .NET Framework agent, make sure you follow New Relic's <a href="/docs/agents/net-agent/getting-started/compatibility-requirements-net-agent">compatibility and requirements</a> guidelines.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Applications running on .NET Framework version 4.0 or lower require a New Relic .NET agent version <strong>lower than 7.0</strong>.</p>
</div>
<p>Download and run the appropriate install package for your <a href="/docs/agents/net-agent/getting-started/compatibility-requirements-net-agent#architecture">architecture</a>:</p>
<ul>
  <li><a href="https://download.newrelic.com/dot_net_agent/6.x_release/NewRelicDotNetAgent_x86.msi">32-bit installer</a></li>
  <li><a href="https://download.newrelic.com/dot_net_agent/6.x_release/NewRelicDotNetAgent_x64.msi">64-bit installer</a></li>
</ul>
<h2>Agent configuration [#config]</h2>
<p>Limited technical support to troubleshoot your basic installation and configuration includes:</p>
<ol>
  <li>Check if the .NET agent is present and has valid configuration files.</li>
  <li>If the agent is installed, check for the agent's core <code>.dll</code>.</li>
  <li>If the config file is valid, check for expected elements. For example, include a manual check that it conforms to the standards laid out in the <code>.xsd</code>.</li>
</ol>
<h2>Instrumentation</h2>
<p>Limited technical support to troubleshoot if instrumentation is possible includes:</p>
<ol>
  <li>Check if WAS registry keys and required values are present and valid.</li>
  <li>Check W3SVC registry keys and required values are present and valid.</li>
  <li>Check ENV (non-IIS/global environment variables) reg keys and required values are present and valid.</li>
  <li>Verify if instrumentation is possible by using these key checks to determine what types of apps can be monitored.</li>
  <li>Confirm that the process has the necessary environment variables loaded. For example, use a tool such as the <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer">Microsoft Sysinternals Process Explorer</a>.</li>
</ol>
<h2>Web app [#web-apps]</h2>
<p>Some checks require elevated permissions. For best results, run <a href="/docs/agents/manage-apm-agents/troubleshooting/new-relic-diagnostics">New Relic Diagnostics</a> from an Admin shell.</p>
<p>Limited technical support to troubleshoot running web apps with the .NET agent installed includes:</p>
<ol>
  <li>Check for any running W3WP processes, and get their <code>pid</code>.</li>
  <li>Check for key <code>.dll</code> required for instrumentation. For example, if there are any W3WP processes, check if the New Relic profiler <code>.dll</code> and <code>mscorelib.dll</code> are loaded into the process.</li>
</ol>
<h2>Applications not hosted on IIS [#non-IIS apps]</h2>
<p>Limited technical support to troubleshoot apps not hosted on IIS includes:</p>
<ol>
  <li>When using the MSI, ensure the <code>Instrument all</code> option has been enabled.</li>
  <li>Check that the custom instrumentation file has been created, is in the proper place, and is accurate. If applicable, include a manual check that it conforms to the standards laid out in the <code>.xsd</code>.</li>
</ol>
<h2>Network access and permissions [#access]</h2>
<p>Limited technical support to troubleshoot system network access and permissions applies to any agent version, and includes:</p>
<ol>
  <li>Check system network access and permissions.</li>
  <li>Run collector tests. For example, check whether the URL <code>https://collector.newrelic.com/status/mongrel</code> is up and the server can connect to it.</li>
  <li>Check whether the config file contains any proxy settings, if proxy info has been passed to New Relic Diagnostics, and if these settings allow for connection to New Relic collectors.</li>
  <li>Check if New Relic Diagnostics is running as <code>admin</code>.</li>
</ol>
<p>New Relic Diagnostics must run as <code>admin</code> to help ensure accuracy of some other tests. Also, <code>admin</code> rights are required to install the .NET agent.</p>
<h2>Agent logs [#logs]</h2>
<p>Limited technical support to troubleshoot information available from .NET agent logs includes:</p>
<ol>
  <li>Gather any available agent logs.</li>
  <li>Check the log level.</li>
  <li>Check for known issues noted in the logs.</li>
</ol>
<p>Troubleshooting log files may require you to work directly with <a href="https://support.newrelic.com/">New Relic Support</a>.</p>
<h2>Framework version</h2>
<p>Limited technical support depends on which .NET agent version you are using. New Relic Support will check what framework versions of the .NET agent are installed on the system.</p>
<h2>Full URL in OpenRasta requests [#openrasta]</h2>
<p>When using OpenRasta instrumentation, the full URL may be captured on instrumented requests. This may result in query strings being collected that may contain sensitive information. See security bulletin <a href="/docs/using-new-relic/new-relic-security/security-bulletins/security-bulletin-nr19-01">NR19-01</a>.</p>
