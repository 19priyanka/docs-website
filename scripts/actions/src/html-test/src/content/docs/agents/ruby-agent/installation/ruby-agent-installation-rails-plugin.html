
<p>These instructions are for installing the Ruby agent as a Rails plugin. For most use cases, you should instead <a href="/docs/agents/ruby-agent/installation-configuration/ruby-agent-installation#Installing_the_Gem">install the agent gem</a>.</p>
<h2>Contents [#qiklinks]</h2>
<h2>Install the New Relic Rails plugin [#Installing_the_Plugin]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>New Relic strongly recommends <a href="/docs/agents/ruby-agent/installation-configuration/ruby-agent-installation#Installing_the_Gem">installing the Ruby agent as a gem</a> in order to have better control over versions and dependencies.</p>
</div>
<p>To install the Rails plugin from Github, use the following commands for Rails versions 2 or higher:</p>
<pre><code>script/plugin install git://github.com/newrelic/newrelic-ruby-agent.git
mv vendor/plugins/rpm vendor/plugins/newrelic-ruby-agent
</code></pre>
<p>This will export the Rails plugin into your application's <code>vendor/plugins</code> directory. If you cannot install the Rails plugin directly from the git URL, you can clone the repository into the vendor/plugins directory.</p>
<h2>Update the configuration file [#Configuration_file]</h2>
<p>After installing the agent, copy the <code>newrelic.yml</code> file into the <code>config</code> subdirectory of your application. You can download a fresh <code>newrelic.yml</code> that includes your <a href="/docs/subscriptions/license-key">license key</a> from the <strong>Account settings</strong> when logged in to New Relic.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>As part of the installation process, change the default <a href="/docs/site/naming-your-application">application name</a> to a meaningful name.</p>
</div>
<h2>Update the newrelic.yml file [#Updating_newrelic.yml]</h2>
<p>Whenever you update the agent, double-check that your Ruby agent configuration file (<code>config/newrelic.yml</code>) is up to date: Open the default <code>newrelic.yml</code> file that lives in the Ruby agent's plugin folder (<code>vendor/plugins/newrelic-ruby-agent/newrelic.yml</code>). Look for new configuration options that are not in your <code>config/newrelic.yml</code> file.</p>
<h2>Update the Ruby agent [#Update_the_Agent]</h2>
<p>When using Subversion with the Rails plugin, be sure to remove the old agent plugin before reinstalling.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Use the gem if possible.</p>
</div>
<pre><code>svn rm vendor/plugins/newrelic-ruby-agent svn commit vendor/plugins -m "removing old version of newrelic"
</code></pre>
<p>Then, to install the latest Ruby agent plugin:</p>
<pre><code>script/rails plugin install git://github.com/newrelic/newrelic-ruby-agent.git vendor/plugins/newrelic-ruby-agent
mv vendor/plugins/rpm vendor/plugins/newrelic-ruby-agent
svn add vendor/plugins/newrelic-ruby-agent
svn commit vendor/plugins -m "upgrading newrelic to version X.X.X"
</code></pre>
<h2>Uninstall the Rails plugin [#Uninstalling_Plugin]</h2>
<p>To uninstall the Rails plugin:</p>
<pre><code>svn rm vendor/plugins/newrelic-ruby-agent svn commit vendor/plugins
</code></pre>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/ruby/new-relic-for-ruby">New Relic for Ruby</a> (compatibility and requirements, general information about installation, configuration, troubleshooting, and known issues)</li>
  <li><a href="/docs/ruby/ruby-agent-installation">Ruby agent installation</a> (using the New Relic Ruby gem and configuration file)</li>
</ul>
