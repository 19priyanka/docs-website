
<h2>Syntax</h2>
<pre><code>newrelic.agent.add_custom_parameter(key, value)
</code></pre>
<p>Adds a custom attribute to a transaction.</p>
<h2>Description</h2>
<p>This call records a <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#attribute">custom attribute</a> (a key/value pair attached to your <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction">transaction</a>). (The call name is <code>add_custom_parameter</code> because "custom attributes" were previously called "custom parameters.")</p>
<p>Attributes may be found in APM if the transaction is associated with an error or if a transaction trace is generated for that transaction. Attributes can also be found and queried in New Relic One.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Before you create custom attributes, review our list of <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a>.</p>
</div>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The key name. Only the first 255 characters are retained.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>value</code></p>
        <p><em>string, integer, float, boolean</em></p>
      </div>
      <div>
        <p>Required. The string value to add to the current transaction. Only the first 255 characters are retained.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>True</code> if attribute was added successfully.Â </p>
<h2>Examples</h2>
<h3>Adding custom parameters to background task [#custom-parameter-example]</h3>
<p>An example of adding custom parameters to a <a href="/docs/agents/python-agent/python-agent-api/background_task">background task</a>:</p>
<pre><code>@newrelic.agent.background_task()
def send_request(): 
	response = requests.post('http://URL_path', headers=headers, data=data) 
	newrelic.agent.add_custom_parameter('url_path_status_code', response.status_code)
</code></pre>
<h3>Using custom parameters to troubleshoot [#parameter-troubleshooting]</h3>
<p>You can also use custom parameters to troubleshoot performance issues. For example, you might see occasional slow response times from a pool of memcache instances, but you don't know what instance is causing the problem. You might add an attribute to the transaction indicating the server, like so:</p>
<pre><code># Set server_ip to be the current server processing the transaction

newrelic.agent.add_custom_parameter("memcache_query_frontend_lookup", server_ip)
</code></pre>
