
<p>This describes the rules New Relic uses to determine which attributes to include or exclude for a <a href="/docs/features/agent-attributes#destinations">destination</a>. This also includes a summary of the .NET agent properties that were deprecated with the release of New Relic agent attributes in versions 3.6.177.0 or higher.</p>
<h2>Attribute rules [#attruls]</h2>
<p>New Relic follows these rules to determine which attributes to include or exclude:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1yb290LXByZWNlZGVuY2UifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlJvb3QgbGV2ZWwgdGFrZXMgcHJlY2VkZW5jZSBmb3IgZW5hYmxlZC4ifV0=">
    <div data-prop-text="title">Root level takes precedence for enabled.</div>
    <p>The <code>attributes.enabled</code> field overrides all other settings. When <code>false</code>, no attributes will be reported to New Relic.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="false">
  &#x3C;include>foo&#x3C;/include>
  &#x3C;include>bar&#x3C;/include>
&#x3C;/attributes>
&#x3C;transactionTracer enabled="true">
  &#x3C;attributes enabled="true"/>
&#x3C;/transactionTracer>

</code></pre>
    <pre><code>
Keys passed in: foo, bar, bat
Keys included for all destinations:
Keys excluded for all destinations: foo, bar, bat

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1kZXN0aW5hdGlvbi1wcmVjZWRlbmNlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEZXN0aW5hdGlvbiBlbmFibGVkIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBpbmNsdWRlIGFuZCBleGNsdWRlLiJ9XQ==">
    <div data-prop-text="title">Destination enabled takes precedence over include and exclude.</div>
    <p>The <code>{destination}.attributes.enabled</code> flags take precedence over include and exclude keys.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>one&#x3C;/include>
  &#x3C;include>two&#x3C;/include>
&#x3C;/attributes>
&#x3C;transactionTracer enabled="true">
  &#x3C;attributes enabled="false">
    &#x3C;include>three&#x3C;/include>
    &#x3C;include>four&#x3C;/include>
  &#x3C;/attributes>
&#x3C;/transactionTracer>

</code></pre>
    <pre><code>
Keys passed in: one, two, three, four
Keys included for transaction traces:
Keys excluded for transaction traces: one, two, three, four

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1pbmNsdWRlZC1kZXN0aW5hdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQXR0cmlidXRlIGlzIGluY2x1ZGVkIGlmIHRoZSBkZXN0aW5hdGlvbiBpcyBlbmFibGVkLiJ9XQ==">
    <div data-prop-text="title">Attribute is included if the destination is enabled.</div>
    <p>If a destination is enabled, all user attributes are sent to that destination by default.</p>
    <p>All user attributes default to <code>true</code>. However, by default, request attributes and message parameters are disabled for all destinations.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;exclude>myAttKey&#x3C;/exclude>
&#x3C;/attributes>

</code></pre>
    <pre><code>
Keys passed in: foo, bar, myAttKey
Keys included: foo, bar
Keys excluded: myAttKey

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1leGNsdWRlLXdpbnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkV4Y2x1ZGUgYWx3YXlzIHN1cGVyc2VkZXMgaW5jbHVkZS4ifV0=">
    <div data-prop-text="title">Exclude always supersedes include.</div>
    <p>If the same key is listed in the include and exclude lists, then attributes with the specified key will be excluded.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>foo&#x3C;/include>
  &#x3C;include>myCustomAtt&#x3C;/include>
  &#x3C;exclude>password&#x3C;/exclude>
  &#x3C;exclude>myCustomAtt&#x3C;/exclude>
&#x3C;/attributes>

</code></pre>
    <pre><code>
Keys passed in: foo, myCustomAtt, password
Keys included: foo
Keys excluded: password, myCustomAtt

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1rZXlzLWNhc2Utc2Vuc2l0aXZlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJLZXlzIGFyZSBjYXNlIHNlbnNpdGl2ZS4ifV0=">
    <div data-prop-text="title">Keys are case sensitive.</div>
    <p>Keys are case sensitive.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;exclude>password&#x3C;/exclude>
  &#x3C;exclude>PaSsWoRd&#x3C;/exclude>
&#x3C;/attributes>

</code></pre>
    <pre><code>
Keys passed in: password, Password, PASSWORD, PaSsWoRd, PassWORD
Keys included: Password, PASSWORD, PassWORD
Keys excluded: password, PaSsWoRd

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zdGFyLXdpbGRjYXJkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOnsidHlwZSI6Im1keFZhbHVlRXhwcmVzc2lvbiIsInZhbHVlIjoiPD5Vc2UgYW4gYXN0ZXJpc2sgPElubGluZUNvZGU+XFwqPC9JbmxpbmVDb2RlPiBmb3Igd2lsZGNhcmRzLjwvPiIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE1NiwiY29sdW1uIjoxMSwib2Zmc2V0Ijo0MDI3fSwiZW5kIjp7ImxpbmUiOjE1NiwiY29sdW1uIjo3Niwib2Zmc2V0Ijo0MDkyfX19fV0=">
    <div data-prop-text="title">[object Object]</div>
    <p>You can use an asterisk <code>*</code> at the end of a key as a wildcard. This will match all attributes with the same prefix.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>custom*&#x3C;/include>
  &#x3C;exclude>request.parameters.*&#x3C;/exclude>
&#x3C;/attributes>

</code></pre>
    <pre><code>
Keys passed in: custom, custom.key1, custom.key2, request.parameters., request.parameters.foo, request.parameters.bar
Keys included: custom, custom.key1, custom.key2
Keys excluded: request.parameters., request.parameters.foo, request.parameters.bar

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zcGVjaWZpYy13aW5zIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJNb3N0IHNwZWNpZmljIHNldHRpbmcgZm9yIGEga2V5IHRha2VzIHByaW9yaXR5LiJ9XQ==">
    <div data-prop-text="title">Most specific setting for a key takes priority.</div>
    <p>If multiple include or exclude attributes affect the same key, the most specific setting will have priority.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>request.parameters.foo&#x3C;/include>
  &#x3C;exclude>request.parameters.*&#x3C;/exclude>
&#x3C;/attributes>

</code></pre>
    <pre><code>
Keys passed in: request.parameters., request.parameters.foo, request.parameters.bar
Keys included: request.parameters.foo
Keys excluded: request.parameters., request.parameters.bar

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1kZXN0aW5hdGlvbi1pbmNsdWRlLWV4Y2x1ZGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkluY2x1ZGUgb3IgZXhjbHVkZSBhZmZlY3RzIHRoZSBzcGVjaWZpYyBkZXN0aW5hdGlvbi4ifV0=">
    <div data-prop-text="title">Include or exclude affects the specific destination.</div>
    <p>If the attribute <code>include</code> or <code>exclude</code> is specified on a destination, then it only impacts that destination.</p>
    <p>Example configuration:</p>
    <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>foo&#x3C;/include>
&#x3C;/attributes>
&#x3C;transactionEvents enabled="true">
  &#x3C;attributes enabled=”true”>
    &#x3C;exclude>foo&#x3C;/exclude>
&#x3C;/transactionEvents>

</code></pre>
    <pre><code>
Keys passed in: foo
Keys included for transaction events: 
Keys included for other destinations: foo
Keys excluded for transaction events: foo

</code></pre>Example output:
  </div>
</div>
<h2>Deprecated properties [#deprecated]</h2>
<p>The following properties have been deprecated. While attributes using these properties will continue to be collected accurately, New Relic recommends switching to the new attributes configuration for these properties when upgrading your .NET agent.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYW5hbHl0aWNzRXZlbnRzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJhbmFseXRpY3NFdmVudHMgcmVwbGFjZWQgYnkgdHJhbnNhY3Rpb25FdmVudHMifV0=">
    <div data-prop-text="title">analyticsEvents replaced by transactionEvents</div>
    <p>The <code>analyticsEvents</code> element in <strong>newrelic.config</strong> has been deprecated. Enable the <a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#transaction_events"><code>transactionEvents</code></a> element in <strong>newrelic.config</strong>:</p>
    <pre><code>&#x3C;transactionEvents enabled="true"/>

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdFBhcmFtZXRlcnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6InJlcXVlc3RQYXJhbWV0ZXJzIHJlcGxhY2VkIGJ5IHJlcXVlc3QucGFyYW1ldGVycy4qIn1d">
    <div data-prop-text="title">requestParameters replaced by request.parameters.*</div>
    <p>By default, request parameters are not sent to New Relic. Add <code>request.parameters.*</code> to the <code>attributes.include</code> list to enable request parameter collection.</p>
    <pre><code>&#x3C;attributes>
  &#x3C;include>request.parameters.*&#x3C;/include>
&#x3C;/attributes>

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicGFyYW1ldGVyR3JvdXBzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJwYXJhbWV0ZXJHcm91cHM6IGVuYWJsZSBhbmQgaWdub3JlIHJlcGxhY2VkIGJ5IGF0dHJpYnV0ZXMgdHJ1ZSwgaW5jbHVkZSBhbmQgZXhjbHVkZSJ9XQ==">
    <div data-prop-text="title">parameterGroups: enable and ignore replaced by attributes true, include and exclude</div>
    <p>The <code>parameterGroups</code> value and its <code>enabled</code> and <code>ignore</code> settings are deprecated. By default, <code>customParameters</code> and <code>responseHeaderParameters</code> are instrumented, while <code>serviceRequestParameters</code> are not instrumented. To customize these settings:</p>
    <ul>
      <li>
        <p>Use the <a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#agent-attributes-enabled"><code>enabled</code></a> flag to enable instrumentation.</p>
      </li>
      <li>
        <p>Use <a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#agent-attributes-include"><code>include</code></a> and <a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#agent-attributes-exclude"><code>exclude</code></a> to toggle instrumentation for specific attributes.</p>
        <p>For example:</p>
        <pre><code>&#x3C;attributes enabled="true">
  &#x3C;include>service.request.*&#x3C;/include>
  &#x3C;exclude>response.headers.*&#x3C;/exclude>
  &#x3C;exclude>myCustomApiKey.*&#x3C;/exclude>
&#x3C;/attributes>
</code></pre>
        <p>For more information on configuring attributes, see the <a href="/docs/agents/net-agent/attributes/net-attribute-examples">attributes examples</a>.</p>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY2FwdHVyZUF0dHJpYnV0ZXMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6ImNhcHR1cmVBdHRyaWJ1dGVzIGZsYWcgcmVwbGFjZWQgYnkgYXR0cmlidXRlcyBzdWItZWxlbWVudHMifV0=">
    <div data-prop-text="title">captureAttributes flag replaced by attributes sub-elements</div>
    <p>The capture attributes flag on <code>browserMonitoring</code>, <code>transactionTracer</code>, <code>transactionEvents</code>, and <code>errorCollector</code> has been deprecated. Instead, use the <code>attributes</code> sub-element to configure attribute settings for each of these destinations.</p>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p><strong>New property</strong></p>
          </div>
          <div>
            <p><strong>Example</strong></p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p><a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#browser-attributes"><code>browserMonitoring</code></a></p>
          </div>
          <div>
            <pre><code>&#x3C;browserMonitoring enabled="true">
  &#x3C;attributes enabled="false">
    &#x3C;include>myKey.*&#x3C;/include>
    &#x3C;exclude>myKey.foo&#x3C;/exclude>
  &#x3C;/attributes>
&#x3C;/browserMonitoring>

</code></pre>
          </div>
        </div>
        <div>
          <div>
            <p><a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#tracer-attributes"><code>transactionTracer</code></a></p>
          </div>
          <div>
            <pre><code>&#x3C;transactionTracer enabled="true">
  &#x3C;attributes enabled="false">
    &#x3C;include>myKey.*&#x3C;/include>
    &#x3C;exclude>myKey.foo&#x3C;/exclude>
  &#x3C;/attributes>
&#x3C;/transactionTracer>

</code></pre>
          </div>
        </div>
        <div>
          <div>
            <p><a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#paragrp-attributes"><code>transactionEvents</code></a></p>
          </div>
          <div>
            <pre><code>&#x3C;transactionEvents enabled="true">
  &#x3C;attributes enabled="false">
    &#x3C;include>myKey.*&#x3C;/include>
    &#x3C;exclude>myKey.foo&#x3C;/exclude>
  &#x3C;/attributes>
&#x3C;/transactionEvents>

</code></pre>
          </div>
        </div>
        <div>
          <div>
            <p><a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#error-attributes"><code>errorCollector</code></a></p>
          </div>
          <div>
            <pre><code>&#x3C;errorCollector enabled="true">
  &#x3C;attributes enabled="false">
    &#x3C;include>myKey.*&#x3C;/include>
    &#x3C;exclude>myKey.foo&#x3C;/exclude>
  &#x3C;/attributes>
&#x3C;/errorCollector>>

</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
