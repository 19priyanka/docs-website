
<h2>Syntax</h2>
<pre><code>Public interface ISpan
</code></pre>
<p>Provides access to span-specific methods in the New Relic API.</p>
<h2>Description</h2>
<p>Provides access to span-specific methods in the New Relic .NET agent API. To obtain a reference to <code>ISpan</code>, use:</p>
<ul>
  <li>The <code>CurrentSpan</code> property on <a href="/docs/agents/net-agent/net-agent-api/iagent"><code>IAgent</code></a> (Recommended).</li>
  <li>The <code>CurrentSpan</code> property on <a href="/docs/agents/net-agent/net-agent-api/itransaction"><code>ITransaction</code></a>.</li>
</ul>
<p>This section contains descriptions and parameters of <code>ISpan</code> methods:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="#addcustomattribute">AddCustomAttribute</a></p>
      </div>
      <div>
        <p>Add contextual information from your application to the current span in form of attributes.</p>
      </div>
    </div>
  </div>
</div>
<h2>AddCustomAttribute [#acceptdistributedtracepayload]</h2>
<p>Adds contextual information about your application to the current span in the form of <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute">attributes</a>.</p>
<p>This method requires .NET agent version and .NET agent API <a href="/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8242440">version 8.25</a> or higher.</p>
<h3>Syntax</h3>
<pre><code>ISpan AddCustomAttribute(string key, object value)
</code></pre>
<h3>Parameters</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Identifies the information being reported. Also known as the name.</p>
        <ul>
          <li>Empty keys are not supported.</li>
          <li>Keys are limited to 255-bytes. Attributes with keys larger than 255-bytes will be ignored.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>value</code></p>
        <p><em>object</em></p>
      </div>
      <div>
        <p>The value being reported.</p>
      </div>
    </div>
  </div>
</div>
<h3>Returns</h3>
<p>A reference to the current span.</p>
<h3>Usage considerations</h3>
<p>For details about supported data types, see the <a href="/docs/agents/net-agent/attributes/custom-attributes">Custom Attributes guide</a>.</p>
<h2>Examples</h2>
<pre><code>IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
ISpan currentSpan = agent.CurrentSpan; 

currentSpan
    .AddCustomAttribute("customerName","Bob Smith")
    .AddCustomAttribute("currentAge",31)
    .AddCustomAttribute("birthday", new DateTime(2000, 02, 14))
    .AddCustomAttribute("waitTime", TimeSpan.FromMilliseconds(93842));
</code></pre>
