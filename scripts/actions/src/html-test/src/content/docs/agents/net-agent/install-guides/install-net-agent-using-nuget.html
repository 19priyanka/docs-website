
<p>This document explains how to install the .NET agent using NuGet.</p>
<h2>Install agent using NuGet [#nuget]</h2>
<p>The <a href="https://www.nuget.org/packages/NewRelic.Agent">NewRelic.Agent NuGet package</a> places the New Relic agent in your application's build output directory so that the agent gets deployed with your application.</p>
<p>Before installing the agent using NuGet, understand these important points:</p>
<ul>
  <li>In order to configure environment variables and directory permissions, you must have access to the systems where you are deploying your applications.</li>
  <li>If you're using NuGet to update an existing .NET agent, this will overwrite previously made changes to <a href="https://docs.newrelic.com/docs/agents/net-agent/configuration/net-agent-configuration"><code>newrelic.config</code></a>. To preserve changes, first save the config file outside of your project, then restore it after updating.</li>
</ul>
<p>Here's an example of using NuGet via Visual Studio to install the .NET agent:</p>
<ol>
  <li>
    <p>Open your Visual Studio solution, or create a new one by selecting <strong>File > New > Project</strong>. For multi-project solutions, be sure to select the correct project (for example, a specific website project).</p>
  </li>
  <li>
    <p>Open the <a href="https://docs.microsoft.com/en-us/nuget/tools/package-manager-console">Package Manager console</a> by selecting <strong>Tools > Library Package Manager > Package Manager Console</strong>. Set your project as the default project.</p>
  </li>
  <li>
    <p>From the Package Manager command prompt, type <code>Install-Package NewRelic.Agent</code> and press <strong>Enter</strong>. When you build your project, the .NET agent folder will be copied to your build output directory.</p>
  </li>
  <li>
    <p>Set environment variables (below) and any other necessary configuration. How to do this will vary, depending on your environment and system.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibnVnZXQtbGludXgifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgbW9uaXRvcmluZyAuTkVUIEZyYW1ld29yayBhcHBsaWNhdGlvbnMifV0=">
        <div data-prop-text="title">Environment variables for monitoring .NET Framework applications</div>
        <pre><code>COR_ENABLE_PROFILING=1
COR_PROFILER={71DA0A04-7777-4EC6-9643-7D28B46A8A41}
COR_PROFILER_PATH=APP_DEPLOYMENT_DIRECTORY\newrelic\NewRelic.Profiler.dll
NEWRELIC_HOME=APP_DEPLOYMENT_DIRECTORY\newrelic
NEW_RELIC_LICENSE_KEY=YOUR_LICENSE_KEY
NEW_RELIC_APP_NAME=YOUR_APP_NAME

</code></pre>&#x3C;Callout variant="important">
        To monitor 32-bit applications, COR_PROFILER_PATH should be set to APP_DEPLOYMENT_DIRECTORY\\newrelic\\x86\\NewRelic.Profiler.dll
        &#x3C;/Callout>
        The license key and app name aren't required environment variables; they [can be set in other ways](/docs/agents/net-agent/installation/net-agent-install-resources#env-variables).
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibnVnZXQtd2luZG93cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRW52aXJvbm1lbnQgdmFyaWFibGVzIGZvciBtb25pdG9yaW5nIC5ORVQgQ29yZSBhcHBsaWNhdGlvbnMgb24gV2luZG93cyJ9XQ==">
        <div data-prop-text="title">Environment variables for monitoring .NET Core applications on Windows</div>
        <pre><code>CORECLR_ENABLE_PROFILING=1
CORECLR_PROFILER={36032161-FFC0-4B61-B559-F6C5D41BAE5A}
CORECLR_PROFILER_PATH=APP_DEPLOYMENT_DIRECTORY\newrelic\NewRelic.Profiler.dll
CORECLR_NEWRELIC_HOME=APP_DEPLOYMENT_DIRECTORY\newrelic
NEW_RELIC_LICENSE_KEY=YOUR_LICENSE_KEY
NEW_RELIC_APP_NAME=YOUR_APP_NAME

</code></pre>&#x3C;Callout variant="important">
        To monitor 32-bit applications, CORECLR_PROFILER_PATH should be set to APP_DEPLOYMENT_DIRECTORY\\newrelic\\x86\\NewRelic.Profiler.dll
        &#x3C;/Callout>
        The license key and app name aren't required environment variables; they [can be set in other ways](/docs/agents/net-agent/installation/net-agent-install-resources#env-variables).
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibnVnZXQtbGludXgifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgbW9uaXRvcmluZyAuTkVUIENvcmUgYXBwbGljYXRpb25zIG9uIExpbnV4In1d">
        <div data-prop-text="title">Environment variables for monitoring .NET Core applications on Linux</div>
        <pre><code>CORECLR_ENABLE_PROFILING=1
CORECLR_PROFILER={36032161-FFC0-4B61-B559-F6C5D41BAE5A}
CORECLR_PROFILER_PATH=APP_DEPLOYMENT_DIRECTORY/newrelic/libNewRelicProfiler.so
CORECLR_NEWRELIC_HOME=APP_DEPLOYMENT_DIRECTORY/newrelic
NEW_RELIC_LICENSE_KEY=YOUR_LICENSE_KEY
NEW_RELIC_APP_NAME=YOUR_APP_NAME

</code></pre>The license key and app name aren't required environment variables; they [can be set in other ways](/docs/agents/net-agent/installation/net-agent-install-resources#env-variables).
      </div>
    </div>
  </li>
</ol>
<p>If your application is receiving traffic, data should appear within a few minutes. If it doesn't, see <a href="https://docs.newrelic.com/docs/agents/net-agent/troubleshooting/no-data-appears-net">No data appears</a>.</p>
