
<p>Read the following troubleshooting tips for common issues when using the Ruby agent and Passenger.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWdlbnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlJlc3RhcnRpbmcgdGhlIGFnZW50In1d">
    <div data-prop-text="title">Restarting the agent</div>
    <p>If all you do is edit the Passenger <code>tmp/restart.txt</code> file, it will not pick up the new agent. When you update the agent and restart Passenger, you must do a hard restart of Apache for the change to take effect.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibG9ncyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTWlzc2luZyBsb2cgZmlsZXMifV0=">
    <div data-prop-text="title">Missing log files</div>
    <p>For Passenger, the log file is <code>newrelic_agent.passenger.log</code>. <strong>Recommendation:</strong> For Apache users, provide write permissions for the entire /log directory.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGV2ZWxvcGVyX21vZGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRldmVsb3BlciBtb2RlIn1d">
    <div data-prop-text="title">Developer mode</div>
    <p>When using Passenger in Developer mode, sometimes you may notice the list of requests may disappear, or that it seems like it misses some requests. Also, when selecting a request, you may see an error message indicating the trace is not available, suggesting maybe you restarted.</p>
    <p>This occurs when Passenger spawns more than one handler process. The transaction traces get put in one of the processes, and if you connect to the other one, you will not see it.</p>
    <p>The workaround is to set the max number of instances to 1 by using the <a href="http://www.modrails.com/documentation/Users%20guide%20Apache.html#_passengermaxpoolsize_lt_integer_gt">PassengerMaxPoolSize</a> parameter. Also, if you refresh several times, you have a good chance of getting the requests back.</p>
  </div>
</div>
