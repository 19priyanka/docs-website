
<p><a href="https://devcenter.heroku.com/articles/newrelic">Heroku</a> is a Platform as a Service (PaaS) solution for hosting web applications in various agent languages, including Scala. With New Relic, you can extend Heroku with metrics from <a href="/docs/apm/new-relic-apm">APM</a> and <a href="/docs/browser/new-relic-browser">Browser</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>For non-Scala installations, see <a href="/docs/agents/java-agent/heroku/java-agent-heroku">Java agent and Heroku</a>.</p>
</div>
<h2>Compatibility and requirements [#requirements]</h2>
<ul>
  <li>Java 7 or higher</li>
  <li>Latest New Relic <a href="/docs/release-notes/agent-release-notes/java-release-notes">Java agent version</a></li>
</ul>
<h2>1. Enable the New Relic add-on [#enable-add-on]</h2>
<p>After you ensure that you <a href="#requirements">meet the requirements</a>, enable the New Relic agent add-on in Heroku.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>You must <a href="https://devcenter.heroku.com/articles/getting-started-with-java#introduction">deploy your Java app to Heroku</a>, following the Heroku instructions at least through the <a href="https://devcenter.heroku.com/articles/getting-started-with-java#deploy-the-app">Deploy the app</a> step, before you can enable the New Relic agent add-on.</p>
</div>
<ol>
  <li>Log in to your Heroku account.</li>
  <li>From the <a href="https://addons.heroku.com/newrelic">APM Add-On Page</a>, select a subscription plan.</li>
  <li>Select <strong>Install New Relic APM</strong>, and then select your target app from the dropdown.</li>
</ol>
<p>Installing the add-on automatically creates a New Relic account and configures access for Heroku servers.</p>
<h2>2. Configure your Heroku environment for New Relic [#configure-heroku-environment]</h2>
<p>After you complete the <a href="#requirements">requirements</a> and <a href="#enable-add-on">enable the New Relic add-on</a>, configure your Scala Heroku environment for New Relic:</p>
<ol>
  <li>
    <p>Edit your <code>Procfile</code> to point to the agent jar in your app's root folder. Replace the contents of the file, substituting <code>X.Y.Z</code> with the <a href="/docs/agents/java-agent/getting-started/java-release-notes">latest agent version</a>:</p>
    <pre><code>web: target/universal/stage/bin/play-getting-started -Dhttp.port=${PORT} -J-javaagent:/app/target/universal/stage/lib/com.newrelic.agent.java.newrelic-agent-X.Y.Z.jar -J-Dnewrelic.config.file=conf/newrelic.yml
</code></pre>
    <p>OR</p>
    <p>Identify the path to <code>newrelic.jar</code> with the <code>JAVA_OPTS</code> <a href="https://devcenter.heroku.com/articles/config-vars">environment variable</a>.</p>
  </li>
  <li>
    <p>Edit your <code>build.sbt</code>. Call the agent, substituting <code>X.Y.Z</code> with the <a href="/docs/agents/java-agent/getting-started/java-release-notes">latest Java agent version</a>:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnVpbGQtc2J0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJDdXN0b20gYnVpbGQuc2J0In1d">
        <div data-prop-text="title">Custom build.sbt</div>
        <pre><code>name := """play-getting-started"""
version := "1.0-SNAPSHOT"
lazy val root = (project in file(".")).enablePlugins(PlayScala)
scalaVersion := "2.11.7"
libraryDependencies ++= Seq(
jdbc,
cache,
"org.postgresql" % "postgresql" % "9.4-1201-jdbc41",
ws
)
libraryDependencies &#x3C;+= scalaVersion("org.scala-lang" % "scala-compiler" % _ )
libraryDependencies ++= Seq("com.newrelic.agent.java" % "newrelic-agent" % "X.Y.Z")
libraryDependencies ++= Seq("com.newrelic.agent.java" % "newrelic-api" % "X.Y.Z")

</code></pre>
      </div>
    </div>
  </li>
  <li>
    <p>Download a customized <code>newrelic.yml</code> file from your APM account settings:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY3VzdG9taXplZC15bWwifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8PkhvdyB0byBkb3dubG9hZCBhIGN1c3RvbSA8SW5saW5lQ29kZT5uZXdyZWxpYy55bWw8L0lubGluZUNvZGU+PC8+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6ODAsImNvbHVtbiI6MTEsIm9mZnNldCI6MzU5MH0sImVuZCI6eyJsaW5lIjo4MCwiY29sdW1uIjo4MCwib2Zmc2V0IjozNjU5fX19fV0=">
        <div data-prop-text="title">[object Object]</div>
        <ol>
          <li>Log in to <a href="https://dashboard.heroku.com">dashboard.heroku.com</a>.</li>
          <li>Select your app.</li>
          <li>Select <strong>Add-ons > New Relic APM</strong>.</li>
          <li>From the New Relic UI's <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#account-dropdown">account dropdown</a>, select <strong>Account settings</strong>.</li>
          <li>In the <strong>Update your New Relic agent</strong> section, download the latest agent for your <strong>Java SE</strong> release.</li>
          <li>Unzip the downloaded file.</li>
          <li>Copy <code>newrelic.yml</code> to the <code>scala-getting-started/conf</code> directory:</li>
        </ol>
      </div>
    </div>
  </li>
  <li>
    <p>Edit <code>newrelic.yml</code> to customize the <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-app_name"><code>app_name</code></a> setting with a <a href="/docs/agents/manage-apm-agents/app-naming/name-your-application">descriptive app name</a>.</p>
  </li>
  <li>
    <p>Also in <code>newrelic.yml</code>, add your <a href="/docs/accounts/install-new-relic/account-setup/license-key">license key</a> to the <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-license_key"><code>license_key</code></a> setting.</p>
  </li>
</ol>
<h2>3. Push your changes and open the app [#push-changes]</h2>
<p>After you <a href="#configure-heroku-environment">configure your Heroku environment for New Relic</a>, push your changes and open the app to monitor it with New Relic.</p>
<ol>
  <li>
    <p>Push your changes to the dyno with this Heroku toolbelt command:</p>
    <pre><code>git add .
git commit -m 'YOUR COMMIT MESSAGE'
git push heroku master
</code></pre>
  </li>
  <li>
    <p>Open your app in your browser with this Heroku toolbelt command:</p>
    <pre><code>heroku open
</code></pre>
  </li>
  <li>
    <p>Generate some traffic to your app and wait a few minutes.</p>
  </li>
  <li>
    <p>Check your app's performance in Heroku by selecting your app and then selecting the New Relic add-on.</p>
  </li>
</ol>
<p>If no data appears or if you have problems, follow the <a href="#troubleshooting">troubleshooting</a> tips.</p>
<h2>Troubleshooting your installation [#troubleshooting]</h2>
<ul>
  <li>If you don't see the New Relic add-on after you generate traffic, go to Heroku, select <strong>Find More Add Ons</strong>, and add the APM add-on.</li>
  <li>If no data appears after waiting a few minutes, see <a href="/docs/agents/java-agent/heroku/no-data-appears-heroku-java">No data appears with Heroku (Java)</a>.</li>
</ul>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/agents/java-agent/heroku/java-agent-heroku">Java agent and Heroku</a> (for non-Scala installation on Heroku)</li>
  <li><a href="/docs/agents/java-agent/heroku/no-data-appears-heroku-java">No data appears with Heroku</a> (troubleshotoing steps after installation)</li>
  <li><a href="/docs/agents/java-agent/frameworks/scala-installation-java">Scala installation for Java</a> (Scala installation if you don't use Heroku)</li>
</ul>
