
<h2>Syntax</h2>
<pre><code>newrelic_end_of_transaction()
</code></pre>
<p>Stop timing the current transaction, but continue instrumenting it.</p>
<h2>Requirements</h2>
<p>Compatible with all agent versions.</p>
<h2>Description</h2>
<p>Stop timing the web transaction immediately. Useful when a page is done with app code and is about to stream data (file download, audio or video streaming, and so on), and you don't want streaming time to count as part of the transaction run time. The agent sends data to the daemon at the end of the transaction.</p>
<p>This is especially relevant when the time taken to complete the operation is completely outside the bounds of your application. For example, a user on a very slow connection may take a very long time to download even small files, and you wouldn't want that download time to skew the real transaction time.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Compare <a href="/docs/agents/php-agent/php-agent-api/newrelic_end_transaction"><code>newrelic_end_transaction()</code></a>, which ends instrumentation entirely.</p>
</div>
<h2>Parameters</h2>
<p>This call does not accept any parameters.</p>
<h2>Examples</h2>
<h3>Stop timing after streaming data [#streaming example]</h3>
<pre><code>function example() { 
    ... // computational logic
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_end_of_transaction(); // Used to stop recording the transaction after computing for the transaction is complete, typically when streaming data 
    }
    ... //streaming data
}
</code></pre>
