
<h2>Problem</h2>
<p>In New Relic Ruby agent version <a href="/docs/releases/ruby">6.0.0</a>, a number of APIs that were not publicly supported were deprecated or deleted. If you use any of the deleted methods, you must update your API with the recommended replacement before upgrading to Ruby agent version 6.0.0 or higher. If you use any of the deprecated methods, we recommend updating your API as soon as possible to ensure compatibility with versions of the agent higher than 6.0.0.</p>
<h2>Solution</h2>
<p>Update your API with the following recommended replacements:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXh0ZXJuYWwtc3RhcnQtc2VnbWVudCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPkV4dGVybmFsLnN0YXJ0X3NlZ21lbnQ8L0lubGluZUNvZGU+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6MjIsImNvbHVtbiI6MTEsIm9mZnNldCI6NzgzfSwiZW5kIjp7ImxpbmUiOjIyLCJjb2x1bW4iOjYwLCJvZmZzZXQiOjgzMn19fX1d">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.start_external_request_segment</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tY3JlYXRlLXNlZ21lbnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8SW5saW5lQ29kZT5UcmFuc2FjdGlvbi5jcmVhdGVfc2VnbWVudDwvSW5saW5lQ29kZT4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjoyOSwiY29sdW1uIjoxMSwib2Zmc2V0Ijo5ODZ9LCJlbmQiOnsibGluZSI6MjksImNvbHVtbiI6NjQsIm9mZnNldCI6MTAzOX19fX1d">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.start_segment</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc3RhcnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8SW5saW5lQ29kZT5UcmFuc2FjdGlvbi5zdGFydDwvSW5saW5lQ29kZT4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjozNiwiY29sdW1uIjoxMSwib2Zmc2V0IjoxMTY3fSwiZW5kIjp7ImxpbmUiOjM2LCJjb2x1bW4iOjU1LCJvZmZzZXQiOjEyMTF9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.start_transaction_or_segment</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc3RhcnQtZGF0YXN0b3JlLXNlZ21lbnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8SW5saW5lQ29kZT5UcmFuc2FjdGlvbi5zdGFydF9kYXRhc3RvcmVfc2VnbWVudDwvSW5saW5lQ29kZT4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjo0MywiY29sdW1uIjoxMSwib2Zmc2V0IjoxMzcyfSwiZW5kIjp7ImxpbmUiOjQzLCJjb2x1bW4iOjczLCJvZmZzZXQiOjE0MzR9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.start_datastore_segment</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc3RhcnQtc2VnbWVudCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPlRyYW5zYWN0aW9uLnN0YXJ0X3NlZ21lbnQ8L0lubGluZUNvZGU+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6NTAsImNvbHVtbiI6MTEsIm9mZnNldCI6MTU4MH0sImVuZCI6eyJsaW5lIjo1MCwiY29sdW1uIjo2Mywib2Zmc2V0IjoxNjMyfX19fV0=">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.start_segment</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24td3JhcCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPlRyYW5zYWN0aW9uLndyYXA8L0lubGluZUNvZGU+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6NTcsImNvbHVtbiI6MTEsIm9mZnNldCI6MTc1OX0sImVuZCI6eyJsaW5lIjo1NywiY29sdW1uIjo1NCwib2Zmc2V0IjoxODAyfX19fV0=">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.in_transaction</code></p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc3RhdGUtY3VycmVudC10cmFuc2FjdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPlRyYW5zYWN0aW9uU3RhdGUuY3VycmVudF90cmFuc2FjdGlvbjwvSW5saW5lQ29kZT4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjo2NCwiY29sdW1uIjoxMSwib2Zmc2V0IjoxOTUxfSwiZW5kIjp7ImxpbmUiOjY0LCJjb2x1bW4iOjc0LCJvZmZzZXQiOjIwMTR9fX19XQ==">
    <div data-prop-text="title">[object Object]</div>
    <p>Replace with <code>NewRelic::Agent::Tracer.current_transaction</code></p>
  </div>
</div>
