
<h2>Syntax</h2>
<pre><code>NewRelic.Api.Agent.NewRelic.AddCustomParameter(string $key, string $value)
NewRelic.Api.Agent.NewRelic.AddCustomParameter(string $key, IConvertible $value)
</code></pre>
<p>Attaches a custom attribute (a key/value pair) to the current transaction.</p>
<h2>Requirements</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>This API has been deprecated. Please use the <a href="/docs/agents/net-agent/net-agent-api/itransaction"><code>AddCustomAttribute</code></a> instead.</p>
</div>
<p>Compatible with all agent versions.</p>
<p>Must be called inside a <a href="/docs/apm/transactions/intro-transactions/transactions-new-relic-apm">transaction</a>.</p>
<h2>Description</h2>
<p>Attaches a <a href="/docs/agents/manage-apm-agents/agent-metrics/agent-attributes">custom attribute</a> (a key/value pair) to the current transaction. For the attribute value, you can report either a string or an IConvertible. (The call name is <code>AddCustomParameter</code> because "custom attributes" were previously called "custom parameters.")</p>
<p>Custom attributes can be used to add more detail and context to <a href="/docs/apm/applications-menu/error-analytics/introduction-error-analytics">errors</a> and <a href="/docs/apm/transactions/transaction-traces/introduction-transaction-traces">transaction traces</a> that are being reported to New Relic. For example, you might add a user name attribute to a <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction">transaction</a> to help you filter and analyze your data. You can attach up to 64 attributes per transaction. (Each call to this API method counts as one "user" attribute.) You can also <a href="/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes#forwarding-attributes">attach (or "forward") these attributes</a> to Browser monitoring's <a href="/docs/agents/manage-apm-agents/agent-metrics/agent-attributes#destinations">PageView</a> events.</p>
<p>For more information, see <a href="/docs/agents/net-agent/attributes/net-agent-attributes">.NET agent attributes</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you want to use your custom parameters or attributes, avoid using any of the <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a>.</p>
</div>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <pre><code>AddCustomParameter(string $key, string $value)

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>$key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The key name to add to the transaction attributes. Only the first 255 characters are retained.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$value</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The string value to add to the current transaction. There is a 255 character limit. Values that exceed this limit will be discarded.</p>
      </div>
    </div>
    <div>
      <div>
        <pre><code>AddCustomParameter(string $key, IConvertible $value)

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>$key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The key name to add to the transaction attributes. Only the first 255 characters are retained.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$value</code></p>
        <p><em>IConvertible</em></p>
      </div>
      <div>
        <p>Required. The numeric value to add to the current transaction. For NRQL functions that require a numeric value (such as <code>min()</code>, <code>max()</code>, or <code>histogram()</code>), you must convert values to singles. Other numeric values will be converted to strings. There is a 255 character limit. Values that exceed this limit will be discarded.</p>
      </div>
    </div>
  </div>
</div>
<h2>Examples</h2>
<h3>Record a numeric value [#custom-iconvertible]</h3>
<pre><code>NewRelic.Api.Agent.NewRelic.AddCustomParameter("UserGuid", (Single)1234);
</code></pre>
<h3>Record a string value [#custom-string]</h3>
<pre><code>NewRelic.Api.Agent.NewRelic.AddCustomParameter("UserName", "Data Nerd");
</code></pre>
<h3>Record both numeric and string value [#custom-iconvertible-plus-string]</h3>
<p>To record attributes for a coupon code (string) and an item ID code (single), you could include this code in the parent method:</p>
<pre><code>NewRelic.Api.Agent.NewRelic.AddCustomParameter("Discount Code", "Summer Super Sale");
NewRelic.Api.Agent.NewRelic.AddCustomParameter("Item Code", (Single)31456);
</code></pre>
