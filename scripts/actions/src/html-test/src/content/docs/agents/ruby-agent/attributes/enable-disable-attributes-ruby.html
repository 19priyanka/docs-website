
<p>This describes the properties to enable or disable attributes, and the rules that New Relic uses when determining which attributes to include or exclude for a <a href="/docs/features/agent-attributes#destinations">destination</a>. This also includes a summary of the Ruby agent properties that have been deprecated with the release of New Relic agent attributes.</p>
<h2>Properties</h2>
<p>Use the following properties to enable or disable attributes:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0cmlidXRlcy1lbmFibGVkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJhdHRyaWJ1dGVzLmVuYWJsZWQifV0=">
    <div data-prop-text="title">attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>true</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, enables capture of attributes for all destinations.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLmF0dHJpYnV0ZXMuZW5hYmxlZCJ9XQ==">
    <div data-prop-text="title">transaction_tracer.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes from transaction traces.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLmF0dHJpYnV0ZXMuZW5hYmxlZCJ9XQ==">
    <div data-prop-text="title">transaction_events.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes from transaction events.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLmF0dHJpYnV0ZXMuZW5hYmxlZCJ9XQ==">
    <div data-prop-text="title">error_collector.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes from error collection.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLmF0dHJpYnV0ZXMuZW5hYmxlZCJ9XQ==">
    <div data-prop-text="title">browser_monitoring.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes from browser monitoring.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3Bhbi1ldmVudHMtYXR0cmlidXRlcy1lbmFibGVkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJzcGFuX2V2ZW50cy5hdHRyaWJ1dGVzLmVuYWJsZWQifV0=">
    <div data-prop-text="title">span_events.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes on span events.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc2VnbWVudHMtYXR0cmlidXRlcy1lbmFibGVkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJ0cmFuc2FjdGlvbl9zZWdtZW50cy5hdHRyaWJ1dGVzLmVuYWJsZWQifV0=">
    <div data-prop-text="title">transaction_segments.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Boolean</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p>(Dynamic)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>If <code>true</code>, the agent captures attributes on transaction segments.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0cmlidXRlcy1leGNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJhdHRyaWJ1dGVzLmV4Y2x1ZGUifV0=">
    <div data-prop-text="title">attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from all destinations. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLWF0dHJpYnV0ZXMtZXhjbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLmF0dHJpYnV0ZXMuZXhjbHVkZSJ9XQ==">
    <div data-prop-text="title">transaction_tracer.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from transaction traces. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLWF0dHJpYnV0ZXMtZXhjbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLmF0dHJpYnV0ZXMuZXhjbHVkZSJ9XQ==">
    <div data-prop-text="title">transaction_events.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from transaction events. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLWF0dHJpYnV0ZXMtZXhjbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLmF0dHJpYnV0ZXMuZXhjbHVkZSJ9XQ==">
    <div data-prop-text="title">error_collector.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from error collection. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLWF0dHJpYnV0ZXMtZXhjbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLmF0dHJpYnV0ZXMuZXhjbHVkZSJ9XQ==">
    <div data-prop-text="title">browser_monitoring.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from browser monitoring. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3Bhbi1ldmVudHMtYXR0cmlidXRlcy1leGNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJzcGFuX2V2ZW50cy5hdHRyaWJ1dGVzLmV4Y2x1ZGUifV0=">
    <div data-prop-text="title">span_events.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from span events. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc2VnbWVudHMtYXR0cmlidXRlcy1leGNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJ0cmFuc2FjdGlvbl9zZWdtZW50cy5hdHRyaWJ1dGVzLmV4Y2x1ZGUifV0=">
    <div data-prop-text="title">transaction_segments.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to exclude from transaction segments. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXR0cmlidXRlcy1pbmNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJhdHRyaWJ1dGVzLmluY2x1ZGUifV0=">
    <div data-prop-text="title">attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in all destinations. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLWF0dHJpYnV0ZXMtaW5jbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fdHJhY2VyLmF0dHJpYnV0ZXMuaW5jbHVkZSJ9XQ==">
    <div data-prop-text="title">transaction_tracer.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in transaction traces. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLWF0dHJpYnV0ZXMtaW5jbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoidHJhbnNhY3Rpb25fZXZlbnRzLmF0dHJpYnV0ZXMuaW5jbHVkZSJ9XQ==">
    <div data-prop-text="title">transaction_events.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in transaction events. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLWF0dHJpYnV0ZXMtaW5jbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZXJyb3JfY29sbGVjdG9yLmF0dHJpYnV0ZXMuaW5jbHVkZSJ9XQ==">
    <div data-prop-text="title">error_collector.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in error collection. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLWF0dHJpYnV0ZXMtaW5jbHVkZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiYnJvd3Nlcl9tb25pdG9yaW5nLmF0dHJpYnV0ZXMuaW5jbHVkZSJ9XQ==">
    <div data-prop-text="title">browser_monitoring.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in browser monitoring. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3Bhbi1ldmVudHMtYXR0cmlidXRlcy1pbmNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJzcGFuX2V2ZW50cy5hdHRyaWJ1dGVzLmluY2x1ZGUifV0=">
    <div data-prop-text="title">span_events.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in span events. Allows <code>*</code> as wildcard at end.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJhbnNhY3Rpb24tc2VnbWVudHMtYXR0cmlidXRlcy1pbmNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJ0cmFuc2FjdGlvbl9zZWdtZW50cy5hdHRyaWJ1dGVzLmluY2x1ZGUifV0=">
    <div data-prop-text="title">transaction_segments.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Type</p>
          </div>
          <div>
            <p>Array</p>
          </div>
        </div>
        <div>
          <div>
            <p>Default</p>
          </div>
          <div>
            <p><code>[]</code></p>
          </div>
        </div>
        <div>
          <div>
            <p>Environ variable</p>
          </div>
          <div>
            <p><code>NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE</code></p>
          </div>
        </div>
      </div>
    </div>
    <p>Prefix of attributes to include in transaction segments. Allows <code>*</code> as wildcard at end.</p>
  </div>
</div>
<h2>Attribute rules [#attruls]</h2>
<p>New Relic follows these rules when determining which attributes to include or exclude for a destination.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1yb290LXByZWNlZGVuY2UifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlJvb3QgbGV2ZWwgdGFrZXMgcHJlY2VkZW5jZSBmb3IgZW5hYmxlZC4ifV0=">
    <div data-prop-text="title">Root level takes precedence for enabled.</div>
    <p>The <code>attributes.enabled</code> field trumps all other settings. When <code>false</code>, no attributes will be reported to New Relic.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: false
    attributes.include: foo, bar
    transaction_tracer.attributes.enabled: true

</code></pre>
    <pre><code>
Keys passed in: foo, bar, baz
    Keys included for all destinations:
    Keys excluded for all destinations: foo, bar, baz

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1kZXN0aW5hdGlvbi1wcmVjZWRlbmNlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEZXN0aW5hdGlvbiBlbmFibGVkIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBpbmNsdWRlIGFuZCBleGNsdWRlLiJ9XQ==">
    <div data-prop-text="title">Destination enabled takes precedence over include and exclude.</div>
    <p>The <code>YOUR_DESTINATION.attributes.enabled</code> flags take precedence over include and exclude keys.</p>
    <p>Example configuration:</p>
    <pre><code>transaction_tracer.attributes.enabled: false
    attributes.include: one, two
    transaction_tracer.attributes.include: three, four

</code></pre>
    <pre><code>
Keys passed in: one, two, three, four
    Keys included for transaction traces:
    Keys excluded for transaction traces: one, two, three, four

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1pbmNsdWRlZC1kZXN0aW5hdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQXR0cmlidXRlIGlzIGluY2x1ZGVkIGlmIHRoZSBkZXN0aW5hdGlvbiBpcyBlbmFibGVkLiJ9XQ==">
    <div data-prop-text="title">Attribute is included if the destination is enabled.</div>
    <p>If a destination is enabled, all user attributes are sent to that destination by default.</p>
    <p><strong>Note:</strong> All user attributes default to <code>true</code>. However, by default, request parameters are disabled for all destinations.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: true
    attributes.exclude: baz

</code></pre>
    <pre><code>
Keys passed in: foo, bar, baz
    Keys included: foo, bar
    Keys excluded: baz

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1leGNsdWRlLXdpbnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkV4Y2x1ZGUgYWx3YXlzIHN1cGVyc2VkZXMgaW5jbHVkZS4ifV0=">
    <div data-prop-text="title">Exclude always supersedes include.</div>
    <p>If the same key is listed in the include and exclude lists, then attributes with the specified key will be excluded.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: true
    attributes.include: foo, bar
    attributes.exclude: nerd, bar

</code></pre>
    <pre><code>
Keys passed in: foo, bar, nerd
    Keys included: foo
    Keys excluded: nerd, bar

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1rZXlzLWNhc2Utc2Vuc2l0aXZlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJLZXlzIGFyZSBjYXNlIHNlbnNpdGl2ZS4ifV0=">
    <div data-prop-text="title">Keys are case sensitive.</div>
    <p>Keys are case-sensitive.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: true
    attributes.exclude: username, UsErNaMe

</code></pre>
    <pre><code>
Keys passed in: username, Username, USERNAME, UsErNaMe, userNAME
    Keys included: Username, USERNAME, userNAME
    Keys excluded: username, UsErNaMe

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zdGFyLXdpbGRjYXJkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOnsidHlwZSI6Im1keFZhbHVlRXhwcmVzc2lvbiIsInZhbHVlIjoiPD5Vc2UgPElubGluZUNvZGU+XFwqPC9JbmxpbmVDb2RlPiBmb3Igd2lsZGNhcmRzLjwvPiIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjEwMDUsImNvbHVtbiI6MTEsIm9mZnNldCI6MTgyNjl9LCJlbmQiOnsibGluZSI6MTAwNSwiY29sdW1uIjo2NCwib2Zmc2V0IjoxODMyMn19fX1d">
    <div data-prop-text="title">[object Object]</div>
    <p>You can use an asterisk <code>*</code> at the end of a key as a wildcard. This will match a set of attributes with the same prefix.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: true
    attributes.include: custom*
    attributes.exclude: request.parameters.*

</code></pre>
    <pre><code>
Keys passed in: custom, custom.key1, custom.key2, request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: custom, custom.key1, custom.key2
    Keys excluded: request.parameters., request.parameters.foo, request.parameters.bar

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zcGVjaWZpYy13aW5zIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJNb3N0IHNwZWNpZmljIHNldHRpbmcgZm9yIGEga2V5IHRha2VzIHByaW9yaXR5LiJ9XQ==">
    <div data-prop-text="title">Most specific setting for a key takes priority.</div>
    <p>If multiple include or exclude attributes affect the same key, the most specific setting will have priority.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.enabled: true
    attributes.include: request.parameters.foo
    attributes.exclude: request.parameters.*

</code></pre>
    <pre><code>
Keys passed in: request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: request.parameters.foo
    Keys excluded: request.parameters., request.parameters.bar

</code></pre>Example output:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1kZXN0aW5hdGlvbi1pbmNsdWRlLWV4Y2x1ZGUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkluY2x1ZGUgb3IgZXhjbHVkZSBhZmZlY3RzIHRoZSBzcGVjaWZpYyBkZXN0aW5hdGlvbi4ifV0=">
    <div data-prop-text="title">Include or exclude affects the specific destination.</div>
    <p>If the attribute include or exclude is specified on a destination, then it only impacts that destination.</p>
    <p>Example configuration:</p>
    <pre><code>attributes.include: foo
    transaction_events.attributes.exclude: foo

</code></pre>
    <pre><code>
Keys passed in: foo
    Keys included for transaction events: 
    Keys included for other destinations: foo
    Keys excluded for transaction events: foo

</code></pre>Example output:
  </div>
</div>
<h2>URI-related properties [#uri]</h2>
<p>By default, the Ruby Agent reports Uniform Resource Identifiers (URIs) to New Relic in several different places, including the following destinations:</p>
<ul>
  <li>The <code>request.uri</code> attribute of <a href="https://docs.newrelic.com/docs/apm/applications-menu/error-analytics/error-analytics-manage-error-traces">error events</a></li>
  <li>The <code>http.url</code> attribute of <a href="https://docs.newrelic.com/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing">span events</a></li>
  <li>The <code>url</code> attribute of <a href="https://docs.newrelic.com/docs/apm/applications-menu/monitoring/view-slow-query-details">slow SQL traces</a></li>
  <li>The <code>uri</code> attribute of <a href="https://docs.newrelic.com/docs/agents/ruby-agent/features/http-client-tracing-ruby">external request segments</a></li>
</ul>
<p>New Relic recommends having these URIs reported, as they can contain useful debugging information. If your URIs contain sensitive data that you don't want reported, URI reporting can be disabled. For example, sensitive data could include email addresses or account IDs. To disable URI reporting, add any of the above attribute names to the <code>attributes.exclude</code> list.</p>
<p>For example, if you adding the following key to your configuration file will stop the agent from reporting any of the URI-related properties:</p>
<pre><code>attributes.exclude: uri
</code></pre>
<h2>Deprecated properties [#deprecated]</h2>
<p>The following properties have been deprecated. Switch to the new attributes configuration for these properties when upgrading your Ruby agent.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Deprecated property</strong></p>
      </div>
      <div>
        <p><strong>New property</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>capture_params</code></p>
      </div>
      <div>
        <p><code>attributes.include: request.parameters.*</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>resque.capture_params</code></p>
      </div>
      <div>
        <p><code>attributes.include: job.resque.args.*</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>sidekiq.capture_params</code></p>
      </div>
      <div>
        <p><code>attributes.include: job.sidekiq.args.*</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>transaction_tracer.capture_attributes</code></p>
      </div>
      <div>
        <p><code>transaction_tracer.attributes.enabled</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>error_collector.capture_attributes</code></p>
      </div>
      <div>
        <p><code>error_collector.attributes.enabled</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>browser_monitoring.capture_attributes</code></p>
      </div>
      <div>
        <p><code>browser_monitoring.attributes.enabled</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>analytics_events.capture_attributes</code></p>
      </div>
      <div>
        <p><code>transaction_events.attributes.enabled</code></p>
      </div>
    </div>
  </div>
</div>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/features/agent-attributes">Agent attributes</a> (types, destinations, and limits for attributes used by New Relic agents)</li>
  <li><a href="/docs/agents/ruby-agent/attributes/ruby-agent-attributes">Ruby agent attributes</a> (Ruby-specific attributes available as of version 3.12.0)</li>
  <li><a href="/docs/agents/ruby-agent/attributes/ruby-attribute-examples">Attribute examples</a> (scenarios and results of enabling and disabling different Ruby agent attributes)</li>
</ul>
