
<p>Follow these procedures as appropriate to temporarily disable the C SDK in your app's code library or to remove it completely.</p>
<h2>Write instrumentation you can disable [#disable]</h2>
<p>As a C library that provides direct access to the New Relic API, the C SDK cannot be turned on or off directly. However, you can write your code for the SDK so that a quick recompile and deploy can enable or disable your instrumentation.</p>
<p>One approach is to use an <code>#ifdef</code> macro. By surrounding all your instrumentation in <code>#ifdef</code> macros and setting the value of <code>YOURNAMESPACE_NEWRELIC_ENABLED</code> with your build system, you will be able to quickly enable or disable New Relic's instrumentation in your C/C++ based programs by recompiling them and then redeploying the application.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaWZkZWYifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlVzaW5nICNpZmRlZiBtYWNyb3MgdG8gZGlzYWJsZSBDIFNESyBpbnN0cnVtZW50YXRpb24ifV0=">
    <div data-prop-text="title">Using #ifdef macros to disable C SDK instrumentation</div>
    <pre><code>// replace `YOURNAMESPACE` with something that's unique to
// your company/project to ensure a unique name
#ifdef YOURNAMESPACE_NEWRELIC_ENABLED
int priority = 50;
newrelic_txn_t* txn = newrelic_start_non_web_transaction(app, transaction_name);

...

if (err) {
newrelic_notice_error(txn, priority, "Meaningful error message", "Error.class");
}

...

newrelic_end_transaction(&#x26;txn);
#endif

</code></pre>
  </div>
</div>
<h2>Uninstall completely [#uninstall]</h2>
<p>To remove the New Relic's C SDK completely from your app's code library:</p>
<ol>
  <li>Remove the linking to <code>libnewrelic.a</code> in your build system.</li>
  <li>Remove all New Relic API calls from your application code.</li>
  <li>Recompile and redeploy your application.</li>
</ol>
