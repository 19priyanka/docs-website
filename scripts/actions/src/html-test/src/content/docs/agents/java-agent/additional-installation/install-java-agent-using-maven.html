
<p>This document explains how to install the Java agent using Maven. For information on manually installing the Java agent, see <a href="/docs/agents/java-agent/installation/install-java-agent">Install the Java agent</a> and <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Java agent configuration: Config file</a>.</p>
<h2>Install agent package using Maven [#h2-install]</h2>
<ol>
  <li>
    <p>Install the New Relic Java agent, using either of these options:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDItemlwIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJJbnN0YWxsIGNvbXBsZXRlIGFnZW50IHBhY2thZ2UifV0=">
        <div data-prop-text="title">Install complete agent package</div>
        <p>This section explains how to configure Maven to download and unzip the <code>newrelic-java.zip</code> file, which contains all New Relic Java agent components.</p>
        <ul>
          <li>
            <p><code>newrelic.yml</code> (agent configuration file)</p>
          </li>
          <li>
            <p><code>newrelic.jar</code> (Java agent jar)</p>
          </li>
          <li>
            <p><a href="/docs/agents/java-agent/api-guides/guide-using-java-agent-api#api"><code>newrelic-api.jar</code></a> (Java agent API jar)</p>
          </li>
          <li>
            <p>README</p>
            <p>To do this:</p>
          </li>
        </ul>
        <ol>
          <li>
            <p>Configure your <code>pom.xml</code> to download <code>newrelic-java.zip</code>. For example:</p>
            <pre><code>&#x3C;dependency>
  &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
  &#x3C;artifactId>newrelic-java&#x3C;/artifactId>
  &#x3C;version>JAVA_AGENT_VERSION&#x3C;/version>
  &#x3C;scope>provided&#x3C;/scope>
  &#x3C;type>zip&#x3C;/type>
&#x3C;/dependency>
</code></pre>
            <p>Replace JAVA_AGENT_VERSION with the <a href="https://docs.newrelic.com/docs/agents/java-agent/getting-started/java-release-notes">latest Java agent version</a>.</p>
          </li>
          <li>
            <p>Unzip <code>newrelic-java.zip</code> by configuring <code>maven-dependency-plugin</code> in your <code>pom.xml</code>. For example:</p>
            <pre><code>&#x3C;!-- Unzip New Relic Java agent into target/ -->
     &#x3C;plugin>
        &#x3C;groupId>org.apache.maven.plugins&#x3C;/groupId>
        &#x3C;artifactId>maven-dependency-plugin&#x3C;/artifactId>
        &#x3C;version>3.1.1&#x3C;/version>
        &#x3C;executions>
          &#x3C;execution>
            &#x3C;id>unpack-newrelic&#x3C;/id>
            &#x3C;phase>package&#x3C;/phase>
            &#x3C;goals>
              &#x3C;goal>unpack-dependencies&#x3C;/goal>
            &#x3C;/goals>
            &#x3C;configuration>
              &#x3C;includeGroupIds>com.newrelic.agent.java&#x3C;/includeGroupIds>
              &#x3C;includeArtifactIds>newrelic-java&#x3C;/includeArtifactIds>
              &#x3C;!-- you can optionally exclude files -->
              &#x3C;!-- &#x3C;excludes>**/newrelic.yml&#x3C;/excludes> -->
              &#x3C;overWriteReleases>false&#x3C;/overWriteReleases>
              &#x3C;overWriteSnapshots>false&#x3C;/overWriteSnapshots>
              &#x3C;overWriteIfNewer>true&#x3C;/overWriteIfNewer>
              &#x3C;outputDirectory>${project.build.directory}&#x3C;/outputDirectory>
            &#x3C;/configuration>
          &#x3C;/execution>
        &#x3C;/executions>
      &#x3C;/plugin>
</code></pre>
            <p>This will unzip all the files into the newly created <code>newrelic/</code> within <code>project.build.directory</code></p>
            <div data-component="CollapserGroup" data-prop="W10=">
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+SGVyZSBpcyBhbiBleGFtcGxlIDxJbmxpbmVDb2RlPnBvbS54bWw8L0lubGluZUNvZGU+IHRoYXQgZG93bmxvYWRzIGFuZCBleHRyYWN0cyA8SW5saW5lQ29kZT5uZXdyZWxpYy1qYXZhLnppcDwvSW5saW5lQ29kZT4uPC8+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6ODIsImNvbHVtbiI6MjcsIm9mZnNldCI6MzQ1M30sImVuZCI6eyJsaW5lIjo4MiwiY29sdW1uIjoxNTcsIm9mZnNldCI6MzU4M319fX1d">
                <div data-prop-text="title">[object Object]</div>
                <pre><code>&#x3C;project xmlns="http://maven.apache.org/POM/4.0.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  &#x3C;modelVersion>4.0.0&#x3C;/modelVersion>

  &#x3C;groupId>com.example.application&#x3C;/groupId>
  &#x3C;artifactId>my-example-app&#x3C;/artifactId>
  &#x3C;packaging>war&#x3C;/packaging>
  &#x3C;version>1.0&#x3C;/version>
  &#x3C;name>My Example Application&#x3C;/name>
  &#x3C;url>http://example.com&#x3C;/url>

  &#x3C;dependencies>
      &#x3C;dependency>
        &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
        &#x3C;artifactId>newrelic-java&#x3C;/artifactId>
        &#x3C;version>3.47.1&#x3C;/version>
        &#x3C;scope>provided&#x3C;/scope>
        &#x3C;type>zip&#x3C;/type>
      &#x3C;/dependency>   
  &#x3C;/dependencies>

  &#x3C;!-- boilerplate code so Maven can generate a .war archive without requiring a web.xml file -->
  &#x3C;build>
    &#x3C;finalName>my-example-app&#x3C;/finalName>
    &#x3C;plugins>

      &#x3C;plugin>
        &#x3C;groupId>org.apache.maven.plugins&#x3C;/groupId>
        &#x3C;artifactId>maven-war-plugin&#x3C;/artifactId>
        &#x3C;version>3.2.2&#x3C;/version>
        &#x3C;configuration>
          &#x3C;failOnMissingWebXml>false&#x3C;/failOnMissingWebXml>
        &#x3C;/configuration>
      &#x3C;/plugin>

      &#x3C;!-- Unzip New Relic Java agent into project.build.directory -->
      &#x3C;plugin>
        &#x3C;groupId>org.apache.maven.plugins&#x3C;/groupId>
        &#x3C;artifactId>maven-dependency-plugin&#x3C;/artifactId>
        &#x3C;version>3.1.1&#x3C;/version>
        &#x3C;executions>
          &#x3C;execution>
            &#x3C;id>unpack-newrelic&#x3C;/id>
            &#x3C;phase>package&#x3C;/phase>
            &#x3C;goals>
              &#x3C;goal>unpack-dependencies&#x3C;/goal>
            &#x3C;/goals>
            &#x3C;configuration>
              &#x3C;includeGroupIds>com.newrelic.agent.java&#x3C;/includeGroupIds>
              &#x3C;includeArtifactIds>newrelic-java&#x3C;/includeArtifactIds>
              &#x3C;overWriteReleases>false&#x3C;/overWriteReleases>
              &#x3C;overWriteSnapshots>false&#x3C;/overWriteSnapshots>
              &#x3C;overWriteIfNewer>true&#x3C;/overWriteIfNewer>
              &#x3C;outputDirectory>${project.build.directory}&#x3C;/outputDirectory>
            &#x3C;/configuration>
          &#x3C;/execution>
        &#x3C;/executions>
      &#x3C;/plugin>
    &#x3C;/plugins>
  &#x3C;/build>
&#x3C;/project>

</code></pre>
              </div>
            </div>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDItYWdlbnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ikluc3RhbGwgaW5kaXZpZHVhbCBjb21wb25lbnRzIn1d">
        <div data-prop-text="title">Install individual components</div>
        <p>This section explains how to configure Maven to download individual components of the Java agent, specifically the <code>newrelic.jar</code> and the <code>newrelic-api.jar</code>.</p>
        <ol>
          <li>
            <p>Configure your <code>pom.xml</code> to download either <code>newrelic.jar</code> or <code>newrelic-api.jar</code>. Here's an example for downloading <code>newrelic.jar</code>:</p>
            <pre><code>&#x3C;dependency>
  &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
  &#x3C;artifactId>newrelic-agent&#x3C;/artifactId>
  &#x3C;version>JAVA_AGENT_VERSION&#x3C;/version>
  &#x3C;scope>provided&#x3C;/scope>
&#x3C;/dependency>
</code></pre>
            <p>Here's an example for downloading <code>newrelic-api.jar</code>:</p>
            <pre><code>&#x3C;dependency>
  &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
  &#x3C;artifactId>newrelic-api&#x3C;/artifactId>
  &#x3C;version>JAVA_AGENT_VERSION&#x3C;/version>
  &#x3C;scope>compile&#x3C;/scope>
&#x3C;/dependency>
</code></pre>
            <p>Replace JAVA_AGENT_VERSION with the <a href="/docs/agents/java-agent/getting-started/java-release-notes">latest Java agent version</a>.</p>
          </li>
          <li>
            <p>Locate the <code>newrelic.yml</code> file you received when creating your New Relic account or download one for the <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/java-release-notes">version of the agent</a> that you are using.</p>
            <div data-component="CollapserGroup" data-prop="W10=">
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+SGVyZSBpcyBhbiBleGFtcGxlIDxJbmxpbmVDb2RlPnBvbS54bWw8L0lubGluZUNvZGU+IGZvciB3b3JraW5nIHdpdGggdGhlIGluZGl2aWR1YWwgY29tcG9uZW50cyAoSmF2YSBhZ2VudCBhbmQgQVBJIGphcnMpLjwvPiIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE4MywiY29sdW1uIjoyNywib2Zmc2V0Ijo3ODc0fSwiZW5kIjp7ImxpbmUiOjE4MywiY29sdW1uIjoxNTUsIm9mZnNldCI6ODAwMn19fX1d">
                <div data-prop-text="title">[object Object]</div>
                <pre><code>&#x3C;project xmlns="http://maven.apache.org/POM/4.0.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  &#x3C;modelVersion>4.0.0&#x3C;/modelVersion>

  &#x3C;groupId>com.example.application&#x3C;/groupId>
  &#x3C;artifactId>my-example-app&#x3C;/artifactId>
  &#x3C;packaging>war&#x3C;/packaging>
  &#x3C;version>1.0&#x3C;/version>
  &#x3C;name>My Example Application&#x3C;/name>
  &#x3C;url>http://example.com&#x3C;/url>

  &#x3C;dependencies>

    &#x3C;!-- The newrelic.jar dependency. -->
    &#x3C;dependency>
      &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
      &#x3C;artifactId>newrelic-agent&#x3C;/artifactId>
      &#x3C;version>3.47.1&#x3C;/version>
      &#x3C;scope>provided&#x3C;/scope>
    &#x3C;/dependency>

    &#x3C;!-- The newrelic-api.jar dependency. -->
    &#x3C;dependency>
      &#x3C;groupId>com.newrelic.agent.java&#x3C;/groupId>
      &#x3C;artifactId>newrelic-api&#x3C;/artifactId>
      &#x3C;version>3.47.1&#x3C;/version>
      &#x3C;scope>compile&#x3C;/scope>
  &#x3C;/dependency>

&#x3C;/project>

</code></pre>
              </div>
            </div>
          </li>
        </ol>
      </div>
    </div>
  </li>
  <li>
    <p>Place <code>newrelic.yml</code> in the same folder as <code>newrelic.jar</code>, unless you specify otherwise in the JVM arg <code>-Dnewrelic.config.file</code>.</p>
  </li>
  <li>
    <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Configure the <code>newrelic.yml</code> file</a> (or <a href="https://docs.newrelic.com/docs/agents/java-agent/configuration/java-agent-configuration-config-file#General">JVM system properties</a>) with your <a href="/docs/accounts-partnerships/install-new-relic/account-setup/license-key"><code>license_key</code></a> and <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-app_name"><code>app_name</code></a>.</p>
  </li>
  <li>
    <p>Pass <code>-javaagent:/path/to/newrelic.jar</code> to the JVM running your application server.</p>
  </li>
  <li>
    <p>Optional: If using the <a href="https://docs.newrelic.com/docs/agents/java-agent/custom-instrumentation/java-agent-api">New Relic Java agent API</a>, make the API jar available at compile time by adding it to your application class path.</p>
  </li>
</ol>
<p>Generate some traffic for your app, then wait a few minutes for data to appear in the <a href="/docs/applications-menu/applications-overview">APM <strong>Summary</strong> page</a>. If nothing appears, follow the <a href="/docs/agents/java-agent/troubleshooting/no-data-appears-java">troubleshooting procedures</a> .</p>
