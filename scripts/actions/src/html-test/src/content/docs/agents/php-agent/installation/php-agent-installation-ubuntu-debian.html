
<p>These are the standard procedures to install New Relic's <a href="/docs/agents/php-agent/getting-started/new-relic-php#configuration">PHP agent</a> on Ubuntu or Debian. This is not the same as the Ubuntu and Debian procedures for <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#apt-based">infrastructure agent</a>. For other situations, see the <a href="/docs/php/php-agent-installation-non-standard-php">PHP agent procedures for non-standard PHP installations</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>The package name for the New Relic for PHP agent is <code>newrelic-php5</code>. Although the name references PHP 5, this package works for all <a href="/docs/agents/php-agent/getting-started/php-agent-compatibility-requirements#php-release">supported PHP versions</a>, including PHP 7 versions.</p>
</div>
<h2>Recommended: Use <code>apt</code> [#use-apt]</h2>
<p>This is the recommended method for New Relic installation and maintenance.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Run the commands in this procedure as root.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Step</p>
      </div>
      <div>
        <p>Notes</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>1.</strong></p>
      </div>
      <div>
        <p><strong>Configure the New Relic apt repository.</strong></p>
        <pre><code>echo 'deb http://apt.newrelic.com/debian/ newrelic non-free' | sudo tee /etc/apt/sources.list.d/newrelic.list

</code></pre>This command adds `deb http://apt.newrelic.com/debian/ newrelic non-free` to `/etc/apt/sources.list.d/newrelic.list`. It creates the file if it does not exist.
        This step is only required once per system.
      </div>
    </div>
    <div>
      <div>
        <p><strong>2.</strong></p>
      </div>
      <div>
        <p><strong>Trust the New Relic GPG key.</strong></p>
        <p>This step is required to register New Relic as an authenticated source where apt-get will look for new packages. To get the New Relic public apt-key from global key servers, run the following command as root:</p>
        <pre><code>wget -O- https://download.newrelic.com/548C16BF.gpg | sudo apt-key add -

</code></pre>If you do not run this command as root, you may see an error message about the public key.
      </div>
    </div>
    <div>
      <div>
        <p><strong>3.</strong></p>
      </div>
      <div>
        <p><strong>Update the local package list.</strong></p>
        <p>Execute the following command as root:</p>
        <pre><code>sudo apt-get update

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>4.</strong></p>
      </div>
      <div>
        <p><strong>Install the PHP agent.</strong></p>
        <p>Execute the following command to install directly from the New Relic repositories:</p>
        <pre><code>sudo apt-get install newrelic-php5

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>5.</strong></p>
      </div>
      <div>
        <p><strong>Non-standard installations: Complete installation manually.</strong></p>
        <p>If you are not using the default Ubuntu or Debian PHP packages, the <code>newrelic-php5</code> package may be unable to configure PHP automatically. You may see this error:</p>
        <pre><code>Please run newrelic-install as root to complete installation.

</code></pre>
        <pre><code>
sudo newrelic-install install

</code></pre>If so, run the following command:
      </div>
    </div>
    <div>
      <div>
        <p><strong>6.</strong></p>
      </div>
      <div>
        <p><strong>Configure your application name and New Relic license key.</strong></p>
        <p>The installation process prompts for your application name and license key. Your <a href="/docs/subscriptions/license-key">license key</a> appears in the account information section of <strong>Account settings</strong>. For headless installations, you can also <a href="#preseeding">preseed your license key and application name by using <code>debconf</code></a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>7.</strong></p>
      </div>
      <div>
        <p><strong>Restart your web server or FastCGI Process Manager (FPM).</strong></p>
        <p>Generate traffic for your app, and wait a few minutes for your application to send data to New Relic. Then, <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">check your app's performance in the New Relic UI</a>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Optional: Unattended installation [#unattended]</h2>
<p>To run an unattended installation, you can use non-interactive mode. Include the <code>-y</code> flag to automatically respond <code>yes</code> to any prompt during package installation. For example:</p>
<pre><code>DEBIAN_FRONTEND=noninteractive apt-get -y install newrelic-php5
</code></pre>
<h2>Manual: Use <code>dpkg</code> [#use-dpkg]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you use <code>dpkg</code>, must manually install updates. This is why New Relic recommends the <a href="#use-apt"><code>apt</code> method</a> for installation and maintenance. Run the commands in this procedure as root.</p>
</div>
<p>To install the PHP agent manually using <code>dpkg</code>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Step</p>
      </div>
      <div>
        <p>Notes</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>1.</strong></p>
      </div>
      <div>
        <p><strong>Copy the URL for the package download.</strong></p>
        <p>Navigate to the appropriate URL for your architecture, and copy the full URL for the latest <code>newrelic-daemon</code>, <code>newrelic-php5-common</code>, and <code>newrelic-php5</code> packages:</p>
        <ul>
          <li><a href="https://download.newrelic.com/debian/dists/newrelic/non-free/binary-i386/">32-bit architecture</a></li>
          <li><a href="https://download.newrelic.com/debian/dists/newrelic/non-free/binary-amd64/">64-bit architecture</a></li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><strong>2.</strong></p>
      </div>
      <div>
        <p><strong>Download the package.</strong></p>
        <p>Run the following <code>wget</code> command, replacing <code>https://LINK_TO_PACKAGE</code> with the full URL of the package:</p>
        <pre><code>wget -L https://LINK_TO_PACKAGE

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><strong>3.</strong></p>
      </div>
      <div>
        <p><strong>Install the PHP agent.</strong></p>
        <p>Run the appropriate command as root, replacing <code>X.X.X.X</code> with the current version:</p>
        <p><strong>32-bit:</strong></p>
        <pre><code>dpkg -i newrelic-php5-common_X.X.X.X_all.deb newrelic-daemon_X.X.X.X_i386.deb newrelic-php5_X.X.X.X_i386.deb

</code></pre>
        <pre><code>
dpkg -i newrelic-php5-common_X.X.X.X_all.deb newrelic-daemon_X.X.X.X_amd64.deb newrelic-php5_X.X.X.X_amd64.deb

</code></pre>**64-bit:**
      </div>
    </div>
    <div>
      <div>
        <p><strong>4.</strong></p>
      </div>
      <div>
        <p><strong>Configure your application name and New Relic license key.</strong></p>
        <p>The installation process prompts for your application name and license key. Your <a href="/docs/subscriptions/license-key">license key</a> appears in the account information section of <strong>Account settings</strong>. For headless installations, you can also <a href="#preseeding">preseed your license key and application name by using <code>debconf</code></a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>5.</strong></p>
      </div>
      <div>
        <p><strong>Restart your web server or FastCGI Process Manager (FPM).</strong></p>
        <p>Generate traffic for your app, and wait a few minutes for your application to send data to New Relic. Then, <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">check your app's performance in the New Relic UI</a>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Headless: Preseed license key and app name [#preseeding]</h2>
<p>For headless installations, you can preseed your <a href="/docs/subscriptions/license-key">license key</a> and <a href="/docs/site/naming-your-application">application name</a>. You must use the default php5 packages provided by your distribution. To preseed, set values in your <code>debconf</code> database by using <a href="http://manpages.ubuntu.com/manpages/trusty/en/man1/debconf-set-selections.1.html"><code>debconf-set-selections</code></a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>These settings will be ignored if you are not using a packaged PHP, and you will be prompted to run <code>newrelic-install</code>.</p>
</div>
<p>These keys are located in the <code>newrelic-php5</code> package:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Type</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <pre><code>newrelic-php5/application-name

</code></pre>The name of your app. This string sets [`newrelic.appname`](/docs/php/php-agent-phpini-settings#inivar-appname) in your `newrelic.ini`.
      </div>
      <div>
        <p>string</p>
      </div>
    </div>
    <div>
      <div>
        <pre><code>newrelic-php5/license-key

</code></pre>Your [New Relic license key](/docs/subscriptions/license-key). This string sets [`newrelic.license`](/docs/php/php-agent-phpini-settings#inivar-license) in your `newrelic.ini`.
      </div>
      <div>
        <p>string</p>
      </div>
    </div>
  </div>
</div>
<p>For example, you can run these commands to preseed your app name and license key:</p>
<pre><code>echo newrelic-php5 newrelic-php5/application-name string "My App Name" | debconf-set-selections
echo newrelic-php5 newrelic-php5/license-key string "YOUR_LICENSE_KEY" | debconf-set-selections
</code></pre>
