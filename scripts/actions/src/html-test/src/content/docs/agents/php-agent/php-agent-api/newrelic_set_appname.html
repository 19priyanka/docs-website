
<h2>Syntax</h2>
<pre><code>newrelic_set_appname(string $name)
newrelic_set_appname(string $name, string $license[, bool $xmit])
</code></pre>
<p>Sets the New Relic app name, which controls data rollup.</p>
<h2>Requirements</h2>
<p>Agent version <a href="/docs/release-notes/agent-release-notes/php-release-notes/php-agent-315111">3.1.5.111</a> or higher.</p>
<h2>Description</h2>
<p>Set the New Relic <a href="/docs/agents/manage-apm-agents/app-naming/name-your-application">application name</a>, which the New Relic UI uses to connect your data to the correct application.</p>
<p>The recommended and preferred method for setting the New Relic application name is to use <a href="https://docs.newrelic.com/docs/agents/php-agent/configuration/php-agent-configuration#inivar-appname">global or per-directory INI settings</a> to associate your application to the desired name at the start of execution.</p>
<p>If you cannot edit your agent config file (for example, many shared hosting environments do not allow you to edit config files), the <a href="https://docs.newrelic.com/docs/agents/php-agent/php-agent-api/newrelic_set_appname">newrelic_set_appname</a> API call can be used to configure app name, <a href="/docs/accounts-partnerships/accounts/account-setup/license-key">license key</a> (optional, for if you use multiple accounts), and a true/false flag (optional, to determine whether to keep or discard previously recorded data). To ensure maximal APM trace continuity, call this as early as possible. This API call will discard all current transaction data and start a new transaction after it has reconnected with the given app name.</p>
<p>For other app-naming options, see <a href="/docs/agents/php-agent/configuration/name-your-php-application">Name your PHP application</a>. When possible, INI-based solutions are recommended.</p>
<h3>Call and location behavior</h3>
<p>New Relic highly recommends that you call this function as soon as possible and in as shallow of a call stack as possible. Applications are discrete entities in APM, and discontinuity of transaction traces is inherent to this method's usage. After connecting with the new app name, the new transactions start reporting to the new application without the context of the previous application or the data that has been reported to it.</p>
<p>This method is intended to be called once, as each call to the API (even with the same app name) will cause the current transaction data to be discarded and lead to further discontinuity of transaction traces.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <pre><code>function newrelic_set_appname (string $name) : bool

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>$name</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. Name(s) of app metrics should be reported under in New Relic user interface. Uses the same format as <a href="/docs/agents/php-agent/configuration/php-agent-newrelicini-settings#inivar-appname"><code>newrelic.appname</code></a> and can set multiple application names by separating each with a semicolon <code>;</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <pre><code>function newrelic_set_appname (string $name, string $license, bool $xmit) : bool

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>$name</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. Name(s) of app metrics should be reported under in New Relic user interface. Uses the same format as <a href="/docs/agents/php-agent/configuration/php-agent-newrelicini-settings#inivar-appname"><code>newrelic.appname</code></a> and can set multiple application names by separating each with a semi-colon <code>;</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$license</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required (can be empty string). Specify a different license key to report metrics to a different New Relic account. If set to empty string, defaults to license key in the agent's <code>newrelic.ini</code> file.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$xmit</code></p>
        <p><em>boolean</em></p>
      </div>
      <div>
        <p>Optional. Defaults to <code>false</code>.</p>
        <p>If <code>false</code> or omitted, the agent discards the current transaction and all data captured up to this call is lost.</p>
        <p>If <code>true</code>, the agent sends the data that was gathered right before executing this call. <strong>The data is associated with the old app name</strong>. This has a very slight performance impact as it takes a few milliseconds for the agent to dump its data.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>true</code> if the application name was successfully changed, or <code>false</code> otherwise.</p>
<h2>Examples</h2>
<h3>Set a single app name [#only-app-name]</h3>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_appname("App1");
    }
    ...
}
</code></pre>
<h3>Set two app names [#two-app-names]</h3>
<p>This example sets <a href="/docs/agents/manage-apm-agents/app-naming/use-multiple-names-app">multiple app names</a>:</p>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_appname("App1;App2");
    }
    ...
}
</code></pre>
<h3>Set app name and license key [#app-name-license-key]</h3>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_appname("App1", "01234567890abcde01234567890abcde01234567890");
    }
    ...
}
</code></pre>
<h3>Set app name and keep previous data [#app-name-and-data]</h3>
<p>This example sets an app name and keeps the existing data, but doesn't change the license key:</p>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_appname("App1", "", true);
    }
    ...
}
</code></pre>
<h3>Set app name and license key, and keep previous data [#app-name-and-data]</h3>
<p>This example sets the app name and license key, and keeps the existing data:</p>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_appname("App1", "01234567890abcde01234567890abcde01234567890", true);
    }
    ...
}
</code></pre>
