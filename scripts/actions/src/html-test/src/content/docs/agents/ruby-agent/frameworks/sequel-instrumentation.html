
<p>If you are using <a href="https://github.com/jeremyevans/sequel">the Sequel database toolkit</a> as your ORM for Ruby instrumentation, New Relic can provide some insight into your application's database usage.</p>
<h2>Contents [#qiklinks]</h2>
<h2>Setting up Sequel [#setup]</h2>
<p>New Relic's Sequel instrumentation is implemented via a plugin for Sequel::Models, and an extension for Sequel::Databases. Every database handle that Sequel knows about when New Relic is loaded will automatically be instrumented, but if you're using a version of Sequel before 3.47.0, you'll need to add the extension yourself if you create any after the instrumentation is loaded:</p>
<pre><code>db = Sequel.connect( ... )
db.extension :newrelic_instrumentation
</code></pre>
<p>Versions after 3.47.0 use <code>Database.extension</code> to automatically install the extension for new connections.</p>
<h2>Disabling Sequel [#disable]</h2>
<p>If you do not want your models or database connections to be instrumented, you can disable Sequel instrumentation by setting <a href="/docs/agents/ruby-agent/installation-and-configuration/ruby-agent-configuration#disable_sequel_instrumentation"><code>disable_sequel_instrumentation</code></a> in <code>newrelic.yml</code> to <code>true</code>.</p>
