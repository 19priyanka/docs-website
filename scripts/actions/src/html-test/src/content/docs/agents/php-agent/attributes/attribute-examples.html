
<p>Here are some examples of using attributes with the New Relic PHP agent. To use these settings:</p>
<ol>
  <li>Modify your <code>newrelic.ini</code> file as applicable.</li>
  <li>Restart the agent and its daemon for changes to take effect.</li>
</ol>
<h2>Capture request parameters [#ex_req_params]</h2>
<p>By default, the agent does not capture request parameters.</p>
<p>You can use the following configuration to turn on parameter capture for these default destinations: <code>transaction_tracer</code>, <code>transaction_events</code>, and <code>error_collector</code>. If you want to limit the destinations that you capture parameters for, see <a href="#example2">Selecting specific destinations</a>.</p>
<p><strong>Configuration:</strong></p>
<pre><code>newrelic.attributes.include = request.parameters.*
</code></pre>
<h2>Capture only specific request parameters [#ex_req_params_exclude]</h2>
<p>To capture only specific request parameters, you can pass a list to <code>attributes.include</code>:</p>
<p><strong>Configuration</strong>:</p>
<pre><code>newrelic.attributes.include = request.parameters.user_id request.parameters.product_id
</code></pre>
<h2>Disabling all attributes [#example1]</h2>
<p>In this example, attributes are disabled, so the include and exclude lists will be ignored and all attributes will be filtered out.</p>
<p><strong>Configuration:</strong></p>
<pre><code>newrelic.attributes.enabled = false
newrelic.attributes.include = request.parameters.*
</code></pre>
<p><strong>Input keys:</strong></p>
<pre><code>foo, bar, request.parameters.foo, request.parameters.bar
</code></pre>
<p><strong>Output for destinations:</strong></p>
<pre><code>transaction_tracer: none
error_collector: none
transaction_events: none
browser_monitoring: none
</code></pre>
<h2>Selecting specific destinations [#example2]</h2>
<p>In this example:</p>
<ul>
  <li>Attributes are disabled for transaction traces. The include and exclude lists will be ignored, and all attributes will be filtered out for this destination.</li>
  <li>Attributes are also disabled for browser monitoring by default.</li>
  <li>Request parameters (prefixed with <code>request.parameters.</code>) are off by default for all destinations.</li>
</ul>
<p>As a result, only <code>bar</code> is sent in traced errors and transaction events.</p>
<p><strong>Configuration:</strong></p>
<pre><code>newrelic.attributes.enabled = true
newrelic.transaction_tracer.attributes.enabled = false
newrelic.attributes.exclude = foo
</code></pre>
<p><strong>Input keys:</strong></p>
<pre><code>foo, bar, request.parameters.foo, request.parameters.bar
</code></pre>
<p><strong>Output for destinations:</strong></p>
<pre><code>transaction_tracer: none
error_collector: bar
transaction_events: bar
browser_monitoring: none
</code></pre>
<h2>Selecting values and destinations [#example3]</h2>
<p>In this example, specific input keys are selected for certain output destinations and excluded from others.</p>
<ul>
  <li>The <code>food.fruit.banana</code> key will be excluded only from transaction traces.</li>
  <li>The <code>food</code> and <code>food.bread</code> keys will be excluded from all destinations.</li>
</ul>
<p><strong>Configuration:</strong></p>
<pre><code>newrelic.browser_monitoring.attributes.enabled = true
newrelic.attributes.exclude = food*
newrelic.attributes.include = food.fruit.*
newrelic.transaction_tracer.attributes.exclude = food.fruit.banana
</code></pre>
<p><strong>Input keys:</strong></p>
<pre><code>food, food.bread, food.fruit.banana, food.fruit.apple
</code></pre>
<p><strong>Output for destinations:</strong></p>
<pre><code>transaction_tracer: food.fruit.apple
error_collector: food.fruit.banana, food.fruit.apple
transaction_events: food.fruit.banana, food.fruit.apple
browser_monitoring: food.fruit.banana, food.fruit.apple
</code></pre>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/features/agent-attributes">Agent attributes</a> (types, destinations, and limits for attributes used by New Relic agents)</li>
  <li><a href="/docs/php/php-agent-attributes">PHP agent attributes</a> (PHP-specific attributes available as of version 4.9)</li>
  <li><a href="/docs/php/php-agent-enabling-and-disabling-attributes">Enabling and disabling attributes</a> (properties, rules, and backwards compatibility information for PHP agent attributes)</li>
</ul>
