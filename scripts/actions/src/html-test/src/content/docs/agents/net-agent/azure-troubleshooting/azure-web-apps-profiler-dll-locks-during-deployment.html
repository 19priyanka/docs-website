
<h2>Problem</h2>
<p>When deploying a new version of New Relic's .NET agent (<code>NewRelic.Profiler.dll</code>) for your <a href="/docs/agents/net-agent/azure-installation/install-app-azure-web-apps">Microsoft Azure Web App</a>, an error message prevents you from continuing until you stop or restart the process.</p>
<h2>Solution</h2>
<p>Normally the process stops, then the assets are overwritten by the assets that New Relic packs in the site root (located at <code>D:\Home\site\wwwroot\newrelic</code>) during a deployment. To resolve the problem, try either of these solutions.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3RvcC1kbGwtZGVwbG95In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJTdG9wIHRoZSBmaWxlIGZyb20gcmVsZWFzaW5nIn1d">
    <div data-prop-text="title">Stop the file from releasing</div>
    <p>This solution is available for your Azure Web App if you are attempting to deploy a new .NET agent version over an existing version:</p>
    <ol>
      <li>Stop your web app to release the <code>.dll</code> file.</li>
      <li>Allow the update to proceed.</li>
      <li>Once the deploy is complete, restart the instance.</li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic2l0ZS1leHRlbnNpb24ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlVzZSB0aGUgTmV3IFJlbGljIFNpdGUgRXh0ZW5zaW9uIn1d">
    <div data-prop-text="title">Use the New Relic Site Extension</div>
    <p>You can install New Relic's .NET agent into your Azure Web App by using the <a href="https://www.siteextensions.net/packages/NewRelic.Azure.WebSites/">New Relic Site Extension</a>. (You should only need to install the extension once.)</p>
    <ol>
      <li>
        <p>Navigate to <strong><a href="https://yoursite.scm.azurewebsites.net/">https://yoursite.scm.azurewebsites.net/</a></strong> and select <strong>Site Extensions</strong>.</p>
      </li>
      <li>
        <p>From the <strong>Gallery</strong>, select the add
          <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1wbHVzIn1d"></div>icon, then select <strong>New Relic</strong>.
        </p>
      </li>
      <li>
        <p>Follow the instructions to manually <a href="/docs/agents/net-agent/azure-installation/install-app-azure-web-apps">add the configuration keys</a> to your web app, and use the option that best fits your needs.</p>
        <p>To update the Site Extension: From the <a href="https://portal.azure.com">Azure Portal</a>, select <strong>WebApps > (select your site) > All Settings > Extensions > New Relic</strong>.</p>
      </li>
    </ol>
  </div>
</div>
