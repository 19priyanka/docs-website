
<p>Our Java agent auto-instruments your code so you can start monitoring applications. We show you here how to complete a basic Java agent installation.</p>
<p>To install the agent, use our launcher, or follow the instructions below.</p>
<div data-component="ButtonLink" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJkYXRhLXRlc3NlbiIsInZhbHVlIjoic3RpdGNoZWRQYXRoTGlua0NsaWNrIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InJvbGUiLCJ2YWx1ZSI6ImJ1dHRvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0byIsInZhbHVlIjoiaHR0cHM6Ly9vbmUubmV3cmVsaWMuY29tL2xhdW5jaGVyL25yMS1jb3JlLnNldHRpbmdzP3BhbmU9ZXlKdVpYSmtiR1YwU1dRaU9pSjBkV056YjI0dWNHeG5MV2x1YzNSeWRXMWxiblF0WlhabGNubDBhR2x1WnlKOSZjYXJkc1swXT1leUp1WlhKa2JHVjBTV1FpT2lKelpYUjFjQzF1WlhKa2JHVjBjeTV6WlhSMWNDMXFZWFpoTFdsdWRHVm5jbUYwYVc5dUlpd2lZV05qYjNWdWRFbGtJam95TmpRd05EQTVmUT09JnBsYXRmb3JtW2FjY291bnRJZF09MSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJwcmltYXJ5In1d">
  <p>Add Java data</p>
</div>
<h2>1. Before you install [#overview]</h2>
<p>Check the following:</p>
<ul>
  <li>Make sure you have signed up for a <a href="/docs/accounts-partnerships/accounts/account-setup/creating-your-new-relic-account">New Relic account</a>.</li>
  <li>Review the <a href="/docs/agents/java-agent/getting-started/compatibility-requirements-java-agent">compatibility and requirements</a>.</li>
  <li>Check if your environment requires <a href="/docs/agents/java-agent/additional-installation">additional or alternative install steps</a>.</li>
</ul>
<h2>2. Get the agent [#download-agent]</h2>
<p>Download <code>newrelic-java.zip</code> using <code>curl</code>, <code>Invoke-WebRequest</code> (PowerShell), or the New Relic UI:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZG93bmxvYWQtZnJvbS1jdXJsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOnsidHlwZSI6Im1keFZhbHVlRXhwcmVzc2lvbiIsInZhbHVlIjoiPD5Eb3dubG9hZCB1c2luZyA8SW5saW5lQ29kZT5jdXJsPC9JbmxpbmVDb2RlPjwvPiIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjgwLCJjb2x1bW4iOjExLCJvZmZzZXQiOjMzOTh9LCJlbmQiOnsibGluZSI6ODAsImNvbHVtbiI6NjIsIm9mZnNldCI6MzQ0OX19fX1d">
    <div data-prop-text="title">[object Object]</div>
    <p>Complete the following:</p>
    <ol>
      <li>
        <p>Start a command-line session.</p>
      </li>
      <li>
        <p>Change to a temporary directory where you can download the zip file.</p>
      </li>
      <li>
        <p>Execute this <code>curl</code> command:</p>
        <pre><code>curl -O https://download.newrelic.com/newrelic/java-agent/newrelic-agent/current/newrelic-java.zip
</code></pre>
      </li>
      <li>
        <p>Unzip <code>newrelic-java.zip</code></p>
      </li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZG93bmxvYWQtZnJvbS1wb3dlcnNoZWxsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOnsidHlwZSI6Im1keFZhbHVlRXhwcmVzc2lvbiIsInZhbHVlIjoiPD5Eb3dubG9hZCB1c2luZyA8SW5saW5lQ29kZT5JbnZva2UtV2ViUmVxdWVzdDwvSW5saW5lQ29kZT4gKFBvd2VyU2hlbGwpPC8+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6OTYsImNvbHVtbiI6MTEsIm9mZnNldCI6Mzg2N30sImVuZCI6eyJsaW5lIjo5NiwiY29sdW1uIjo4OCwib2Zmc2V0IjozOTQ0fX19fV0=">
    <div data-prop-text="title">[object Object]</div>
    <p>Complete the following:</p>
    <ol>
      <li>
        <p>Start a PowerShell session.</p>
      </li>
      <li>
        <p>Change to a temporary directory where you can download the zip file.</p>
      </li>
      <li>
        <p>Execute this PowerShell command:</p>
        <pre><code>Invoke-WebRequest -Uri https://download.newrelic.com/newrelic/java-agent/newrelic-agent/current/newrelic-java.zip -OutFile newrelic-java.zip
</code></pre>
      </li>
      <li>
        <p>Unzip <code>newrelic-java.zip</code>:</p>
        <pre><code>Expand-Archive -Path newrelic-java.zip -DestinationPath DESTINATION_PATH
</code></pre>
      </li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZG93bmxvYWQtZnJvbS1VSSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRG93bmxvYWQgZnJvbSB0aGUgTmV3IFJlbGljIFVJIn1d">
    <div data-prop-text="title">Download from the New Relic UI</div>
    <p>Complete the following:</p>
    <ol>
      <li><a href="http://www.newrelic.com/" title="Link opens in new window.">Sign in to New Relic.</a></li>
      <li>From the <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#account-dropdown">account dropdown</a> in the New Relic UI, select <strong>Account settings</strong>.</li>
      <li>In the right sidebar under <strong>Most recent</strong>, select the Java agent, and save the <code>newrelic-java.zip</code> to a temporary directory.</li>
      <li>Unzip <code>newrelic-java.zip</code>.</li>
    </ol>
  </div>
</div>
<h2>3. Configure the agent [#config-file]</h2>
<p>Here's how to do a basic setup with agent configuration settings in <code>newrelic.yml</code>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>For an advanced installation, you can pass settings with <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#Environment_Variables">environment variables</a>, <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#System_Properties">Java system properties</a>, or <a href="/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration">server-side configuration</a>. To understand the precedence of these configuration settings, see <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Java agent configuration: Config file</a>.</p>
</div>
<p>The Java agent requires the <code>license_key</code> and <code>app_name</code> settings at startup. All the other settings are optional, and you can review them in <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Java agent configuration: Config file</a>.</p>
<p>Go to the unzipped installation file, and inside the <code>newrelic</code> subdirectory, edit <code>newrelic.yml</code>:</p>
<ol>
  <li>
    <p>Find the line with <code>license_key</code>.</p>
  </li>
  <li>
    <p>Replace '&#x3C;%= license_key %>' with your <a href="/docs/accounts/install-new-relic/account-setup/license-key">license</a>. For example:</p>
    <pre><code>license_key: 456n20n1367ov2s174v51nvn789d21s67v26NRAL
</code></pre>
  </li>
  <li>
    <p>Find the line with <code>app_name</code>.</p>
  </li>
  <li>
    <p>Replace My Application with a name that helps you identify the application. For example:</p>
    <pre><code>app_name: Tax Calculator
</code></pre>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
      <p>If you need tips about how to name your application, see <a href="/docs/agents/manage-apm-agents/app-naming/name-your-application">Name your application</a>.</p>
    </div>
  </li>
  <li>
    <p>Add optional settings that you want, such as <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#Logging-Configuration">agent logging</a> and <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#ev-NEW_RELIC_DISTRIBUTED_TRACING_ENABLED">distributed tracing</a> (or add them later).</p>
  </li>
  <li>
    <p>Save and close <code>newrelic.yml</code>.</p>
  </li>
</ol>
<h2>4. Install the agent [#install-agent]</h2>
<p>The Java agent installation involves copying all the unzipped New Relic files into the directory structure of your application server/container. For example, you can create a <code>/opt/newrelic</code> directory, but if you want to put the files elsewhere, make sure of the following:</p>
<ul>
  <li>The .jar files in the directory cannot be on the classpath.</li>
  <li>The .jar files cannot be in directories specified in <code>java.endorsed.dirs</code>.</li>
</ul>
<p>To install the Java agent:</p>
<ol>
  <li>
    <p>In your application server/container directory structure, create a directory for New Relic files (for example, <code>/opt/newrelic</code>).</p>
  </li>
  <li>
    <p>Copy all the New Relic files from your unzipped <code>newrelic</code> directory into your new directory.</p>
  </li>
  <li>
    <p>Make sure that your application server/container includes this option when it starts Java (for tips on how to do this with your tool or framework, see <a href="/docs/agents/java-agent/installation/start-java-agent-jvm-switch">JVM arguments</a>):</p>
    <pre><code>-javaagent:/full/path/to/newrelic.jar
</code></pre>
  </li>
  <li>
    <p>Start or restart your application server/container.</p>
  </li>
</ol>
<p>Generate some traffic for your app, and then wait a few minutes for data to appear in the <a href="/docs/applications-menu/applications-overview">APM Summary page</a>. If nothing appears, follow the <a href="/docs/agents/java-agent/troubleshooting/no-data-appears-java">troubleshooting procedures</a>.</p>
<h2>5. Post-installation tasks [#follow-up-tips]</h2>
<p>If you are using <code>newrelic.yml</code> to make configuration settings, consider the following:</p>
<ul>
  <li>We recommend you change the default <code>newrelic.yml</code> file permissions to read/write only for the owner of the application server process.</li>
  <li>As you would with other important files, be sure <code>newrelic.yml</code> is part of your backup routine.</li>
  <li>We recommend using New Relic Diagnostics to <a href="https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics#h2-validate-your-config-file-settings">validate your settings</a>, either before or after you deploy.</li>
</ul>
<h2>What's next? [#next-steps]</h2>
<p>Here are some additional topics to consider:</p>
<ul>
  <li>For Docker questions, see <a href="/docs/agents/java-agent/additional-installation/install-new-relic-java-agent-docker">Install New Relic Java agent for Docker</a>.</li>
  <li>View your app in New Relic and get comfortable with the user interface.</li>
  <li>Read the documentation about APM. For example, read about the <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">Summary page</a>, the <a href="/docs/agents/java-agent/features/jvm-metrics-page"><strong>JVM metrics</strong> page</a>, the <a href="/docs/apm/applications-menu/monitoring/transactions-page"><strong>Transactions</strong> page</a>, and other <a href="/docs/apm">performance monitoring features</a>.</li>
  <li>Query your data using <a href="/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql">NRQL</a> (New Relic Query Language).</li>
  <li>Learn about setting up <a href="/docs/agents/java-agent/custom-instrumentation">custom instrumentation</a> and <a href="/docs/agents/java-agent/async-instrumentation">async instrumentation</a> for application activity not monitored by default.</li>
</ul>
