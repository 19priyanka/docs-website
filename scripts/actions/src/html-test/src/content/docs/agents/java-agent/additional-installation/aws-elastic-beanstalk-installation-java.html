
<p>If you are an <a href="http://docs.amazonwebservices.com/elasticbeanstalk/latest/gsg/">Amazon AWS Elastic Beanstalk</a> user, the Java agent requires additional configuration.</p>
<h2>Prerequisites</h2>
<p>Before completing the configuration, you must first:</p>
<ul>
  <li>Create a supported <a href="http://aws.amazon.com/elasticbeanstalk/">Amazon Web Services account</a>.</li>
  <li>Create a <a href="http://newrelic.com/signup">New Relic account</a>.</li>
  <li><a href="/docs/agents/java-agent/installation/java-agent-manual-installation">Download and install the Java agent</a>.</li>
</ul>
<p>To complete Java agent installation on AWS Elastic Beanstalk:</p>
<ol>
  <li>In your WAR file, add the <code>newrelic.jar</code> and <code>newrelic.yml</code> files to <code>WEB-INF/lib/</code>.</li>
  <li>Repackage and deploy your new WAR file as a new application or an update to a previous application.</li>
  <li>Locate and connect to the underlaying EC2 instance. Once connected, find the path to <code>newrelic.jar</code> file using this command - ensure you search one directory at a time. Use either <code>/var</code> or <code>/usr</code> as appropriate.</li>
</ol>
<pre><code>sudo find &#x3C;/var | /usr> -name "newrelic.jar"
</code></pre>
<h2>Pass -javaagent flag to JVM [#javaagent-flag]</h2>
<p>To pass the <code>-javaagent</code> flag to JVM in AWS Elastic Beanstalk</p>
<ol>
  <li>
    <p>In the AWS console, open the Elastic Beanstalk.</p>
  </li>
  <li>
    <p>Select the relevant region.</p>
  </li>
  <li>
    <p>Select your application.</p>
  </li>
  <li>
    <p>In the left pane, select <strong>Configurations</strong>.</p>
  </li>
  <li>
    <p>Open <strong>Software Configuration</strong>.</p>
  </li>
  <li>
    <p>Under <strong>Container Options</strong>, add the following in the <strong>JVM options</strong> field:</p>
    <pre><code>-javaagent:/full/path/to/newrelic.jar
</code></pre>
  </li>
  <li>
    <p>Select <strong>Apply</strong> to save.</p>
  </li>
</ol>
<p>Your Elastic Beanstalk will then update your environment.</p>
