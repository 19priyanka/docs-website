
<p>Before you install New Relic's Java agent, make sure your <a href="/docs/agents/java-agent/getting-started/compatibility-requirements-java-agent#app-web-servers">WildFly version</a> is supported. Depending on which WildFly version your application uses, additional configuration steps may be required.</p>
<h2>Install WildFly versions earlier than 11 [#wildfly-pre-11]</h2>
<p>If your supported WildFly version is earlier than v11, follow <a href="/docs/agents/java-agent/installation/install-java-agent">standard Java installation procedures</a>. You <strong>do not</strong> need to do any additional configuration.</p>
<h2>Install WildFly version 11 or higher [#wildfly-11]</h2>
<p>If you use <a href="http://wildfly.org/">WildFly version 11 or higher</a>, New Relic's Java agent requires additional configuration after you install it.</p>
<ol>
  <li>
    <p><a href="/docs/agents/java-agent/installation/install-java-agent">Install the Java agent</a>. If you already have it installed, <a href="https://docs.newrelic.com/docs/agents/java-agent/installation/update-java-agent#procedures">update</a> to the <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/java-release-notes">latest Java agent</a> version. Versions <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/java-release-notes/java-agent-500">5.0.0</a> and higher include fixes for later WildFly versions 11 and higher.</p>
  </li>
  <li>
    <p>Open the <code>standalone</code> configuration file appropriate for your operating system and <a href="/docs/agents/java-agent/installation/install-java-agent">add the -javaagent property</a> to <code>JAVA_OPTS</code>. For example, if you use Linux, edit the <code>/bin/standalone.conf</code> file or <code>/bin/standalone.conf.bat</code> for Windows.</p>
  </li>
  <li>
    <p>Make sure the agent <code>jar</code> is visible to all JBoss modules by adding <code>com.newrelic</code> to the JBoss modules system packages using either of these options in the <code>standalone</code> script:</p>
    <ul>
      <li>
        <p><strong>Recommended: Option 1</strong> (same as adding <code>-javaagent</code> property):</p>
        <pre><code>JAVA_OPTS="$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS,com.newrelic
</code></pre>
      </li>
      <li>
        <p><strong>Option 2:</strong></p>
        <pre><code>if [ "x$JBOSS_MODULES_SYSTEM_PKGS" = "x" ]; then
JBOSS_MODULES_SYSTEM_PKGS="org.jboss.byteman,com.newrelic"
fi
</code></pre>
      </li>
    </ul>
  </li>
  <li>
    <p>Restart your application server.</p>
  </li>
</ol>
