
<h2>Syntax</h2>
<pre><code>newrelic_insert_distributed_trace_headers (array $headers)
</code></pre>
<p>Inserts W3C Trace Context headers and New Relic Distributed Tracing headers into an outbound array of headers.</p>
<h2>Requirements</h2>
<p>Requires PHP agent <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes">version 9.8 or higher</a>.</p>
<h2>Description</h2>
<p>Use <code>newrelic_insert_distributed_trace_headers</code> to manually add distributed tracing headers an array of outbound headers.</p>
<p>When Distributed Tracing is enabled, <code>newrelic_insert_distributed_trace_headers</code> will always insert W3C trace context headers. It also, by default, inserts the New Relic Distributed Tracing header, but this can be disabled via the <code>newrelic.distributed_tracing_exclude_newrelic_header</code> INI setting.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$headers</code></p>
        <p><em>array</em></p>
      </div>
      <div>
        <p>Required. An (optionally empty) array of outbound headers. This argument is passed by reference, and therefore must be a variable as opposed to a literal.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p><code>True</code> if any headers were successfully inserted into the provided array, otherwise returns <code>False</code></p>
<h2>Examples</h2>
<p>For examples of how and when to use this API method, see the documentation to <a href="https://docs.newrelic.com/docs/agents/php-agent/features/distributed-tracing-php#manual">manually instrument applications and services</a>.</p>
