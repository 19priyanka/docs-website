
<h2>Syntax</h2>
<pre><code>newrelic.agent.record_custom_event(event_type, params, application=None)
</code></pre>
<p>Records a custom event for use in querying</p>
<h2>Requirements</h2>
<p>Python agent version 2.60.0.46 or higher.</p>
<h2>Description</h2>
<p>This records a custom <a href="/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data#event-data">event</a> that can be viewed and queried in New Relic One. If you want to use this outside of the context of a monitored transaction, use the application parameter.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>For limits and restrictions on <code>event_type</code> and <code>params</code>, see <a href="/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-new-relic-apm-agents#limits">Limits and restricted characters</a> and <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">Reserved words</a>.</p>
</div>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>event_type</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The <code>event_type</code> defines the name (or type) of the custom event, and must be a string. No additional attributes recorded for the transaction are added to custom events.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>params</code></p>
        <p><em>dict</em></p>
      </div>
      <div>
        <p>Required. Attaches custom attributes to the event. Only attributes passed in as <code>params</code> are added. No additional attributes recorded for the transaction are added to custom events.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>application</code></p>
        <p><em>object</em></p>
      </div>
      <div>
        <p>Optional. If you want to record an event outside of the context of a monitored transaction, use this to associate the call with a specific application object. An application object can be obtained using the <a href="/docs/agents/python-agent/python-agent-api/application"><code>newrelic.agent.application</code></a> function.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>None.</p>
<h2>Examples</h2>
<h3>Record custom event in background task [#bg-task-event]</h3>
<p>Here's an example of recording a custom event associated with a background task:</p>
<pre><code>@newrelic.agent.background_task() 
def bg_task(): 
	# do some type of work in this background task...
	application = newrelic.agent.application()
	newrelic.agent.record_custom_event('your_event_type', {'param1':'value1'}, application)
</code></pre>
<h3>Create a killed-query custom event [#event-example]</h3>
<p>An example of creating a killed-query custom event inside a database-logging function:</p>
<pre><code>application = newrelic.agent.register_application(timeout=10)

def task_runner(): 
	event_type = "Killed_Query" 
	params = {'query_info':'select * from all_things;', 'killed_time': '2016-05-18 00:59:00', 'host': 'my_host'} 
	newrelic.agent.record_custom_event(event_type, params, application=application)
</code></pre>
