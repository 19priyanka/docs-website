
<p>With custom metrics, you can report <a href="/docs/using-new-relic/data/understand-data/new-relic-data-types#timeslice-data">metric timeslice data</a> from your application code and see it alongside default metrics and data in New Relic. Create custom metrics to record arbitrary performance data via an API call, such as:</p>
<ul>
  <li>Timing data</li>
  <li>Computer resource data</li>
  <li>Subscription or purchasing data</li>
</ul>
<p>Then, use the <a href="/docs/insights/new-relic-insights/explore/metric-data-explorer-search-chart-metrics-sent-new-relic-agents">New Relic Insights metric explorer</a> to search your custom metrics and create customized dashboards for them.</p>
<h2>Name custom metrics [#naming]</h2>
<p>Start all custom metric names with <code>Custom/</code>; for example, <code>Custom/MyMetric/My_label</code>. The <code>Custom/</code> prefix is required for all custom metrics.</p>
<p>Any custom metric names that do not start with <code>Custom/</code> are subject to all other grouping rules. They may not be visible in Insights, or they may not appear as expected in the New Relic UI.</p>
<p>
  <img src="./images/custom-metric-syntax.png" alt="custom-metric-syntax.png" title="custom-metric-syntax.png">
</p>
<p>A custom metric name consists of the prefix <code>Custom/</code>, the category or class name, and a method or label, each separated with a slash.</p>
<h2>Implement custom metrics [#implementing]</h2>
<p>Implementing custom metrics requires API calls. The exact details of the API call vary by agent.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If you are testing your custom metric implementation, run the agent for at least 10 minutes to ensure that the API call is reported to New Relic.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>New Relic agent</p>
      </div>
      <div>
        <p>Implementation</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>APM agents</p>
      </div>
      <div>
        <ul>
          <li><strong>C SDK:</strong> <a href="https://newrelic.github.io/c-sdk/libnewrelic_8h.html#aee71182588ace508cc816044d2024ff3"><code>newrelic_record_custom_metric()</code></a></li>
          <li><strong>Go:</strong> <a href="/docs/agents/go-agent/instrumentation/create-custom-metrics-go"><code>app.RecordCustomMetric</code></a></li>
          <li><strong>Java:</strong> <a href="http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#recordMetric(java.lang.String,%20float)"><code>recordMetric</code></a></li>
          <li><strong>.NET:</strong> <a href="/docs/agents/net-agent/net-agent-api/recordmetric-net-agent"><code>RecordMetric</code></a></li>
          <li><strong>Node.js:</strong> <a href="/docs/agents/nodejs-agent/supported-features/nodejs-custom-metrics"><code>recordMetric</code></a></li>
          <li><strong>PHP:</strong> <a href="/docs/agents/php-agent/php-agent-api/newrelic_custom_metric"><code>newrelic_custom_metric</code></a></li>
          <li><strong>Python:</strong> <a href="/docs/python/python-custom-metrics"><code>record_custom_metric</code> and <code>register_data_source</code></a></li>
          <li><strong>Ruby:</strong> <a href="/docs/ruby/ruby-custom-metrics"><code>record_metric</code> and <code>increment_metric</code></a></li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>New Relic Mobile SDKs</p>
      </div>
      <div>
        <ul>
          <li><strong>Android:</strong> <a href="/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/record-metric"><code>recordMetric</code></a></li>
          <li><strong>iOS:</strong> <a href="/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#objc-custom-metrics"><code>recordMetricWithName</code></a> (Objective-C) or <a href="/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#swift-custom-metrics"><code>NewRelic.recordMetricWithName</code></a> (Swift)</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>New Relic Browser</p>
      </div>
      <div>
        <p>Browser does not support custom metrics. For options on adding custom data to Browser, see <a href="/docs/browser/new-relic-browser/page-load-timing-resources/instrumentation-browser-monitoring">Browser instrumentation</a>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Avoid grouping issues [#best_practices]</h2>
<p>Collecting too many metric timeslices can impact the performance of both your application and New Relic. For example, if you have thousands of individual users, avoid creating metrics to track the performance of their unique user IDs. This could result in such a large number of metrics that it becomes nearly impossible to navigate or make sense of the data. Instead, use a placeholder, such as an asterisk (*), instead of individual user IDs.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>To avoid potential data problems, try to keep the total number of unique metric timeslices introduced by custom metrics under 2000.</p>
</div>
<p>When the total number of unique metric names exceeds 2000, limits begin to apply automatically that affect how data appears in the user interface, such as in charts and tables. For more information, see <a href="/docs/features/metric-grouping-issues">Metric grouping issues</a>.</p>
