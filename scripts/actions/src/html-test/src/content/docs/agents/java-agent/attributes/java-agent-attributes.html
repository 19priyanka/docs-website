
<p>New Relic <a href="/docs/features/agent-attributes">attributes</a> are key-value pairs containing information that determines the properties of an event or transaction. These key-value pairs can help you gain greater insight into your application and annotate the data when <a href="/docs/query-your-data/explore-query-data/explore-data/introduction-querying-new-relic-data">you query it</a>. You can also automatically <a href="#">forward user information to New Relic</a>.</p>
<p>Both default and <a href="/docs/agents/manage-apm-agents/agent-data/collect-custom-attributes">custom</a> attributes are visible in APM transaction traces, distributed traces, and error analytics; <a href="/docs/insights/explore-data/attributes/apm-default-attributes-insights">APM events</a> and <a href="/docs/insights/explore-data/attributes/browser-default-attributes-insights#browser-attributes-table">Browser events</a> in <a href="/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards">dashboards</a>. You can customize exactly which attributes will be sent to each of these destinations.</p>
<p>This document describes the Java agent attributes, details how to enable or disable attributes, and describes the rules the agent follows to determine which attributes to include or exclude for a <a href="/docs/features/agent-attributes#destinations">destination</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>These attribute settings apply to version 3.7.0 or higher of the Java agent. If you use an older version of the agent, see <a href="/docs/agents/java-agent/troubleshooting/update-legacy-attribute-configuration">Update legacy attribute configuration</a>.</p>
</div>
<h2>Java-specific attributes [#attributes]</h2>
<p>In addition to the <a href="/docs/insights/new-relic-insights/decorating-events/apm-default-attributes-insights#transaction-defaults">default APM attributes</a>, the Java agent collects attributes from these sources:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaHR0cFJlc3BvbnNlQ29kZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSFRUUCByZXNwb25zZSBjb2RlcyJ9XQ==">
    <div data-prop-text="title">HTTP response codes</div>
    <p>The response status code for a web request. The key for this attribute is <code>httpResponseCode</code>.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>Transaction traces: Enabled</li>
      <li>Error analytics: Enabled</li>
      <li>APM events: Enabled</li>
      <li>Browser events: Disabled</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaHR0cFJlc3BvbnNlTWVzc2FnZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSFRUUCByZXNwb25zZSBtZXNzYWdlcyJ9XQ==">
    <div data-prop-text="title">HTTP response messages</div>
    <p>The response status message if present for a web request. The key for this attribute is <code>httpResponseMessage</code>.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>Transaction traces: Enabled</li>
      <li>Error analytics: Enabled</li>
      <li>APM events: Enabled</li>
      <li>Browser events: Disabled</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoianZtVGhyZWFkTmFtZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSlZNIHRocmVhZHMifV0=">
    <div data-prop-text="title">JVM threads</div>
    <p>The name of the thread. The key for this attribute is <code>jvm.thread_name</code>.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>Transaction traces: Enabled</li>
      <li>Error analytics: Enabled</li>
      <li>APM events: Disabled</li>
      <li>Browser events: Unavailable</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoianZtTG9ja1RocmVhZE5hbWUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkxvY2tlZCBKVk0gdGhyZWFkcyJ9XQ==">
    <div data-prop-text="title">Locked JVM threads</div>
    <p>The name of a locked thread. The key for this attribute is <code>jvm.lock_thread_name</code>.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>Transaction traces: Unavailable</li>
      <li>Error analytics: Enabled</li>
      <li>APM events: Unavailable</li>
      <li>Browser events: Unavailable</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiTlJhZGRDdXN0b21QYXJhbWV0ZXIifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkN1c3RvbSB0cmFuc2FjdGlvbiBhdHRyaWJ1dGVzIn1d">
    <div data-prop-text="title">Custom transaction attributes</div>
    <p>Attributes added by a call to the <a href="http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#addCustomParameter-java.lang.String-java.lang.Number-">NewRelic.addCustomParameter(...)</a> Java agent API. The key name for this attribute depends on what you specify when you call the method.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>
        <p>Transaction traces: Enabled</p>
      </li>
      <li>
        <p>Error analytics: Enabled</p>
      </li>
      <li>
        <p>APM events: Disabled</p>
      </li>
      <li>
        <p>Browser events: Disabled</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
          <p>Before creating custom attributes, review New Relic's list of <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a>. Otherwise, you might get some unexpected results.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiTlJhZGRDdXN0b21QYXJhbWV0ZXIifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkN1c3RvbSBzcGFuIGV2ZW50IGF0dHJpYnV0ZXMifV0=">
    <div data-prop-text="title">Custom span event attributes</div>
    <p>Attributes added by a call to the <a href="http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/TracedMethod.html">NewRelic.getAgent().getTracedMethod().addCustomAttribute(...)</a> Java agent API. The key name for this attribute depends on what you specify when you call the method.</p>
    <p>These attributes are added to span events, which can be found in the <a href="https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/get-started/how-new-relic-distributed-tracing-works#trace-structure">distributed tracing UI</a> or directly queried in the <a href="/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder">query builder</a>.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
      <p>Before creating custom attributes, review New Relic's list of <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a>. Otherwise, you might get unexpected results.</p>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiTlJhZGRub3RpY2VFcnJvciJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTm90aWNlRXJyb3IoKSBBUEkgY2FsbHMifV0=">
    <div data-prop-text="title">NoticeError() API calls</div>
    <p>Attributes added to a <a href="http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#noticeError-java.lang.String-"><code>NoticeError()</code></a> call on the Java agent API. The key name for this attribute depends on what you specify when you call the method.</p>
    <p>The default setting for each destination is:</p>
    <ul>
      <li>Transaction traces: Unavailable</li>
      <li>Error analytics: Enabled</li>
      <li>APM events: Unavailable</li>
      <li>Browser events: Unavailable</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdEhlYWRlcnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlJlcXVlc3QgYW5kIHJlc3BvbnNlIGhlYWRlcnMifV0=">
    <div data-prop-text="title">Request and response headers</div>
    <p>The Java agent can capture response and request headers as attributes:</p>
    <p>Captured HTTP request headers:</p>
    <ul>
      <li>
        <p><code>request.headers.referer</code></p>
      </li>
      <li>
        <p><code>request.headers.accept</code></p>
      </li>
      <li>
        <p><code>request.headers.contentLength</code></p>
      </li>
      <li>
        <p><code>request.headers.host</code></p>
      </li>
      <li>
        <p><code>request.headers.userAgent</code></p>
        <p>Captured response header: <code>response.headers.contentType</code></p>
        <p>The agent does not capture other request headers by default. You also cannot specify additional request headers to be captured as attributes by including them within the <code>attributes.include</code> stanza of the <code>newrelic.yml</code>.</p>
        <p>If you want to capture additional request headers, whether custom or standard, use the <code>addCustomParameter()</code> method from the <a href="/docs/agents/manage-apm-agents/agent-data/collect-custom-attributes#api-java">Java agent API</a>.</p>
        <p>The default setting for each destination is:</p>
      </li>
      <li>
        <p>Transaction traces: Enabled</p>
      </li>
      <li>
        <p>Error analytics: Enabled</p>
      </li>
      <li>
        <p>APM events: Enabled</p>
      </li>
      <li>
        <p>Browser events: Disabled</p>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVxdWVzdHBhcmFtcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUmVxdWVzdCBwYXJhbWV0ZXJzIn1d">
    <div data-prop-text="title">Request parameters</div>
    <p>The Java agent captures request methods GET, POST and PUT by default as part of the <code>request.method</code> attribute.</p>
    <p>Request parameters from the transaction are not captured by default. Use the <a href="http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/NewRelic.html#addCustomParameter-java.lang.String-java.lang.Number-"><code>addCustomParameter()</code></a> Java agent API to capture request parameters.</p>
    <p>The key for these attributes is <code>request.parameters.*</code>. If capturing sensitive information is a concern, you can use these options:</p>
    <ul>
      <li>Avoid using wild cards in <code>attributes.include</code>. Instead, explicitly specify each field to capture.</li>
      <li>If you want to use a wild card in <code>attributes.include</code>, explicitly exclude the sensitive fields using <code>attributes.exclude</code>.</li>
    </ul>
  </div>
</div>
<h2>Collect user attributes [#user-attributes]</h2>
<p>With APM's Java agent, you can automatically collect user information in New Relic One by editing your configuration file. You can then run <a href="/docs/insights/using-insights-ui/basic-ui-tasks/query-page-create-edit-nrql-queries">NRQL queries</a> against user information without needing to create custom attributes manually. This feature is available with New Relic's <a href="/docs/release-notes/agent-release-notes/java-release-notes">Java agent 3.10.0</a> or higher.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Java user attributes are incompatible with <a href="/docs/accounts-partnerships/accounts/security/high-security">high security mode</a>.</p>
</div>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY29sbGVjdC11c2VyLWluc3RydWN0aW9ucyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRW5hYmxlIGNvbGxlY3Rpb24gb2YgdXNlciBhdHRyaWJ1dGVzIn1d">
    <div data-prop-text="title">Enable collection of user attributes</div>
    <p>To collect user attributes with Java agent 3.10.0 or higher:</p>
    <ol>
      <li>
        <p>Open <code>newrelic.yml</code>, usually located in the same directory as <code>newrelic.jar</code>.</p>
      </li>
      <li>
        <p>In the <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#Custom_Instrumentation"><code>class_transformer</code></a> stanza, edit <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#servlet-user"><code>com.newrelic.instrumentation.servlet-user</code></a> to set <code>enabled</code> to <code>true</code>:</p>
        <pre><code>class_transformer:
# This instrumentation reports the name of the user principal returned from 
# HttpServletRequest.getUserPrincipal() when servlets and filters are invoked.
com.newrelic.instrumentation.servlet-user:
  enabled: true
</code></pre>
      </li>
      <li>
        <p>Restart your web server.</p>
      </li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidmlldy11c2VyLWF0dHJpYnV0ZXMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlZpZXcgdXNlciBhdHRyaWJ1dGVzIGluIGRhc2hib2FyZHMifV0=">
    <div data-prop-text="title">View user attributes in dashboards</div>
    <p>Within a few minutes of enabling <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#servlet-user"><code>com.newrelic.instrumentation.servlet-user</code></a>, you can query the new <code>user</code> attribute. For example, you could use this <a href="/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language">NRQL query</a> to obtain a unique count of all users:</p>
    <pre><code>SELECT uniqueCount(user) FROM Transaction SINCE 1 day ago

</code></pre>
  </div>
</div>
<h2>Configure attributes: Enable, include, and exclude [#properties]</h2>
<p>You can configure which types of attributes, or which specific attributes, the Java agent reports to New Relic. This is often done for security reasons, when there are certain sensitive attributes you don't want reported to New Relic. To learn what settings override other settings, see the <a href="#attruls">attribute configuration rules</a>.</p>
<p>Attribute configuration options:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY2ZnLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZGVzdGluYXRpb24uYXR0cmlidXRlcy5lbmFibGVkIn1d">
    <div data-prop-text="title">destination.attributes.enabled</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Destination</p>
          </div>
          <div>
            <p>Configuration option</p>
          </div>
          <div>
            <p>Default</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>All</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-attributes-enabled"><code>attributes.enabled</code></a></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction traces</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-tt-attributes-enabled"><code>transaction_tracer.attributes.enabled</code></a></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction segments</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-ts-attributes-enabled"><code>transaction_segments.attributes.enabled</code></a></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
        <div>
          <div>
            <p>Error analytics</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-error-attributes-enabled"><code>error_collector.attributes.enabled</code></a></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
        <div>
          <div>
            <p>APM events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-events-attributes-enabled"><code>transaction_events.attributes.enabled</code></a></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
        <div>
          <div>
            <p>Browser events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-browser-attributes-enabled"><code>browser_monitoring.attributes.enabled</code></a></p>
          </div>
          <div>
            <p>False</p>
          </div>
        </div>
        <div>
          <div>
            <p>Span events</p>
          </div>
          <div>
            <p><code>span_events.attributes.enabled</code></p>
          </div>
          <div>
            <p>True</p>
          </div>
        </div>
      </div>
    </div>
    <p>Other resources:</p>
    <ul>
      <li>See the <a href="/docs/agents/java-agent/configuration/java-agent-config-file-template">Java agent config file template</a>.</li>
      <li>See <a href="#attruls">rules governing attribute configuration, including what settings override other settings</a>.</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY2ZnLXR0LWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZGVzdGluYXRpb24uYXR0cmlidXRlcy5pbmNsdWRlIn1d">
    <div data-prop-text="title">destination.attributes.include</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Destination</p>
          </div>
          <div>
            <p>Configuration option</p>
          </div>
          <div>
            <p>Default</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>All</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-attributes-include"><code>attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction traces</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-tt-attributes-include"><code>transaction_tracer.attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction segments</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-ts-attributes-include"><code>transaction_segments.attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Error analytics</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-ec-attributes-include"><code>error_collector.attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>APM events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-te-attributes-include"><code>transaction_events.attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Browser events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-bm-attributes-include"><code>browser_monitoring.attributes.include</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Span events</p>
          </div>
          <div>
            <p><code>span_events.attributes.include</code></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>Other resources:</p>
    <ul>
      <li>See the <a href="/docs/agents/java-agent/configuration/java-agent-config-file-template">Java agent config file template</a>.</li>
      <li>See <a href="#attruls">rules governing attribute configuration, including what settings override other settings</a>.</li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiY2ZnLWVycm9yLWF0dHJpYnV0ZXMtZW5hYmxlZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiZGVzdGluYXRpb24uYXR0cmlidXRlcy5leGNsdWRlIn1d">
    <div data-prop-text="title">destination.attributes.exclude</div>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Destination</p>
          </div>
          <div>
            <p>Configuration option</p>
          </div>
          <div>
            <p>Default</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>All</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-attributes-exclude"><code>attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction traces</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-tt-attributes-exclude"><code>transaction_tracer.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Transaction segments</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-ts-attributes-exclude"><code>transaction_segments.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Error analytics</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-ec-attributes-exclude"><code>error_collector.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>APM events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-te-attributes-exclude"><code>transaction_events.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Browser events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-bm-attributes-exclude"><code>browser_monitoring.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
        <div>
          <div>
            <p>Span events</p>
          </div>
          <div>
            <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-span-events-attributes-exclude"><code>span_events.attributes.exclude</code></a></p>
          </div>
          <div>
            <p>(none)</p>
          </div>
        </div>
      </div>
    </div>
    <p>Other resources:</p>
    <ul>
      <li>See the <a href="/docs/agents/java-agent/configuration/java-agent-config-file-template">Java agent config file template</a>.</li>
      <li>See <a href="#attruls">rules governing attribute configuration, including what settings override other settings</a>.</li>
    </ul>
  </div>
</div>
<h2>Attribute rules [#attruls]</h2>
<p>The Java agent follows these rules when determining which attributes to include or exclude for a destination:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1kaXNhYmxlLW92ZXJyaWRlcy1hbGwifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlNldHRpbmcgYXR0cmlidXRlcy5lbmFibGVkIHRvIGZhbHNlIG92ZXJyaWRlcyBhbGwgb3RoZXIgc2V0dGluZ3MuIn1d">
    <div data-prop-text="title">Setting attributes.enabled to false overrides all other settings.</div>
    <p>If you set the main <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-attributes-enabled"><code>attributes.enabled</code></a> property to <code>false</code>, the agent does not report any attributes at all.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGlzYWJsZS1hbGwtZXhhbXBsZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRGlzYWJsaW5nIGFsbCBhdHRyaWJ1dGVzIn1d">
        <div data-prop-text="title">Disabling all attributes</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>attributes.enabled: false</code></p>
          </li>
          <li>
            <p><code>attributes.include: request.parameters.*</code></p>
          </li>
          <li>
            <p><code>error_collector.attributes.enabled: true</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>foo</code></p>
          </li>
          <li>
            <p><code>bar</code></p>
          </li>
          <li>
            <p><code>request.parameters.foo</code></p>
          </li>
          <li>
            <p><code>request.parameters.bar</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: No attributes</p>
          </li>
          <li>
            <p>Error analytics: No attributes</p>
          </li>
          <li>
            <p>APM events: No attributes</p>
          </li>
          <li>
            <p>Browser events: No attributes</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1lbmFibGUtb3ZlcnJpZGVzLWluY2wtZXhjbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU2V0dGluZyBhIGRlc3RpbmF0aW9uIHRvIGZhbHNlIG92ZXJyaWRlcyBpbmNsdWRlL2V4Y2x1ZGUuIn1d">
    <div data-prop-text="title">Setting a destination to false overrides include/exclude.</div>
    <p>When you set <a href="#cfg-attributes-enabled">enabled</a> to <code>false</code> for a destination, the agent ignores your include/exclude settings and doesn't report any attributes for that destination.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1kaXNhYmxpbmctZGVzdGluYXRpb24ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRpc2FibGUgb25lIGRlc3RpbmF0aW9uIn1d">
        <div data-prop-text="title">Disable one destination</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>transaction_tracer.attributes.enabled: false</code></p>
          </li>
          <li>
            <p><code>attributes.include: one, two*</code></p>
          </li>
          <li>
            <p><code>transaction_tracer.attributes.include: three, four</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>one</code></p>
          </li>
          <li>
            <p><code>two</code></p>
          </li>
          <li>
            <p><code>three</code></p>
          </li>
          <li>
            <p><code>four</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: No attributes</p>
          </li>
          <li>
            <p>Error analytics: <code>one</code>, <code>two</code></p>
          </li>
          <li>
            <p>APM events: <code>one</code>, <code>two</code></p>
          </li>
          <li>
            <p>Browser events: No attributes</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1leGNsdWRlLW92ZXJyaWRlcy1pbmNsdWRlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGNsdWRlIG92ZXJyaWRlcyBpbmNsdWRlLiJ9XQ==">
    <div data-prop-text="title">Exclude overrides include.</div>
    <p>The <code>.exclude</code> properties override the <code>.include</code> properties.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1leGNsdWRlLW92ZXJyaWRlcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ29uZmxpY3QgYmV0d2VlbiBpbmNsdWRlIGFuZCBleGNsdWRlIHNldHRpbmdzIn1d">
        <div data-prop-text="title">Conflict between include and exclude settings</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>attributes.enabled: true</code></p>
          </li>
          <li>
            <p><code>attributes.include: foo, myCustomAtt</code></p>
          </li>
          <li>
            <p><code>attributes.exclude: password, myCustomAtt</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>foo</code></p>
          </li>
          <li>
            <p><code>myCustomAtt</code></p>
          </li>
          <li>
            <p><code>password</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: <code>foo</code></p>
          </li>
          <li>
            <p>Error analytics: <code>foo</code></p>
          </li>
          <li>
            <p>APM events: <code>foo</code></p>
          </li>
          <li>
            <p>Browser events: <code>foo</code></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zcGVjaWZpYy13aW5zIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJNb3JlIHNwZWNpZmljIHJ1bGVzIHRha2UgcHJpb3JpdHkuIn1d">
    <div data-prop-text="title">More specific rules take priority.</div>
    <p>If multiple include or exclude attributes affect the same key, the most specific setting will have priority.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1tb3N0LXNwZWNpZmljIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJDb25mbGljdGluZyBzcGVjaWZpYyBzZXR0aW5ncyJ9XQ==">
        <div data-prop-text="title">Conflicting specific settings</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>attributes.enabled: true</code></p>
          </li>
          <li>
            <p><code>attributes.include: foo, myCustomAtt</code></p>
          </li>
          <li>
            <p><code>attributes.exclude: password, myCustomAtt</code></p>
          </li>
          <li>
            <p><code>browser_monitoring.attributes.enabled: true</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>food</code></p>
          </li>
          <li>
            <p><code>food.bread</code></p>
          </li>
          <li>
            <p><code>food.fruit.banana</code></p>
          </li>
          <li>
            <p><code>food.fruit.apple</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: <code>food.fruit.apple</code></p>
          </li>
          <li>
            <p>Error analytics: <code>food.fruit.banana</code>, <code>food.fruit.apple</code></p>
          </li>
          <li>
            <p>APM events: <code>food.fruit.banana</code>, <code>food.fruit.apple</code></p>
          </li>
          <li>
            <p>Browser events: <code>food.fruit.banana</code>, <code>food.fruit.apple</code></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1rZXlzLWNhc2Utc2Vuc2l0aXZlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJLZXlzIGFyZSBjYXNlLXNlbnNpdGl2ZS4ifV0=">
    <div data-prop-text="title">Keys are case-sensitive.</div>
    <p>The keys specified in the <code>.include</code> and <code>.exclude</code> properties are case-sensitive.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1jYXNlLXNlbnNpdGl2ZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiS2V5cyB3aGljaCBkbyBub3QgbWF0Y2ggdGhlIHNwZWNpZmllZCBjYXNlIn1d">
        <div data-prop-text="title">Keys which do not match the specified case</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>attributes.enabled: true</code></p>
          </li>
          <li>
            <p><code>attributes.exclude: password, PaSsWoRd</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>password</code></p>
          </li>
          <li>
            <p><code>Password</code></p>
          </li>
          <li>
            <p><code>PASSWORD</code></p>
          </li>
          <li>
            <p><code>PaSsWoRd</code></p>
          </li>
          <li>
            <p><code>PassWORD</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: <code>Password</code>, <code>PASSWORD</code>, <code>PassWORD</code></p>
          </li>
          <li>
            <p>Error analytics: <code>Password</code>, <code>PASSWORD</code>, <code>PassWORD</code></p>
          </li>
          <li>
            <p>APM events: <code>Password</code>, <code>PASSWORD</code>, <code>PassWORD</code></p>
          </li>
          <li>
            <p>Browser events: <code>Password</code>, <code>PASSWORD</code>, <code>PassWORD</code></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVsZS1zdGFyLXdpbGRjYXJkIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJVc2UgYW4gYXN0ZXJpc2sgZm9yIHdpbGRjYXJkcy4ifV0=">
    <div data-prop-text="title">Use an asterisk for wildcards.</div>
    <p>You can use an asterisk <code>*</code> at the end of a key as a wildcard. This will match a set of attributes with the same prefix.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1hc3Rlcmlzay13aWxkY2FyZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTWF0Y2ggbXVsdGlwbGUgaW5wdXQga2V5cyJ9XQ==">
        <div data-prop-text="title">Match multiple input keys</div>
        <p>Agent configuration:</p>
        <ul>
          <li>
            <p><code>attributes.enabled: true</code></p>
          </li>
          <li>
            <p><code>attributes.include: custom*</code></p>
          </li>
          <li>
            <p><code>attributes.exclude: request.parameters.*</code></p>
            <p>Input keys:</p>
          </li>
          <li>
            <p><code>custom</code></p>
          </li>
          <li>
            <p><code>custom.key1</code></p>
          </li>
          <li>
            <p><code>custom.key2</code></p>
          </li>
          <li>
            <p><code>request.parameters.</code></p>
          </li>
          <li>
            <p><code>request.parameters.foo</code></p>
          </li>
          <li>
            <p><code>request.parameters.bar</code></p>
            <p>Agent output:</p>
          </li>
          <li>
            <p>Transaction traces: <code>custom</code>, <code>custom.key1</code>, <code>custom.key2</code></p>
          </li>
          <li>
            <p>Error analytics: <code>custom</code>, <code>custom.key1</code>, <code>custom.key2</code></p>
          </li>
          <li>
            <p>APM events: <code>custom</code>, <code>custom.key1</code>, <code>custom.key2</code></p>
          </li>
          <li>
            <p>Browser events: <code>custom</code>, <code>custom.key1</code>, <code>custom.key2</code></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
