
<p>Our Node.js agent is publicly available on the <a href="https://npmjs.org/package/newrelic">Node Package Manager (npm) repository</a> as well as on <a href="https://github.com/newrelic/node-newrelic">GitHub</a>. Before you install the Node.js agent, make sure your application meets the following system requirements.</p>
<h2>Node.js version support [#version]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>For best performance, use the latest active long term support (LTS) version of Node.js.</p>
</div>
<h3>Support for new Node.js releases [#support-new]</h3>
<p>We will support the <a href="https://nodejs.org/en/about/releases/">latest even versions of Node.js releases</a> by the beginning of the following active long term support schedule. The version support policy does not replace the <a href="/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy">general agent and plugin end-of-life (EOL) policy</a>.</p>
<p>The following are proposed time ranges. The actual release date may vary.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Node.js version</p>
      </div>
      <div>
        <p>Active long term support (LTS) start date</p>
      </div>
      <div>
        <p>Initial release date of Node.js agent<br>with support</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>14</p>
      </div>
      <div>
        <p>October 2020</p>
      </div>
      <div>
        <p>April-October 2020</p>
      </div>
    </div>
    <div>
      <div>
        <p>12</p>
      </div>
      <div>
        <p>October 22, 2019</p>
      </div>
      <div>
        <p>November 2019</p>
      </div>
    </div>
  </div>
</div>
<h3>End of support for Node.js releases reaching EOL [#support-end]</h3>
<p>When support for a new long term support agent version is made available, support for the Node.js agent version that reaches end-of-life during the same time period will simultaneously drop.</p>
<p>The following are proposed time ranges. The actual release date may vary.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Node.js version</p>
      </div>
      <div>
        <p>End of life (EOL) date</p>
      </div>
      <div>
        <p>Initial release date of Node.js agent dropping support</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>10</p>
      </div>
      <div>
        <p>April 2021</p>
      </div>
      <div>
        <p>April-October 2021</p>
      </div>
    </div>
    <div>
      <div>
        <p>8</p>
      </div>
      <div>
        <p>December 2019</p>
      </div>
      <div>
        <p>April-October 2020</p>
      </div>
    </div>
    <div>
      <div>
        <p>6</p>
      </div>
      <div>
        <p>April 2019</p>
      </div>
      <div>
        <p>November 2019</p>
      </div>
    </div>
  </div>
</div>
<h2>Node.js 12 errors [#node12-errors]</h2>
<p>For Node.js 12, the following change affects the Node.js agent:</p>
<p>Errors resulting in unhandled rejections are not scoped to the transaction that was active when the rejected promise was created. This is because the promise responsible for triggering the init async hook is no longer passed through on the promise wrap instance. This breaks the linkage that associates a given promise rejection with the transaction it was scheduled in.</p>
<h2>Supported Node.js frameworks [#supported-frameworks]</h2>
<ul>
  <li><a href="https://www.npmjs.com/package/express">Express</a> 4.6.0 or higher</li>
  <li><a href="https://www.npmjs.com/package/restify">Restify</a></li>
  <li><a href="https://www.npmjs.com/package/connect">Connect</a> v1 and v2 (router not supported)</li>
  <li><a href="https://www.npmjs.com/package/hapi">Hapi</a></li>
  <li><a href="https://www.npmjs.com/package/koa">Koa</a> 2.0.0 or higher (<a href="https://github.com/newrelic/node-newrelic-koa">external module</a> loaded with the agent)</li>
</ul>
<p>If you are using a supported framework with default routers, the Node.js agent can read these frameworks' route names as-is. However, if you want more specific names than are provided by your framework, you may want to use one or more of the tools New Relic provides with the <a href="/docs/nodejs/nodejs-transaction-naming-api">Node.js transaction naming API</a>.</p>
<h2>Operating systems [#operating-system]</h2>
<ul>
  <li>Linux</li>
  <li>SmartOS</li>
  <li>macOS 10.7 and higher</li>
  <li>Windows Server 2008 and higher</li>
</ul>
<h2>Datastores [#database]</h2>
<p>The Node.js agent monitors the performance of Node.js application calls to these datastores:</p>
<ul>
  <li><a href="https://www.npmjs.com/package/cassandra-driver">Cassandra</a></li>
  <li><a href="https://www.npmjs.com/package/memcached">Memcached</a></li>
  <li><a href="https://www.npmjs.com/package/mongodb">MongoDB</a></li>
  <li>MySQL (via <a href="https://www.npmjs.com/package/mysql">mysql</a> and <a href="https://www.npmjs.com/package/mysql2">mysql2</a> packages)</li>
  <li><a href="https://www.npmjs.com/package/redis">Redis</a></li>
  <li><a href="https://www.npmjs.com/package/pg">Postgres</a> (including the <a href="https://www.npmjs.com/package/pg-native">native</a> and <a href="https://www.npmjs.com/package/pg-js">pure JavaScript</a> packages)</li>
</ul>
<h2>Instance details</h2>
<p>We collect <a href="/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues">instance details for a variety of databases and database drivers</a>. The ability to view specific instances and the types of database information in APM depends on your agent version.</p>
<p>New Relic's Node.js agent <a href="/docs/release-notes/agent-release-notes/nodejs-release-notes/node-agent-1310">version 1.31.0</a> or higher supports the following:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Database</p>
      </div>
      <div>
        <p><code>npm</code> module name</p>
      </div>
      <div>
        <p>Minimum module version</p>
      </div>
      <div>
        <p>Minimum agent version</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="https://www.postgresql.org/">PostgreSQL</a></p>
      </div>
      <div>
        <p><a href="https://www.npmjs.com/package/pg">pg</a></p>
      </div>
      <div>
        <p>4.0.0</p>
      </div>
      <div>
        <p>1.31.0</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="http://redis.io/">Redis</a></p>
      </div>
      <div>
        <p><a href="https://www.npmjs.com/package/redis">redis</a></p>
      </div>
      <div>
        <p>2.0.0</p>
      </div>
      <div>
        <p>1.31.0</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="https://www.mongodb.com/">MongoDB</a></p>
      </div>
      <div>
        <p><a href="https://www.npmjs.com/package/mongodb">mongodb</a></p>
      </div>
      <div>
        <p>2.1.0</p>
      </div>
      <div>
        <p>1.32.0</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="http://www.mysql.com/">MySQL</a></p>
      </div>
      <div>
        <p><a href="https://www.npmjs.com/package/mysql">mysql</a></p>
      </div>
      <div>
        <p>2.4.1</p>
      </div>
      <div>
        <p>1.32.0</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="https://memcached.org/">Memcached</a></p>
      </div>
      <div>
        <p><a href="https://www.npmjs.com/package/memcached">memcached</a></p>
      </div>
      <div>
        <p>1.0.0</p>
      </div>
      <div>
        <p>1.33.0</p>
      </div>
    </div>
  </div>
</div>
<p>To request instance-level information from datastores currently not listed for your New Relic agent, get support at <a href="https://support.newrelic.com">support.newrelic.com</a>.</p>
<h2>Messages queues [#message-queues]</h2>
<p><a href="/docs/agents/nodejs-agent/troubleshooting/troubleshoot-message-consumers">Message queue instrumentation</a> is only available with the <a href="/docs/release-notes/agent-release-notes/nodejs-release-notes">New Relic Node.js agent v2 or higher</a>. Currently supported message queue instrumentation:</p>
<ul>
  <li><code>amqplib</code></li>
</ul>
<p>For other message queue libraries, use <a href="https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/nodejs-custom-instrumentation#message-client">custom instrumentation</a>.</p>
<h2>Hosting services</h2>
<ul>
  <li><a href="/docs/agents/nodejs-agent/hosting-services/install-new-relic-nodejs-agent-gae-flexible-environment">Google App Engine (GAE) flexible environment</a></li>
  <li>AWS EC2</li>
  <li><a href="/docs/nodejs/nodejs-agent-on-microsoft-azure">Microsoft Azure</a></li>
  <li><a href="/docs/nodejs/nodejs-agent-on-heroku">Heroku</a></li>
</ul>
<h2>Process managers</h2>
<p>In general, process managers that handle starting, stopping, and restarting of Node.js (like <a href="https://www.npmjs.com/package/forever">Forever</a>) should be compatible with the Node.js agent. If you are using <a href="https://www.npmjs.com/package/pm2">PM2</a>, the minimum supported version of PM2 is 2.0.</p>
<h2>Security requirements</h2>
<p>As a standard <a href="/docs/accounts-partnerships/accounts/security/data-security">security measure for data collection</a>, your app server must support SHA-2 (256-bit). SHA-1 is not supported.</p>
<h2>Connect the agent to other New Relic features [#digital-intelligence-platform]</h2>
<p>The Node.js agent integrates with other features to give you <a href="http://docs/full-stack-observability/monitor-everything/get-started-new-relic-monitoring-tools/get-started-full-stack-observability">full-stack observability</a>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Product</p>
      </div>
      <div>
        <p>Integration</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser">Browser monitoring</a></p>
      </div>
      <div>
        <p>The Node.js agent automatically injects the browser monitoring agent when you <a href="/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app">enable auto-instrumentation</a>. After enabling browser monitoring injection, you can view browser data in the <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">APM <strong>Summary</strong> page</a> and quickly switch between the APM and browser data for a particular app. For configuration options and manual instrumentation, see <a href="/docs/agents/nodejs-agent/supported-features/new-relic-browser-nodejs-agent">Browser monitoring and the Node.js agent</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">Infrastructure monitoring</a></p>
      </div>
      <div>
        <p>When you install the infrastructure and APM agents on the same host, they automatically detect one another. You can then view a list of hosts in the APM UI, and filter your infrastructure hosts by APM app in the Infrastructure UI. For more information, see <a href="/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure">APM data in infrastructure monitoring</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights">New Relic dashboards</a></p>
      </div>
      <div>
        <p>The Node.js agent sends <a href="/docs/insights/insights-data-sources/default-events-attributes/apm-default-event-attributes">default events and attributes</a> for NRQL queries. You can also <a href="/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents">record custom events</a> for advanced analysis.</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics">Synthetic monitoring</a></p>
      </div>
      <div>
        <p><a href="/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces">Synthetic transaction traces</a> connect requests from synthetic monitors to the underlying APM transaction.</p>
      </div>
    </div>
  </div>
</div>
