
<h2>Syntax</h2>
<pre><code>newrelic_add_custom_parameter(string $key, scalar $value)
</code></pre>
<p>Attaches a custom attribute (key/value pair) to the current transaction and the current span (if enabled).</p>
<h2>Requirements</h2>
<p>Agent version <a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes/php-agent-44535">4.4.5.35</a> or higher.</p>
<h2>Description</h2>
<p>Add a <a href="/docs/agents/manage-apm-agents/agent-data/collect-custom-attributes">custom attribute</a> (a key and a value data pair) to the current web transaction. (The call name is <code>newrelic_add_custom_parameter</code> because "custom attributes" were previously called "custom parameters.") For example, you can add a customer's full name from your customer database. This attribute appears in any transaction trace that results from this transaction. You can also query the <a href="/docs/insights/explore-data/attributes/apm-default-attributes-insights">Transaction</a> event for your custom attributes.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Security recommendationâ€”Review your Transaction attributes configuration. Any attribute include or exclude settings specific to Transaction events, should be applied to your Span attributes configuration or your Global Attributes configuration.</p>
</div>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you want to use your custom attributes, avoid using any of the <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-reserved-words">reserved terms used by NRQL</a>.</p>
</div>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$key</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The name of the custom attribute. Only the first 255 characters are retained.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$value</code></p>
        <p><em>scalar</em></p>
      </div>
      <div>
        <p>Required. The value to associate with this custom attribute.</p>
        <p>If the value given is a <strong>float</strong> with a value of NaN, Infinity, denorm or negative zero, the behavior of this function is undefined. For other floating point values, the agent may discard 1 or more bits of precision (ULPs) from the given value.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns true if the parameter was added successfully.</p>
<h2>Examples</h2>
<h3>Report a variable as the value [#basic-example]</h3>
<pre><code>...
if (extension_loaded('newrelic')) { // Ensure PHP agent is available
    // Record custom data about this web transaction
    newrelic_add_custom_parameter ('user_email', $user_email);
}
...
</code></pre>
<p>--></p>
