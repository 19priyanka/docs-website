
<p>This document explains how to install the Java agent using Gradle. For information on manually installing the Java agent, see <a href="/docs/agents/java-agent/installation/install-java-agent">Install the Java agent</a> and <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Java agent configuration: Config file</a>.</p>
<h2>Install agent package using Gradle [#h2-install]</h2>
<ol>
  <li>
    <p>Install the New Relic Java agent, using either of these options:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDItemlwIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJJbnN0YWxsIGNvbXBsZXRlIGFnZW50IHBhY2thZ2UifV0=">
        <div data-prop-text="title">Install complete agent package</div>
        <p>This section explains how to configure Gradle to download and unzip the <code>newrelic-java.zip</code> file, which contains all New Relic Java agent components:</p>
        <ul>
          <li>
            <p><code>newrelic.yml</code> (agent configuration file)</p>
          </li>
          <li>
            <p><code>newrelic.jar</code> (Java agent jar)</p>
          </li>
          <li>
            <p><a href="/docs/agents/java-agent/api-guides/guide-using-java-agent-api#api"><code>newrelic-api.jar</code></a> (Java agent API jar)</p>
          </li>
          <li>
            <p>README</p>
            <p>To do this:</p>
          </li>
        </ul>
        <ol>
          <li>
            <p>Configure your <code>build.gradle</code> file with the plugin you will use to download the agent. For example:</p>
            <pre><code>plugins {
    id "de.undercouch.download" version "3.4.3"
}
</code></pre>
          </li>
          <li>
            <p>Add tasks to download and unzip the agent. For example:</p>
            <pre><code>task downloadNewrelic(type: Download) {
    mkdir 'newrelic'
    src 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/current/newrelic-java.zip'
    dest file('newrelic')
}

task unzipNewrelic(type: Copy) {
    from zipTree(file('newrelic/newrelic-java.zip'))
    into rootDir
}
</code></pre>
          </li>
          <li>
            <p>Run the tasks to download and unzip the agent. For example:</p>
            <pre><code>./gradlew downloadNewrelic
./gradlew unzipNewrelic
</code></pre>
            <p>This will download the <code>newrelic-java.zip</code> file into a <code>newrelic/</code> directory and then unzip it in the same directory.</p>
            <div data-component="CollapserGroup" data-prop="W10=">
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+SGVyZSBpcyBhbiBleGFtcGxlIDxJbmxpbmVDb2RlPmJ1aWxkLmdyYWRsZTwvSW5saW5lQ29kZT4gZmlsZSBmb3Igd29ya2luZyB3aXRoIHRoZSB6aXAgZmlsZTo8Lz4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjo2MiwiY29sdW1uIjoyNywib2Zmc2V0IjoyMTY5fSwiZW5kIjp7ImxpbmUiOjYyLCJjb2x1bW4iOjEyNiwib2Zmc2V0IjoyMjY4fX19fV0=">
                <div data-prop-text="title">[object Object]</div>
                <pre><code>plugins {
    id 'java'
    id "de.undercouch.download" version "3.4.3"
}

group 'example_group'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

task downloadNewrelic(type: Download) {
    mkdir 'newrelic'
    src 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/current/newrelic-java.zip'
    dest file('newrelic')
}

task unzipNewrelic(type: Copy) {
    from zipTree(file('newrelic/newrelic-java.zip'))
    into rootDir
}

</code></pre>
              </div>
            </div>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaDItYWdlbnQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ikluc3RhbGwgaW5kaXZpZHVhbCBjb21wb25lbnRzIn1d">
        <div data-prop-text="title">Install individual components</div>
        <p>This section explains how to configure Gradle to download individual components of the Java agent, specifically the <code>newrelic.jar</code> and the <code>newrelic-api.jar</code>.</p>
        <ol>
          <li>
            <p>Configure your <code>build.gradle</code> file to download either <code>newrelic.jar</code> or <code>newrelic-api.jar</code>. Here's an example for downloading <code>newrelic.jar</code>:</p>
            <pre><code>dependencies {
    compile group: 'com.newrelic.agent.java', name: 'newrelic-agent', version: 'JAVA_AGENT_VERSION'
}
</code></pre>
            <p>Here's an example for downloading <code>newrelic-api.jar</code>:</p>
            <pre><code>dependencies {
    compile group: 'com.newrelic.agent.java', name: 'newrelic-api', version: 'JAVA_AGENT_VERSION'
}
</code></pre>
            <p>Replace JAVA_AGENT_VERSION with the <a href="/docs/agents/java-agent/getting-started/java-release-notes">latest Java agent version</a>.</p>
          </li>
          <li>
            <p>Locate the <code>newrelic.yml</code> file you received when creating your New Relic account or download one for the <a href="/docs/release-notes/agent-release-notes/java-release-notes">version of the agent</a> that you are using.</p>
            <div data-component="CollapserGroup" data-prop="W10=">
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Ijw+SGVyZSBpcyBhbiBleGFtcGxlIDxJbmxpbmVDb2RlPmJ1aWxkLmdyYWRsZTwvSW5saW5lQ29kZT4gZm9yIHdvcmtpbmcgd2l0aCB0aGUgaW5kaXZpZHVhbCBjb21wb25lbnRzIChKYXZhIGFnZW50IGFuZCBBUEkgamFycykuPC8+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6MTE5LCJjb2x1bW4iOjI3LCJvZmZzZXQiOjQyODR9LCJlbmQiOnsibGluZSI6MTE5LCJjb2x1bW4iOjE2MCwib2Zmc2V0Ijo0NDE3fX19fV0=">
                <div data-prop-text="title">[object Object]</div>
                <pre><code>plugins {
    id 'java'
}

group 'example_group'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'com.newrelic.agent.java', name: 'newrelic-agent', version: '4.11.0'
    compile group: 'com.newrelic.agent.java', name: 'newrelic-api', version: '4.11.0'
}

</code></pre>
              </div>
            </div>
          </li>
        </ol>
      </div>
    </div>
  </li>
  <li>
    <p>Place <code>newrelic.yml</code> in the same folder as <code>newrelic.jar</code>, unless you specify otherwise in the JVM arg <code>Dnewrelic.config.file</code>.</p>
  </li>
  <li>
    <p><a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file">Configure the <code>newrelic.yml</code> file</a> (or <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#General">JVM system properties</a>) with your <a href="/docs/accounts-partnerships/install-new-relic/account-setup/license-key"><code>license_key</code></a> and <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-app_name"><code>app_name</code></a>.</p>
  </li>
  <li>
    <p>Pass <code>-javaagent:/path/to/newrelic.jar</code> to the JVM running your application server.</p>
  </li>
  <li>
    <p>Optional: If using the <a href="https://docs.newrelic.com/docs/agents/java-agent/custom-instrumentation/java-agent-api">New Relic Java agent API</a>, make the API jar available at compile time by adding it to your application class path.</p>
  </li>
</ol>
<p>Generate some traffic for your app, then wait a few minutes for data to appear in the <a href="/docs/applications-menu/applications-overview">APM <strong>Summary</strong> page</a>. If nothing appears, follow the <a href="/docs/agents/java-agent/troubleshooting/no-data-appears-java">troubleshooting procedures</a>.</p>
