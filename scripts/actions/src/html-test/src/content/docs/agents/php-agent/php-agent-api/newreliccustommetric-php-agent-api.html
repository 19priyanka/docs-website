
<h2>Syntax</h2>
<pre><code>newrelic_custom_metric(string $metric_name, float $value)
</code></pre>
<p>Add a custom metric (in milliseconds) to time a component of your app not captured by default.</p>
<h2>Requirements</h2>
<p>Compatible with all agent versions.</p>
<h2>Description</h2>
<p>Record <a href="/docs/agents/manage-apm-agents/agent-data/custom-metrics">custom metrics</a> that aren't captured by default by the PHP agent.</p>
<p>Then you can:</p>
<ul>
  <li>Use the <a href="/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer">data explorer</a> to search for your custom metrics, create customizable charts, and add them to Insights dashboards.</li>
  <li>Use the <a href="/docs/apis/rest-api-v2/requirements/new-relic-rest-api-v2-getting-started">New Relic REST API</a> to programmatically retrieve and use custom metric data outside of the New Relic UI.</li>
  <li><a href="/docs/alerts/new-relic-alerts/configuring-alert-policies/define-custom-metrics-alert-condition">Create custom metric alerts</a> to notify you or your team when your custom metric exceeds specific values.</li>
</ul>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$metric_name</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. Name your custom metrics with a <strong>Custom/</strong> prefix (for example, <strong>Custom/MyMetric</strong>). This helps the UI organize your custom metrics in one place, and it makes them easily findable via the Metric Explorer.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$value</code></p>
        <p><em>float</em></p>
      </div>
      <div>
        <p>Required. Records timing in milliseconds. For example: a value of <code>4</code> is stored as <code>.004</code> seconds in New Relic's systems.</p>
        <p>If the value is NaN, Infinity, denorm or negative zero, the behavior of this function is undefined. New Relic may discard 1 or more bits of precision (ULPs) from the given value.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>true</code> if the metric was added successfully.</p>
<h2>Examples</h2>
<h3>Record a 100 millisecond response time [#100-ms-example]</h3>
<pre><code>function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
	    newrelic_custom_metric("Custom/custom-metric-name", 100.00);
    }
}
</code></pre>
