
<p>With the assisted install of the <a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/get-started/introduction-new-relic-infrastructure">infrastructure</a> agent for Linux, you can make the changes you need to the installation script and <a href="#parameters">configuration file</a> we provide so you can adapt it to your environment.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Assisted install only works for the Systemd, Upstart, and SysV service managers. If you use any other service manager, proceed with the <a href="/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux">manual install</a>.</p>
</div>
<p>Before installation, check the <a href="/docs/Infrastructure-compatibility-requirements">compatibility and requirements</a>.</p>
<h2>Install the agent [#install]</h2>
<p>To install the agent:</p>
<ol>
  <li>
    <p>Download the <a href="https://download.newrelic.com/infrastructure_agent/binaries/linux/">packaged agent file</a>.</p>
  </li>
  <li>
    <p>Unpack the file.</p>
  </li>
  <li>
    <p>Make sure the file unpacks with the following structure:</p>
    <pre><code>newrelic-infra
|-- config_defaults.sh
|-- etc
|   |-- init_scripts
|   |   |-- systemd
|   |   |   `-- newrelic-infra.service
|   |   |-- sysv
|   |   |   `-- newrelic-infra
|   |   `-- upstart
|   |       `-- newrelic-infra
|   `-- newrelic-infra
|       `-- integrations.d
|-- installer.sh
|-- usr
|   `-- bin
|       |-- newrelic-infra
|       |-- newrelic-infra-ctl
|       `-- newrelic-infra-service
`-- var
    |-- db
    |   `-- newrelic-infra
    |       |-- custom-integrations
    |       |-- integrations.d
    |       |-- LICENSE.txt
    |       `-- newrelic-integrations
    |-- log
    |   `-- newrelic-infra
    `-- run
        `-- newrelic-infra
</code></pre>
  </li>
  <li>
    <p>Update your license key in <code>config_defaults.sh</code>.</p>
  </li>
  <li>
    <p>Optional: Update any other <a href="#parameters">environment parameters</a> in the configuration file.</p>
  </li>
  <li>
    <p>Execute <code>installer.sh</code> with admin rights.</p>
  </li>
</ol>
<p>The script automatically identifies your service manager. If it fails, it will prompt you to manually update it.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>As of <a href="/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-140">version 1.4.0</a>, the infrastructure agent package includes the additional <code>newrelic-infra-ctl</code> binary, which is used to help troubleshoot a running agent. Although this binary is not required to execute the agent, we recommend to add it in your path. <a href="/docs/infrastructure/install-configure-manage-infrastructure/manage-your-agent/troubleshoot-running-agent">See our docs</a> for more information.</p>
</div>
<h2>Configure your installation [#parameters]</h2>
<p>The configuration file <code>config_defaults.sh</code> serves as a source of reference for all the configuration options. It contains the following environment parameters:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Variable</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>NRIA_AGENT_DIR</code></p>
        <p>Required at agent startup.</p>
      </div>
      <div>
        <p>The agent home directory.</p>
        <p>Default:</p>
        <pre><code>/var/db/newrelic-infra/

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_BIN_DIR</code></p>
        <p>Required at installation.</p>
      </div>
      <div>
        <p>The path to the agent binary folder.</p>
        <p>Default:</p>
        <pre><code>/usr/local/bin

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_CONFIG_FILE</code></p>
        <p>Required at installation.</p>
      </div>
      <div>
        <p>The agent configuration file's location.</p>
        <p>Default:</p>
        <pre><code>/etc/newrelic-infra/yml

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_LICENSE_KEY</code></p>
        <p>Only configuration option required at startup.</p>
      </div>
      <div>
        <p>The infrastructure agent license key.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_LOG_FILE</code></p>
        <p>Required at agent startup.</p>
      </div>
      <div>
        <p>The location where the agent will log.</p>
        <p>Default:</p>
        <pre><code>/var/run/newrelic-infra/newrelic-infra.log

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_MODE</code></p>
        <p>Required at installation.</p>
      </div>
      <div>
        <p>The privilege level for the agent. Possible values are <code>ROOT</code>, <code>PRIVILEGED</code> or <code>UNPRIVILEGED</code>. For more info see our documentation on <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#agent-mode-intro">agent running modes</a>.</p>
        <p>Default:</p>
        <pre><code>ROOT

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_PID_FILE</code></p>
        <p>Required at agent startup.</p>
      </div>
      <div>
        <p>The location where the agent will place its PID file.</p>
        <p>Default:</p>
        <pre><code>/var/run/newrelic-infra/newrelic-infra.pid

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_PLUGIN_DIR</code></p>
        <p>Required at agent startup.</p>
      </div>
      <div>
        <p>The directory containing the configuration files of the integrations.</p>
        <p>Default:</p>
        <pre><code>/etc/newrelic-infra/integrations.d/

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>NRIA_USER</code></p>
        <p>Required at installation time only when the running mode is set to either <code>PRIVILEGED</code> or <code>UNPRIVILEGED</code>.</p>
      </div>
      <div>
        <p>The user that will run the agent binary.</p>
      </div>
    </div>
  </div>
</div>
<h2>What's next? [#what-next]</h2>
<p>You may also want to:</p>
<ul>
  <li><a href="/docs/Infrastructure-configure-your-agent#conf-custom_attributes">Add custom attributes</a> to annotate your infrastructure data.</li>
  <li><a href="/docs/infrastructure-amazon-aws-ec2-integration#connect">Connect your AWS account</a> if your servers are hosted on Amazon EC2.</li>
  <li>Add other <a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">infrastructure integrations</a> to collect data from external services.</li>
  <li>Manually <a href="/docs/infrastructure-start-stop-restart-check-agent-status#linux">start, stop, restart, or check the agent status</a>.</li>
</ul>
