
<p>Read on to learn how to use Puppet to install and configure New Relic's infrastructure agent using the <code>newrelic-infra</code> module. For an explanation of how to use Puppet, see <a href="https://docs.puppet.com">Puppet documentation</a>. This is a community-supported effort.</p>
<p>Here we provide basic information needed to use this configuration management tool. Detailed configuration will have to conform to your company standards.</p>
<h2>Requirements</h2>
<p>The Infrastructure Puppet module has these requirements:</p>
<ul>
  <li><a href="/docs/infrastructure-compatibility-requirements#operating-systems">Infrastructure-supported Linux operating systems</a></li>
  <li>Puppet version 3.0 or higher</li>
</ul>
<h2>Module description [#description]</h2>
<p>Use the <code>newrelic-infra</code> module to:</p>
<ul>
  <li>Add the New Relic's infrastructure agent package repository source.</li>
  <li>Install, configure, and manage the New Relic infrastructure agent.</li>
</ul>
<p>The New Relic Puppet module is available on <a href="https://forge.puppet.com/newrelic/newrelic_infra">Puppet Forge</a>.</p>
<h2>Run <code>newrelic-infra</code> module [#beginning]</h2>
<p>To run the default <code>newrelic-infra</code> module, declare the main <code>::agent</code> class.</p>
<h2>Install the infrastructure agent with the module [#usage]</h2>
<p>All interactions with <code>newrelic-infra</code> are done through the main <code>agent</code> class.</p>
<p>To install New Relic's infrastructure agent using Puppet, use:</p>
<pre><code>class { 'newrelic_infra::agent':
    ensure      => 'latest',
    license_key => 'YOUR_LICENSE_KEY',
}
</code></pre>
<h2>Puppet parameters [#reference]</h2>
<p>Here are the parameters for the <code>newrelic_infra::agent</code> public class:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Parameter description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>custom_configs</code></p>
      </div>
      <div>
        <p>A hash of key-value pairs. Corresponds directly with the available <a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#general">general configuration settings</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ensure</code></p>
      </div>
      <div>
        <p>Specifies the Infrastructure agent ensure status.</p>
        <p>Valid values include:</p>
        <ul>
          <li><code>'latest'</code> - (default) Installs the latest agent version</li>
          <li><code>'absent'</code> - Uninstalls the agent</li>
          <li><code>VERSION_STRING</code> - A string containing a specific version to pin</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>license_key</code></p>
      </div>
      <div>
        <p>Specifies the New Relic <a href="/docs/accounts-partnerships/accounts/account-setup/license-key">license key</a> to use.</p>
      </div>
    </div>
  </div>
</div>
<h2>For more help [#more_help]</h2>
<p>If you need additional help, <a href="https://github.com/newrelic/infrastructure-agent-puppet/issues">file an issue at <strong>newrelic/infrastructure-agent-puppet</strong> on GitHub</a>.</p>
