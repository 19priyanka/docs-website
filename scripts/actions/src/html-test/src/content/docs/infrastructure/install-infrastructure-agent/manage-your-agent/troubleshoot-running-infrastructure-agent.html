
<p>You can troubleshoot our infrastructure agent using our <code>newrelic-infra-ctl</code> utility. This binary is also included in the installation package, in the same directory as the <code>newrelic-infra</code> default binary.</p>
<p>Upon receiving the <code>newrelic-infra-ctl</code> command, the agent:</p>
<ul>
  <li>Enables <a href="/docs/infrastructure/new-relic-infrastructure/troubleshooting/generate-logs-troubleshooting-infrastructure">verbose logs</a> for a period of five minutes, then reverts the log level to its previous setting.</li>
  <li>Logs all the agent config options.</li>
  <li>Logs all the integrations config options.</li>
  <li>Executes a health check for every loaded integration. (A health check is an immediate execution of the integration with extra logs and output validation.)</li>
</ul>
<h2>Linux <code>newrelic-infra-ctl</code> [#binary-ctl-linux]</h2>
<p>In Linux systems, the troubleshooting binary is <code>/usr/bin/newrelic-infra-ctl</code>, available in both the <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux">package manager</a> or the <a href="/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux">tarball assisted</a> install methods.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>When running on Linux, <code>newrelic-infra-ctl</code> must be executed by either the <a href="/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes">root user or the same user</a> running the <code>newrelic-infra</code> process.</p>
</div>
<p>The <code>newrelic-infra-ctl</code> binary can automatically detect the agent process running in the host. It can also detect whether the agent is running inside a container.</p>
<p>To change the default settings of <code>newrelic-infra-ctl</code>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>To change...</p>
      </div>
      <div>
        <p>Execute</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux#change-pid"><code>pid</code></a></p>
      </div>
      <div>
        <p><code>newrelic-infra-ctl -pid 14580</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>cid</code> (when using a containerized version of the agent)</p>
      </div>
      <div>
        <p><code>newrelic-infra-ctl -cid 8fddbcbb101c</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="/docs/infrastructure/install-configure-infrastructure/configuration/infrastructure-configuration-settings#docker-api-version"><code>docker-api-version</code></a></p>
      </div>
      <div>
        <p><code>newrelic-infra-ctl -docker-api-version 1.24</code></p>
      </div>
    </div>
  </div>
</div>
<h2>Windows <code>newrelic-infra-ctl</code> [#binary-ctl-windows]</h2>
<p>In Windows, using the MSI installer, the troubleshooting binary is <code>C:\Program Files\New Relic\newrelic-infra\newrelic-infra-ctl.exe</code>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>In Windows, the agent process is always automatically detected. It does not depend on the <code>pid</code> or the <code>cid</code>.</p>
</div>
