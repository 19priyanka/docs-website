
<h2>Problem</h2>
<p>You installed the New Relic infrastructure agent and waited a few minutes, but no data appears in the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-compute-page-measure-resource-usage">Infrastructure UI</a>.</p>
<h2>Solution</h2>
<p>Data should appear in the Infrastructure monitoring UI within a few minutes for accounts with previously installed agents.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>For accounts installing the infrastructure agent for the first time, the latency for data appearing in the Infrastructure monitoring UI can be tens of minutes. If the following steps verify the installation and no obvious error conditions appear in the verbose logs, monitor the Infrastructure UI for a longer period before contacting <a href="https://support.newrelic.com">support.newrelic.com</a> for assistance.</p>
</div>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>By default, the infrastructure agent doesn't send <a href="https://docs.newrelic.com/attribute-dictionary?attribute_name=&#x26;events_tids%5B%5D=8412">data about the operating system's processes</a>. To enable the sending of process data set <a href="https://docs.newrelic.com/docs/infrastructure/install-configure-manage-infrastructure/configuration/infrastructure-configuration-settings#enable-process-metrics"><code>enable_process_metrics</code></a> to <code>true</code>. To fine-tune which processes you want to monitor, configure <a href="https://docs.newrelic.com/docs/infrastructure/install-configure-manage-infrastructure/configuration/infrastructure-configuration-settings#include-matching-metrics"><code>include_matching_metrics</code></a>.</p>
</div>
<h3>Missing infrastructure data [#missing-infra]</h3>
<p>If no data appears in the UI, try the following steps to diagnose the problem:</p>
<ol>
  <li>
    <p>Use your package manager to verify that the infrastructure agent is installed:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXB0LWluc3RhbGwtdmVyaWZ5In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgaW5zdGFsbCBmb3IgYXB0IChEZWJpYW4gb3IgVWJ1bnR1KSJ9XQ==">
        <div data-prop-text="title">Verify install for apt (Debian or Ubuntu)</div>
        <ol>
          <li>
            <p>Use <code>dpkg</code> to verify that the agent is installed:</p>
            <pre><code>dpkg -l | grep newrelic-infra
</code></pre>
          </li>
          <li>
            <p>If <code>dpkg</code> returns no output, see <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#apt-based">Install with apt</a>.</p>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoieXVtLWluc3RhbGwtdmVyaWZ5In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgaW5zdGFsbCBmb3IgeXVtIChBbWF6b24gTGludXgsIENlbnRPUywgb3IgUkhFTCkifV0=">
        <div data-prop-text="title">Verify install for yum (Amazon Linux, CentOS, or RHEL)</div>
        <ol>
          <li>
            <p>Use <code>rpm</code> to verify that agent is installed:</p>
            <pre><code>rpm -qa | grep newrelic-infra
</code></pre>
          </li>
          <li>
            <p>If <code>rpm</code> returns no output, see <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#yum-based">Install with yum</a>.</p>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoid2luZG93cy1pbnN0YWxsLXZlcmlmeSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiVmVyaWZ5IGluc3RhbGwgZm9yIFdpbmRvd3MgU2VydmVyIn1d">
        <div data-prop-text="title">Verify install for Windows Server</div>
        <ol>
          <li>
            <p>Use the Windows command prompt or Powershell to verify that the <a href="/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#infra-agent">agent directory</a> exists:</p>
            <pre><code>dir "C:\Program Files\New Relic\newrelic-infra"
</code></pre>
          </li>
          <li>
            <p>If you receive a <code>File not found</code> error, see <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-windows-server">Install for Windows Server</a>.</p>
          </li>
        </ol>
      </div>
    </div>
  </li>
  <li>
    <p>Use <a href="/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#init-system">your init system</a> to verify that the agent is running:</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3lzdGVtZC12ZXJpZnktc3RhdHVzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgc3RhdHVzIHdpdGggU3lzdGVtRCJ9XQ==">
        <div data-prop-text="title">Verify status with SystemD</div>
        <p>Use SystemD commands with CentOS 7, Debian 8, RHEL 7, and Ubuntu 15.04 or higher:</p>
        <ol>
          <li>
            <p>Check that the agent is running:</p>
            <pre><code>sudo systemctl status newrelic-infra
</code></pre>
          </li>
          <li>
            <p>If the agent isn't running, start the agent manually:</p>
            <pre><code>sudo systemctl start newrelic-infra
</code></pre>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3lzdGVtdi12ZXJpZnktc3RhdHVzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgc3RhdHVzIHdpdGggU3lzdGVtIFYifV0=">
        <div data-prop-text="title">Verify status with System V</div>
        <p>Use System V commands with Debian 7:</p>
        <ol>
          <li>
            <p>Check that the agent is running:</p>
            <pre><code>sudo /etc/init.d/newrelic-infra status
</code></pre>
          </li>
          <li>
            <p>If the agent isn't running, start the agent manually:</p>
            <pre><code>sudo /etc/init.d/newrelic-infra start
</code></pre>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXBzdGFydC12ZXJpZnktc3RhdHVzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgc3RhdHVzIHdpdGggVXBzdGFydCJ9XQ==">
        <div data-prop-text="title">Verify status with Upstart</div>
        <p>Use Upstart commands with Amazon Linux, CentOS 6, RHEL 6, and Ubuntu 14.10 or lower:</p>
        <ol>
          <li>
            <p>Check that the agent is running:</p>
            <pre><code>sudo initctl status newrelic-infra
</code></pre>
          </li>
          <li>
            <p>If the agent isn't running, start the agent manually:</p>
            <pre><code>sudo initctl start newrelic-infra
</code></pre>
          </li>
        </ol>
      </div>
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoid2luZG93cy12ZXJpZnktc3RhdHVzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJWZXJpZnkgc3RhdHVzIHdpdGggV2luZG93cyJ9XQ==">
        <div data-prop-text="title">Verify status with Windows</div>
        <p>Use the Windows command prompt:</p>
        <ol>
          <li>
            <p>Check that the agent is running:</p>
            <pre><code>sc query "newrelic-infra" | find "RUNNING"
</code></pre>
          </li>
          <li>
            <p>If the agent isn't running, start the agent manually with the Windows command prompt:</p>
            <pre><code>net start newrelic-infra
</code></pre>
            <p>If running <code>net start newrelic-infra</code> returns <code>The service name is invalid</code>, the Infrastructure agent may not have been installed correctly and the service was not properly created.</p>
            <p>To test this:</p>
          </li>
          <li>
            <p>From Powershell, run the command <code>get-service newrelic-infra</code>, which will return the status of the service.</p>
          </li>
          <li>
            <p>If it returns an error <code>Cannot find any service with service name newrelic-infra</code>, then follow standard procedures to reinstall the agent.</p>
          </li>
        </ol>
      </div>
    </div>
  </li>
  <li>
    <p>Use <a href="/docs/agents/manage-apm-agents/troubleshooting/new-relic-diagnostics">New Relic Diagnostics</a> to try to automatically identify the issue.</p>
  </li>
  <li>
    <p>Verify that your <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#config-file"><code>newrelic-infra.yml</code></a> configuration file contains a valid <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#conf-license_key"><code>license_key</code></a> setting.</p>
  </li>
  <li>
    <p>Verify that the host has a <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure#hostname">unique hostname</a>, and verify that the hostname is not <code>localhost</code>. For more information, see this <a href="https://discuss.newrelic.com/t/relic-solution-a-common-reason-for-a-host-failing-to-show-up-in-the-infrastructure-dashboard/53031">Explorers Hub post</a>.</p>
  </li>
  <li>
    <p>Verify that no firewalls or proxies are blocking outbound connections from the agent process to the <a href="/docs/apm/new-relic-apm/getting-started/networks#infrastructure">Infrastructure domains and ports</a>.</p>
  </li>
  <li>
    <p>Confirm the host is reporting correctly even though it is not appearing in the Infrastructure monitoring UI by creating a basic query in Insights, like:</p>
    <pre><code>SELECT * FROM SystemSample SINCE 60 minutes ago LIMIT 100
</code></pre>
    <p>Use the query results to note the timestamps, which show when the data was reported. To determine when data was first received, look at the earliest timestamp.</p>
  </li>
  <li>
    <p><a href="/docs/infrastructure/new-relic-infrastructure/troubleshooting/generating-logs-troubleshooting-infrastructure">Generate verbose logs</a> and examine the logs for errors.</p>
  </li>
</ol>
<h3>Missing integration data [#missing-integrations]</h3>
<p>If you are missing data from an integration, see troubleshooting procedures for:</p>
<ul>
  <li><a href="/docs/infrastructure/new-relic-infrastructure/troubleshooting/apm-data-missing-infrastructure">New Relic APM data missing from infrastructure monitoring</a></li>
  <li><a href="/docs/infrastructure/amazon-integrations/troubleshooting/no-data-appears-amazonaws-integrations">Amazon/AWS integrations</a></li>
  <li><a href="/docs/infrastructure/on-host-integrations/troubleshooting/not-seeing-host-integration-data">On-host integrations</a></li>
</ul>
