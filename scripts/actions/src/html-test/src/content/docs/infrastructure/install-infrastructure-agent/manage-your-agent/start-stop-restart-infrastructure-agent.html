
<p>The infrastructure agent starts automatically after you run the installation script. However, there are situations where you may need to manually restart the agent (for example, after <a href="/docs/infrastructure-configure-your-agent">changing your agent configuration</a>).</p>
<h2>
  <img src="./images/otherlinux.png" alt="Linux" title="Linux">Linux: Start, stop, restart, or check agent status [#linux]
</h2>
<p>For <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux">Linux</a>, ensure you use the correct command for <a href="#init-system">your init system</a>. Select <code>start</code>, <code>stop</code>, <code>restart</code>, or <code>status</code> as appropriate:</p>
<ul>
  <li>
    <p><strong>SystemD</strong> (Amazon Linux 2, SLES 12, CentOS 7 or higher, Debian 8 or higher, RHEL 7 or higher, Ubuntu 15.04 or higher):</p>
    <pre><code>sudo systemctl &#x3C;start|stop|restart|status> newrelic-infra
</code></pre>
  </li>
  <li>
    <p><strong>System V</strong> (Debian 7, SLES 11.4, CentOS 5, RHEL 5):</p>
    <pre><code>sudo /etc/init.d/newrelic-infra &#x3C;start|stop|restart|status>
</code></pre>
  </li>
  <li>
    <p><strong>Upstart</strong> (Amazon Linux, CentOS 6, RHEL 6, Ubuntu 14.04 or lower):</p>
    <pre><code>sudo initctl &#x3C;start|stop|restart|status> newrelic-infra
</code></pre>
  </li>
</ul>
<h2>
  <img src="./images/windows.png" alt="Windows Server" title="Windows Server"> Windows: Start, stop, restart, or check agent status [#windows]
</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>To start, stop, or restart the agent, you must run <code>cmd.exe</code> or PowerShell as <strong>Administrator</strong>.</p>
</div>
<p>For <a href="/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-windows-server">Windows Server</a>, you can use the Windows command prompt or PowerShell.</p>
<h3>
  <img src="./images/cmd.png" alt="CMD" title="CMD"> Command prompt (cmd.exe)
</h3>
<ul>
  <li>
    <p>Start or stop the Windows agent:</p>
    <pre><code>net &#x3C;start|stop> newrelic-infra
</code></pre>
  </li>
  <li>
    <p>Restart the Windows agent:</p>
    <pre><code>net stop newrelic-infra ; net start newrelic-infra
</code></pre>
  </li>
  <li>
    <p>Check the status of the Windows agent:</p>
    <pre><code>sc query "newrelic-infra" | find "STATE"
</code></pre>
  </li>
</ul>
<h3>
  <img src="./images/ps.png" alt="PowerShell" title="PowerShell"> PowerShell
</h3>
<ul>
  <li>
    <p>Start or stop the Windows agent:</p>
    <pre><code>Stop-Service -Name "newrelic-infra"
Start-Service -Name "newrelic-infra"
</code></pre>
    <p>You can also use <code>net start|stop newrelic-infra</code></p>
  </li>
</ul>
<ul>
  <li>
    <p>Restart the Windows agent:</p>
    <pre><code>Restart-Service newrelic-infra
</code></pre>
  </li>
  <li>
    <p>Check status of Windows agent:</p>
    <pre><code>(Get-Service newrelic-infra).Status
</code></pre>
  </li>
</ul>
<h2>Customize agent logs [#logging]</h2>
<p>The infrastructure agent logs to a default location which depends on your platform. You can customize this location with the <a href="/docs/infrastructure/install-configure-infrastructure/configuration/infrastructure-configuration-settings#log-file"><code>log_file</code></a> setting. You can also <a href="/docs/infrastructure/new-relic-infrastructure/troubleshooting/generating-logs-troubleshooting-infrastructure">generate verbose logs for troubleshooting</a>.</p>
<h2>Determine your init system [#init-system]</h2>
<p>For Windows Server, the commands in this document use the Windows command prompt.</p>
<p>For Linux, the infrastructure agent selects an init system appropriate for your distribution:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Distribution</p>
      </div>
      <div>
        <p>SystemD</p>
      </div>
      <div>
        <p>System V</p>
      </div>
      <div>
        <p>Upstart</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Amazon Linux</p>
      </div>
      <div></div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjEzNSwiY29sdW1uIjoxNywib2Zmc2V0Ijo0Mzg3fSwiZW5kIjp7ImxpbmUiOjEzNSwiY29sdW1uIjozNywib2Zmc2V0Ijo0NDA3fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
    </div>
    <div>
      <div>
        <p>Amazon Linux 2</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE0OCwiY29sdW1uIjoxNywib2Zmc2V0Ijo0NjI4fSwiZW5kIjp7ImxpbmUiOjE0OCwiY29sdW1uIjozNywib2Zmc2V0Ijo0NjQ4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>CentOS 5</p>
      </div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE2NywiY29sdW1uIjoxNywib2Zmc2V0Ijo0OTk4fSwiZW5kIjp7ImxpbmUiOjE2NywiY29sdW1uIjozNywib2Zmc2V0Ijo1MDE4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
    </div>
    <div>
      <div>
        <p>CentOS 6</p>
      </div>
      <div></div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE4NiwiY29sdW1uIjoxNywib2Zmc2V0Ijo1MzY4fSwiZW5kIjp7ImxpbmUiOjE4NiwiY29sdW1uIjozNywib2Zmc2V0Ijo1Mzg4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
    </div>
    <div>
      <div>
        <p>CentOS 7</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjE5OSwiY29sdW1uIjoxNywib2Zmc2V0Ijo1NjAzfSwiZW5kIjp7ImxpbmUiOjE5OSwiY29sdW1uIjozNywib2Zmc2V0Ijo1NjIzfX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>CentOS 8</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjIxNiwiY29sdW1uIjoxNywib2Zmc2V0Ijo1OTI4fSwiZW5kIjp7ImxpbmUiOjIxNiwiY29sdW1uIjozNywib2Zmc2V0Ijo1OTQ4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>Debian 7 ("Wheezy")</p>
      </div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjIzNSwiY29sdW1uIjoxNywib2Zmc2V0Ijo2MzA5fSwiZW5kIjp7ImxpbmUiOjIzNSwiY29sdW1uIjozNywib2Zmc2V0Ijo2MzI5fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
    </div>
    <div>
      <div>
        <p>Debian 8 ("Jessie")</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjI1MCwiY29sdW1uIjoxNywib2Zmc2V0Ijo2NjAwfSwiZW5kIjp7ImxpbmUiOjI1MCwiY29sdW1uIjozNywib2Zmc2V0Ijo2NjIwfX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>Debian 9 ("Stretch")</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjI2NywiY29sdW1uIjoxNywib2Zmc2V0Ijo2OTM3fSwiZW5kIjp7ImxpbmUiOjI2NywiY29sdW1uIjozNywib2Zmc2V0Ijo2OTU3fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>RHEL 5</p>
      </div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjI4NiwiY29sdW1uIjoxNywib2Zmc2V0Ijo3MzA1fSwiZW5kIjp7ImxpbmUiOjI4NiwiY29sdW1uIjozNywib2Zmc2V0Ijo3MzI1fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
    </div>
    <div>
      <div>
        <p>RHEL 6</p>
      </div>
      <div></div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjMwNSwiY29sdW1uIjoxNywib2Zmc2V0Ijo3NjczfSwiZW5kIjp7ImxpbmUiOjMwNSwiY29sdW1uIjozNywib2Zmc2V0Ijo3NjkzfX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
    </div>
    <div>
      <div>
        <p>RHEL 7</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjMxOCwiY29sdW1uIjoxNywib2Zmc2V0Ijo3OTA2fSwiZW5kIjp7ImxpbmUiOjMxOCwiY29sdW1uIjozNywib2Zmc2V0Ijo3OTI2fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>RHEL 8</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjMzNSwiY29sdW1uIjoxNywib2Zmc2V0Ijo4MjI5fSwiZW5kIjp7ImxpbmUiOjMzNSwiY29sdW1uIjozNywib2Zmc2V0Ijo4MjQ5fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>Ubuntu, 14.04 or lower</p>
      </div>
      <div></div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjM1NiwiY29sdW1uIjoxNywib2Zmc2V0Ijo4NjU4fSwiZW5kIjp7ImxpbmUiOjM1NiwiY29sdW1uIjozNywib2Zmc2V0Ijo4Njc4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
    </div>
    <div>
      <div>
        <p>Ubuntu, 16.04 or higher</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjM2OSwiY29sdW1uIjoxNywib2Zmc2V0Ijo4OTA4fSwiZW5kIjp7ImxpbmUiOjM2OSwiY29sdW1uIjozNywib2Zmc2V0Ijo4OTI4fX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>SLES 12</p>
      </div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjM4NiwiY29sdW1uIjoxNywib2Zmc2V0Ijo5MjMyfSwiZW5kIjp7ImxpbmUiOjM4NiwiY29sdW1uIjozNywib2Zmc2V0Ijo5MjUyfX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
      <div></div>
    </div>
    <div>
      <div>
        <p>SLES 11</p>
      </div>
      <div></div>
      <div>
        <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Intjb2xvcjogJyMzMjg3ODcnfSIsInBvc2l0aW9uIjp7InN0YXJ0Ijp7ImxpbmUiOjQwNSwiY29sdW1uIjoxNywib2Zmc2V0Ijo5NjAxfSwiZW5kIjp7ImxpbmUiOjQwNSwiY29sdW1uIjozNywib2Zmc2V0Ijo5NjIxfX19fSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoibmFtZSIsInZhbHVlIjoiZmUtY2hlY2sifV0="></div>
      </div>
      <div></div>
    </div>
  </div>
</div>
<h2>Configuration management tools [#config-mgmt]</h2>
<p>To manage the infrastructure agent with your config management tool, see:</p>
<ul>
  <li><a href="/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible">Ansible configuration</a></li>
  <li><a href="/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef">Chef configuration</a></li>
  <li><a href="/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk">AWS Elastic Beanstalk configuration</a></li>
  <li><a href="/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet">Puppet configuration</a></li>
</ul>
