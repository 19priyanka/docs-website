
<p>With New Relic infrastructure monitoring, you can combine filters into a <strong>filter set</strong> to organize hosts based on criteria that matter the most to you.</p>
<p>Read on to learn about the benefits, use, and logic of filter sets.</p>
<h2>Benefits of filter sets [#benefits]</h2>
<p>You can create filter sets using available <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute">attributes</a> or <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">tags</a>.</p>
<p>For example, you can organize your infrastructure into categories such as:</p>
<ul>
  <li>Regions</li>
  <li>Operating system versions</li>
  <li>Hosts associated with Docker containers</li>
  <li>Test environments</li>
</ul>
<p>You can share filter sets with other people in your account, and you can quickly identify infrastructure problems by checking the color-coded <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#health-status">health status</a> of each host in the filter set.</p>
<h2>Create filter sets [#create]</h2>
<p>The default infrastructure filter set is <strong>All hosts</strong>, and it serves as a template for you to create filter sets.</p>
<p>To create a filter set:</p>
<ol>
  <li>Go to <strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong> and click <strong>Hosts</strong>, <strong>Inventory</strong>, or <strong>Events</strong>.</li>
  <li>If <strong>All hosts</strong> is not displayed in the left sidebar, open that filter set by selecting <strong>Saved filter sets > All hosts</strong>.</li>
  <li>In <strong>All hosts</strong>, click <strong>Filter hosts</strong>.</li>
  <li>In the list, click an item to see a list of values.</li>
  <li>Click <strong>Include</strong> or <strong>Exclude</strong> (see <a href="#logic">Filter set logic</a>).</li>
  <li>Click values individually or enter text to match multiple values.</li>
  <li>Continue adding filters until you have the filter set you want.</li>
  <li>To name your filter, click the
    <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1lZGl0LTIifV0="></div>icon, type a name, and click <strong>Save</strong>.
  </li>
</ol>
<h2>Edit filter sets [#edit]</h2>
<p>To change an existing filter set:</p>
<ol>
  <li>Go to <strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong> and click <strong>Hosts</strong>, <strong>Inventory</strong>, or <strong>Events</strong>.</li>
  <li>In the sidebar, click <strong>Saved filter sets</strong> to open a list.</li>
  <li>Locate the filter set by scrolling or by entering a search term.</li>
  <li>Click the filter set to open it.</li>
  <li>In the sidebar, click an option to update your filter set, and then save.</li>
</ol>
<h2>Delete filter sets [#delete]</h2>
<p>You can delete any saved filter set except the default <strong>All hosts</strong>.</p>
<ol>
  <li>Go to <strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong> <strong>> Settings > Filter sets</strong>.</li>
  <li>Click
    <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS10cmFzaC0yIn1d"></div>to delete the filter set.
  </li>
</ol>
<h2>Combine filter sets with grouping [#grouping]</h2>
<p>On some pages you can use <a href="/docs/infrastructure-group-results-specific-attributes"><strong>Group by</strong></a> to group chart results by specific attributes. For example, on the <strong>Hosts</strong> page, you can group by <code>awsRegion</code> to display the AWS regions with the highest CPU usage.</p>
<p>Grouping applies to the selected filter sets. By combining filter sets with grouping, you can find detailed system information quickly. For an example of using these tools to troubleshoot a problem, see <a href="/docs/infrastructure-group-results-specific-attributes#scoping-and-grouping">Combining filter sets and grouping</a>.</p>
<h2>Copy filters from filter set to alerts [#alerts]</h2>
<p>When you create an alert condition, you can build filters individually, or you can copy all the filters from a filter set into a new alert condition. This is a quick shortcut to populate a new alert condition with some filters.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>When you copy filter set filters to a new alert condition, these filters are no longer tied to the filter set. If you make changes to the filter set, the alert filters are not affected.</p>
</div>
<p>To copy filter set filters to a new alert condition:</p>
<ol>
  <li>Go to <strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong> and click <strong>Hosts</strong>, <strong>Inventory</strong>, or <strong>Events</strong>.</li>
  <li>In the sidebar, click <strong>Saved filter sets</strong> to open a list.</li>
  <li>Locate the filter set by scrolling or by entering a search term.</li>
  <li>Click the filter set to open it.</li>
  <li>Mouse over any chart and click<strong><div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1tb3JlLWhvcml6b250YWwifV0="></div>> Create alert</strong>.</li>
  <li>Enter an alert condition name.</li>
  <li>Make adjustments to filters as necessary.</li>
  <li>Complete the remaining alert fields (see <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information#create-condition">Create alert conditions</a>).</li>
</ol>
<h2>Filter set logic [#logic]</h2>
<p>When you create a filter set, you generate a list of attributes and/or tags that narrow the results. This section explains how filter sets apply various rules to the list.</p>
<h3>Inclusion and exclusion [#include-exclude]</h3>
<p>As part of building a filter set, you designate whether a filter should include or exclude entities that match certain values.</p>
<p>The way the inclusion or exclusion works depends on how you select values:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibWF0Y2gtc3RyaW5nIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJSZWNvbW1lbmRlZDogU2VsZWN0IHZhbHVlcyBieSBtYXRjaGluZyBhIHN0cmluZyJ9XQ==">
    <div data-prop-text="title">Recommended: Select values by matching a string</div>
    <p>You can generate a list of values by entering a string that you want values to match. This is useful for matching multiple values.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
      <p>String matching efficiently generates a list of values, and this approach scales as you add new entities.</p>
    </div>
    <p>Here is the logic filter sets use with string matching:</p>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Comparator</p>
          </div>
          <div>
            <p>Logic</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>Include</p>
          </div>
          <div>
            <p>If you click <strong>Include</strong> and then enter a string that you want values to match, the filter uses the comparator <code>LIKE</code>, which means the results include any entities that are like the string.</p>
            <p>For example, you could filter by the term East-, and all entities that contain that term are returned.</p>
          </div>
        </div>
        <div>
          <div>
            <p>Exclude</p>
          </div>
          <div>
            <p>If you click <strong>Exclude</strong> and then enter a string that you want values to match, the filter uses the comparator <code>NOT LIKE</code>, which means the results exclude any entities that are like the string.</p>
            <p>For example, you could filter by the term West-, and all entities that do not contain that term are returned.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic2VsZWN0LWluZGl2aWR1YWxseSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU2VsZWN0IHZhbHVlcyBpbmRpdmlkdWFsbHkifV0=">
    <div data-prop-text="title">Select values individually</div>
    <p>You can click through the list of attributes/tags to identify individual values.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
      <p>This approach does not scale well if you add new entities.</p>
    </div>
    <p>Here is the logic filter sets use with individual value selection:</p>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Comparator</p>
          </div>
          <div>
            <p>Logic</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>Include</p>
          </div>
          <div>
            <p>If you click <strong>Include</strong> and then click specific values, the filter uses the comparator <code>IN</code>, which means the filter looks for entities that exactly match one or more values in your list of selections.</p>
          </div>
        </div>
        <div>
          <div>
            <p>Exclude</p>
          </div>
          <div>
            <p>If you click <strong>Exclude</strong> and then click specific values, the filter set uses the comparator <code>NOT IN</code>, which means the filter returns all entities that do not exactly match one or more values in your list of selections.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>And/Or</h3>
<p>Filter sets use the logical operators <code>AND</code> and <code>OR</code> behind the scenes to join the data.</p>
<p>Here are the rules for <code>AND</code> and <code>OR</code>:</p>
<ul>
  <li>When you click values from multiple attributes or tags, they are joined by <code>AND</code>.</li>
  <li>When you click values from within an attribute or tags, they are joined by <code>OR</code>.</li>
</ul>
<p>The filter results display hosts for which both of the following are true:</p>
<ul>
  <li>Hosts containing any one of the selected infrastructure agent versions</li>
  <li>Hosts in any one of the selected AWS availability zones</li>
</ul>
