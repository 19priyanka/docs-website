
<h2>Problem</h2>
<p>When APM and infrastructure agents are installed on the same hosts and use the same New Relic license key, APM data should appear in <strong>Infrastructure</strong>, and vice versa. If you do not see this APM-Infrastructure linkage, follow these troubleshooting tips.</p>
<h2>Solution</h2>
<p>If you completed the <a href="/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure">APM/Infrastructure integration</a> but do not see New Relic APM data in <strong>Infrastructure</strong>, try these troubleshooting procedures.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmVzdGFydC1hcHAtc2VydmVyIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJSZXN0YXJ0IHRoZSBhcHAgc2VydmVyLiJ9XQ==">
    <div data-prop-text="title">Restart the app server.</div>
    <p>If you have not restarted your APM-monitored application in a few weeks or months, the data streams from Infrastructure and APM may not be linked.</p>
    <ol>
      <li>Restart your app server.</li>
      <li>Generate some traffic for your app.</li>
      <li>Wait a few minutes, and then check for <a href="/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure">APM data in infrastructure monitoring</a>.</li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaG9zdG5hbWVzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJNYWtlIHN1cmUgdGhlIGhvc3RuYW1lcyBhcmUgdGhlIHNhbWUgaW4gQVBNIGFuZCBJbmZyYXN0cnVjdHVyZS4ifV0=">
    <div data-prop-text="title">Make sure the hostnames are the same in APM and Infrastructure.</div>
    <p>If the hostnames are different in APM and infrastructure monitoring, New Relic cannot integrate the data. One common cause for this issue is that the default hostnames are different. For example, infrastructure monitoring uses a host's FQDN (such as <code>myhost1.example.com</code>), while APM uses the host's name (such as <code>myhost1</code>).</p>
    <ol>
      <li>Go to <a href="http://one.newrelic.com"><strong>one</strong></a><strong>[</strong>.newrelic.com<strong>](<a href="http://one.newrelic.com">http://one.newrelic.com</a>) > APM > (select an app)</strong>.</li>
      <li>From the app's APM <strong>Overview</strong> page, look at the app's associated host name. Compare that name with the same host's name in infrastructure monitoring.</li>
      <li>If the names are different, either <a href="/docs/agents/manage-apm-agents/configuration/add-rename-remove-hosts#display_name">set the APM agent host's <code>display_name</code></a> to match its FQDN, or <a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#display_name">set the host's <code>display_name</code> in Infrastructure</a> to match the one set in APM.</li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2FwLWZxZG4taXNzdWUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkNoZWNrIGZvciByZXBsYWNlbWVudCBob3N0IEZRRE4gcmVjb2duaXRpb24gcHJvYmxlbXMuIn1d">
    <div data-prop-text="title">Check for replacement host FQDN recognition problems.</div>
    <p>If the APM-Infrastructure integration previously worked but has stopped, the server may have been replaced by another server that has the same FQDN. If both servers existed simultaneously for a period of time, New Relic cannot automatically recognize the new server. That will break the connection between APM and infrastructure data.</p>
    <ul>
      <li>To solve this problem, get help at <a href="https://support.newrelic.com/tickets/new">support.newrelic.com</a>.</li>
      <li>To prevent this problem, make sure there is a time gap between taking down an old server going down and creating a new server.</li>
    </ul>
  </div>
</div>
