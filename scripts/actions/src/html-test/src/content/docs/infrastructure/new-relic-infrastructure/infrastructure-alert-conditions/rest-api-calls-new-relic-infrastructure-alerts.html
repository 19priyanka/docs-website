
<p>Use the infrastructure REST API to add, update, delete, and list alerting conditions. You can also manage individual alerting conditions using the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information">infrastructure monitoring UI</a>.</p>
<p>REST API calls for infrastructure alerts are not available in the <a href="/docs/apis/rest-api-v2/api-explorer-v2/getting-started-new-relics-api-explorer">API Explorer</a>.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Why use the API</p>
      </div>
      <div>
        <p>Examples</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Consistency</p>
      </div>
      <div>
        <ul>
          <li>Define the same set of conditions for every cluster without having to set up identical conditions in the Infrastructure monitoring UI each time.</li>
          <li>Manage multiple conditions quickly, without having to update them one by one using the UI.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Flexibility</p>
      </div>
      <div>
        <ul>
          <li>Create conditions for an arbitrary group of hosts.</li>
          <li>Disable or delete conditions for hosts taken offline anytime.</li>
          <li>Create a condition with exclusionary filtering (for instance, <code>environment NOT LIKE x</code>). For more on this, see <a href="https://discuss.newrelic.com/t/how-to-use-the-infrastructure-alerts-rest-api-to-get-around-ui-ux-limitations-part-1-exclusion-filtering/60658">this post on exclusion filtering</a>.</li>
          <li>For AWS Cloud integrations, select attributes that haven't been sent up by AWS yet.</li>
          <li>Create compound alert conditions by using the <code>where_clause</code>, which allows you to specify the limits on a secondary or tertiary metric.</li>
          <li>Exceed the 500-facet limitation on NRQL alert conditions.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Reliability</p>
      </div>
      <div>
        <ul>
          <li>Audit when a condition was last updated.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h2>Requirements</h2>
<p>In order to use the Infrastructure REST API, you need:</p>
<ul>
  <li>An <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a></li>
  <li>The alerting condition's related <code>policy_id</code> from New Relic, available via <a href="#get-conditions">GET list of conditions</a> or via the <a href="/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list">Alerts REST API</a></li>
  <li>The condition <code>id</code>, available via <a href="#get-conditions">GET list of conditions</a>, or via the condition's URL in the Infrastructure monitoring UI</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If your account hosts data in the EU data center, make sure you are using the proper <a href="/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints">API endpoints for EU region accounts</a>.</p>
</div>
<h2>Using infrastructure API calls</h2>
<p>Here are some basic cURL commands and their responses for Infrastructure alert conditions. Depending on the type of condition, the <code>DATA</code> information you provide in the call will vary for POST (add) and PUT (update) calls.</p>
<p>Definitions of each attribute used in the <code>data</code> blocks can be found in the <a href="#definitions">Definitions</a> section.</p>
<h2>GET infrastructure conditions [#get-conditions]</h2>
<p>You can either <a href="#get-condition-list">GET a list of infrastructure conditions</a> or <a href="#get-one-condition">GET a specific infrastructure condition</a>. Here are a few tips for listing infrastructure conditions.</p>
<ul>
  <li>For pagination, use <code>limit</code> (records per page) and <code>offset</code> (how many records to skip) parameters. Default is 50 records per page, and <code>offset</code> starts at 0 (skip no records).</li>
  <li>To scope the results to a specific policy, use <code>policy_id</code>.</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If you want to use the GET response as a template for your PUT or POST input, be sure to remove the <code>created_at_epoch_millis</code>, <code>updated_at_epoch_millis</code> and <code>id</code> information.</p>
</div>
<h3>GET a list of infrastructure conditions [#get-condition-list]</h3>
<pre><code>curl -v -X GET --header "Api-Key: $API_KEY" "https://infra-api.newrelic.com/v2/alerts/conditions?policy_id=111111"
</code></pre>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIEdFVCBhIGxpc3Qgb2YgY29uZGl0aW9ucyJ9XQ==">
    <div data-prop-text="title">Example GET a list of conditions</div>
    <p>Response showing 2 of the 3 conditions for the example policy (formatted for readability and truncated):</p>
    <pre><code>HTTP/1.1 200 OK
Content-Length: 622
Content-Type: application/json

{
   "data":[
      {
         "type":"infra_process_running",
         "name":"Java is running",
         "enabled":true,
         "where_clause":"(`hostname` LIKE '%cassandra%')",
         "id":13890,
         "created_at_epoch_millis":1490996713872,
         "updated_at_epoch_millis":1490996713872,
         "policy_id":111111,
         "comparison":"equal",
         "critical_threshold":{
            "value":0,
            "duration_minutes":6
         },
         "process_where_clause":"(`commandName` = 'java')"
      },
      {
         "created_at_epoch_millis": 1501704525462,
         "critical_threshold": {
             "duration_minutes": 5
         },
         "enabled": true,
         "filter": {
            "and": [
                {
                     "like": {
                         "fullHostname": "Production_1"
                     }
                 }
             ]
         },
         "id": 448036,
         "name": "PROD - Host Machine's Agent Not Responding ....",
         "policy_id": 98485,
         "type": "infra_host_not_reporting",
         "updated_at_epoch_millis": 1504879191220
      }
     . . . 
   ],
   "meta":{
      "limit":50,
      "offset":0,
      "total":3
   },
   "links":{
      "next":"infra-api.newrelic.com/v2/alerts/conditions?limit=1\u0026offset=50\u0026policy_id=111111"
   }
}

</code></pre>
  </div>
</div>
<p>To get a list of the 10 Infrastructure conditions beyond the 50 limit:</p>
<pre><code>curl -v -X GET --header "Api-Key: $API_KEY" "https://infra-api.newrelic.com/v2/alerts/conditions?policy_id=111111&#x26;offset=50&#x26;list=10"
</code></pre>
<h3>GET a specific infrastructure condition [#get-one-condition]</h3>
<p>To get information about a single Infrastructure condition:</p>
<pre><code>curl -v -X GET --header "Api-Key: $API_KEY" "https://infra-api.newrelic.com/v2/alerts/conditions/condition-id"
</code></pre>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIEdFVCBhIHNwZWNpZmljIGNvbmRpdGlvbiJ9XQ==">
    <div data-prop-text="title">Example GET a specific condition</div>
    <p>Response (formatted for readability):</p>
    <pre><code>HTTP/1.1 200 OK
Content-Length: 246
Content-Type: application/json

{
   "data":{
      "type":"infra_host_not_reporting",
      "name":"demo condition",
      "enabled":false,
      "id":13887,
      "created_at_epoch_millis":1490981583580,
      "updated_at_epoch_millis":1490981583580,
      "policy_id":23635,
      "critical_threshold":{
         "duration_minutes":100
      }
   }
}

</code></pre>
  </div>
</div>
<h2>Create (POST) an infrastructure condition [#post-conditions]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Do not include an <code>"id":</code> when adding a new condition (POST). It will be generated when the condition is created.</p>
</div>
<p>To add an infrastructure condition, use this basic cURL command:</p>
<pre><code>curl -X POST 'https://infra-api.newrelic.com/v2/alerts/conditions' -H 'Api-Key:$API_KEY' -i -H 'Content-Type: application/json' -d '{"data":{DATA object details}}'
</code></pre>
<p>Include details in the <code>DATA</code> object (<code>-d \</code> section) for the type of infrastructure condition you are adding:</p>
<ul>
  <li><a href="#process-running-api">Process running conditions API data</a></li>
  <li><a href="#metric-api">Metric conditions API data</a></li>
  <li><a href="#host-not-reporting-api">Host not reporting conditions API data</a></li>
</ul>
<h2>Update (PUT) an infrastructure condition [#put-conditions]</h2>
<p>You only need to include the fields that need to be changed when updating an infrastructure condition. The API keeps the existing values for any missing fields.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you want to change the condition <code>type</code>, do not use PUT. Instead, delete the existing condition, then add (POST) a new condition with the new condition <code>type</code> and <strong>all</strong> fields.</p>
</div>
<p>To update an infrastructure condition, use this basic cURL command. To indicate which condition is to be updated, be sure to include the <code>"id":</code> .</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIHVwZGF0ZSAoUFVUKSBhIGNvbmRpdGlvbiJ9XQ==">
    <div data-prop-text="title">Example update (PUT) a condition</div>
    <pre><code>curl -X PUT 'https://infra-api.newrelic.com/v2/alerts/conditions/condition-id' -H 'Api-Key:$API_KEY' -i -H 'Content-Type: application/json' -d '{"data":{DATA object details}}'

</code></pre>
  </div>
</div>
<p>Include details in the <code>DATA</code> object (<code>-d \</code> section) for the type of infrastructure condition you are updating:</p>
<ul>
  <li><a href="#process-running-api">Process running conditions API data</a></li>
  <li><a href="#metric-api">Metric conditions API data</a></li>
  <li><a href="#host-not-reporting-api">Host not reporting conditions API data</a></li>
</ul>
<h2>Remove (DELETE) an infrastructure condition [#delete-conditions]</h2>
<p>To delete an infrastructure condition, use this basic cURL command:</p>
<pre><code>curl -v -X DELETE --header "Api-Key: $API_KEY" "https://infra-api.newrelic.com/v2/alerts/conditions/condition_id"
</code></pre>
<h2>Types of conditions [#condition-types]</h2>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicHJvY2Vzcy1ydW5uaW5nLWFwaSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUHJvY2VzcyBydW5uaW5nIGNvbmRpdGlvbnMgQVBJIGRhdGEifV0=">
    <div data-prop-text="title">Process running conditions API data</div>
    <p>A <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#process-running">process running condition</a> alerts you when the number of processes is above, below, or equal to the threshold you define. To <a href="#post-conditions">add (POST)</a> or <a href="#put-condition">update (PUT)</a> a process running condition, use your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>, and refer to the <a href="#definitions">definitions</a> to customize your values in the API call.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIGNvbmRpdGlvbiB0eXBlcyJ9XQ==">
        <div data-prop-text="title">Example condition types</div>
        <p>For example:</p>
        <pre><code>curl -X POST 'https://infra-api.newrelic.com/v2/alerts/conditions' -H 'Api-Key:$API_KEY' -i -H 'Content-Type: application/json' -d
'{
   "data":{
      "type":"infra_process_running",
      "name":"Java is running",
      "enabled":true,
      "where_clause":"(hostname LIKE '\''%cassandra%'\'')",
      "policy_id":policy_id,
      "comparison":"equal",
      "critical_threshold":{
         "value":0,
         "duration_minutes":6
      },
      "process_where_clause":"(commandName = '\''java'\'')"
   }
}'

</code></pre>&#x3C;Callout variant="important">
        Note the extra single quotes escaping the single quote around the `where_clause` and `process_where_clause`
        &#x3C;/Callout>
      </div>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibWV0cmljLWFwaSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTWV0cmljIGNvbmRpdGlvbnMgQVBJIGRhdGEifV0=">
    <div data-prop-text="title">Metric conditions API data</div>
    <p>A metric condition alerts you when the metric of your choice is above, below, or equal to the threshold you define. This includes:</p>
    <ul>
      <li>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#cpu-usage">System</a> metrics</p>
      </li>
      <li>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#virtual-memory">Process</a> metrics</p>
      </li>
      <li>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#network-bandwidth">Network</a> metrics</p>
      </li>
      <li>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#io-rw">Storage</a> metrics</p>
      </li>
      <li>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#integrations">Cloud integration</a> metrics</p>
        <p>To <a href="#post-conditions">add (POST)</a> or <a href="#put-condition">update (PUT)</a> a metric condition, use your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>, and refer to the <a href="#definitions">definitions</a> to customize your values in the API call.</p>
        <p>If you are adding or updating a cloud integration alert condition:</p>
      </li>
      <li>
        <p>For the <code>event_type</code> field, enter the event type generated by your selected cloud integration service (for example, <code>ComputeSample</code> for the AWS EC2 integration).</p>
      </li>
      <li>
        <p>If you are setting up an alert condition on a cloud integration service that requires a provider value (for example, AWS RDS uses <code>DatastoreSample</code> with a <code>provider</code> value of <code>RdsDbInstance</code> or <code>RdsDbCluster</code>), you will need to add the <code>"integration_provider"</code> field and use the value that is appropriate for the service your alert condition is targeting (for example, <code>"integration_provider":"RdsDbInstance"</code>).</p>
      </li>
      <li>
        <p>For the <code>select_value</code> field, build the metric name by using the following syntax, where <code>provider</code> is a standard prefix string:</p>
        <pre><code>provider.metric.aggregation_type
</code></pre>
        <ul>
          <li><code>metric</code>: Use the metric name as described in the New Relic documentation for your integration.</li>
          <li><code>aggregation_type</code>: Use <code>Sum</code>, <code>Average</code>, <code>Minimum</code>, or <code>Maximum</code>. Refer to the original documentation by the integration's cloud provider to see which statistic aggregations are available for each metric.</li>
        </ul>
        <div data-component="CollapserGroup" data-prop="W10=">
          <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIn1d">
            <div data-prop-text="title">Example</div>
            <p>For example:</p>
            <pre><code>curl -X POST 'https://infra-api.newrelic.com/v2/alerts/conditions' -H 'Api-Key:$API_KEY' -i -H 'Content-Type: application/json' -d
'{
   "data":{
      "type":"infra_metric",
      "name":"Disk Space Condition",
      "enabled":true,
      "where_clause":"(hostname LIKE '\''%cassandra%'\'')",
      "policy_id":policy_id,
      "event_type":"StorageSample",
      "select_value":"diskFreePercent",
      "comparison":"below",
      "critical_threshold":{
         "value":10,
         "duration_minutes":1,
         "time_function":"any"
      },
      "warning_threshold":{
         "value":30,
         "duration_minutes":2,
         "time_function":"any"
      }
   }
}'

</code></pre>&#x3C;Callout variant="important">
            Note the extra single quotes escaping the single quote around the `where_clause`
            &#x3C;/Callout>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaG9zdC1ub3QtcmVwb3J0aW5nLWFwaSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSG9zdCBub3QgcmVwb3J0aW5nIGNvbmRpdGlvbiJ9XQ==">
    <div data-prop-text="title">Host not reporting condition</div>
    <p>A <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples#reporting">host not reporting condition</a> alerts you when a host stops reporting. To <a href="#post-conditions">add (POST)</a> or <a href="#put-condition">update (PUT)</a> a host not reporting condition, use your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>, and refer to the <a href="#definitions">definitions</a> to customize your values in the API call.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJFeGFtcGxlIn1d">
        <div data-prop-text="title">Example</div>
        <p>For example:</p>
        <pre><code>curl -X POST 'https://infra-api.newrelic.com/v2/alerts/conditions' -H 'Api-Key:$API_KEY' -i -H 'Content-Type: application/json' -d
'{
   "data":{
      "type":"infra_host_not_reporting",
      "name":"Cassandra Host Reporting Condition",
      "enabled":true,
      "where_clause":"(hostname LIKE '\''%cassandra%'\'')",
      "policy_id":policy_id,
      "critical_threshold":{
         "duration_minutes":12
      }
   }
}'

</code></pre>&#x3C;Callout variant="important">
        Note the extra single quotes escaping the single quote around the `where_clause`
        &#x3C;/Callout>
      </div>
    </div>
  </div>
</div>
<h2>Definitions</h2>
<p>When formatting your cURL commands, use these values as needed. These are listed in alphabetical order, not the order they appear in your API calls.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Field</strong></p>
      </div>
      <div>
        <p><strong>Definition</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>comparison</code> (<em>enum</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>infra_metric</code>, <code>infra_process_running</code></p>
        <p>The value used to define the threshold; for example, <code>"["above", "below", "equal"]</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>critical_threshold</code> and <code>warning_threshold</code></p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>This object identifies the threshold value before opening a violation.</p>
        <ul>
          <li>
            <p>The <code>critical_threshold</code> is required.</p>
          </li>
          <li>
            <p>The <code>warning_threshold</code> is optional and may only be used with <code>infra_metric</code> conditions.</p>
            <p>The keys of this object depend on the condition type.</p>
            <p><strong>Condition type:</strong> <code>infra_metric</code> format:</p>
            <pre><code>"critical_threshold":{
   "value":&#x3C;number>,
   "duration_minutes":&#x3C;integer>,
   "time_function":"any" or "all"
},
</code></pre>
            <p><strong>Condition type:</strong> <code>infra_process_running</code> format:</p>
            <pre><code>"critical_threshold":{
   "value":&#x3C;integer>,
   "duration_minutes":&#x3C;integer>,
},
</code></pre>
            <p><strong>Condition type:</strong> <code>infra_host_not_reporting</code> format:</p>
            <pre><code>"critical_threshold":{
   "duration_minutes":&#x3C;integer>,
},
</code></pre>
            <div data-component="CollapserGroup" data-prop="W10=">
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidmFsdWUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6eyJ0eXBlIjoibWR4VmFsdWVFeHByZXNzaW9uIiwidmFsdWUiOiI8SW5saW5lQ29kZT52YWx1ZTwvSW5saW5lQ29kZT4iLCJwb3NpdGlvbiI6eyJzdGFydCI6eyJsaW5lIjo0OTIsImNvbHVtbiI6MTEsIm9mZnNldCI6MTgxNjJ9LCJlbmQiOnsibGluZSI6NDkyLCJjb2x1bW4iOjQzLCJvZmZzZXQiOjE4MTk0fX19fV0=">
                <div data-prop-text="title">[object Object]</div>
                <p>The numeric value that must be breached for the condition to open a violation</p>
              </div>
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZHVyYXRpb24tbWludXRlcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPmR1cmF0aW9uX21pbnV0ZXM8L0lubGluZUNvZGU+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6NDk5LCJjb2x1bW4iOjExLCJvZmZzZXQiOjE4Mzk0fSwiZW5kIjp7ImxpbmUiOjQ5OSwiY29sdW1uIjo1NCwib2Zmc2V0IjoxODQzN319fX1d">
                <div data-prop-text="title">[object Object]</div>
                <p>The number of minutes the <code>value</code> must be passed or met for the condition to open a violation</p>
              </div>
              <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidGltZS1mdW5jdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6IjxJbmxpbmVDb2RlPnRpbWVfZnVuY3Rpb248L0lubGluZUNvZGU+IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6NTA2LCJjb2x1bW4iOjExLCJvZmZzZXQiOjE4NjUwfSwiZW5kIjp7ImxpbmUiOjUwNiwiY29sdW1uIjo1MSwib2Zmc2V0IjoxODY5MH19fX1d">
                <div data-prop-text="title">[object Object]</div>
                <p>Indicates if the condition needs to be sustained for a certain period of time to create a violation, or if it only needs to break the threshold once within a certain period of time. If you're setting up a <code>for at least x minutes</code> threshold, use <code>all</code>; for an <code>at least once in x minutes</code> threshold, use <code>any</code>.</p>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>enabled</code> (<em>boolean</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>Whether the condition is turned on or off; <code>true</code> or <code>false</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>event_type</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>infra_metric</code></p>
        <p>The metric event; for example, system metrics, process metrics, storage metrics, or network metrics. This automatically populates for infrastructure integrations; for example, <code>StorageSample</code> or <code>SystemSample</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>filter</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>If the condition was made in the UI, <code>filter</code> appears instead of <code>where_clause</code>; for example:</p>
        <pre><code>{and: [{is: {ec2InstanceType: "m3.medium"}}]}

</code></pre>**Recommendation:** Use `where_clause` when creating a new condition.
      </div>
    </div>
    <div>
      <div>
        <p><code>id</code> (<em>integer</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>The condition ID located in the URL.</p>
        <ul>
          <li>GET: This value appears in the GET response.</li>
          <li>PUT: Include this value in the <code>DATA</code> section.</li>
          <li>POST: Do not include this in the <code>DATA</code> section.</li>
          <li>DELETE: Include this value in the <code>-X DELETE</code> call.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>integration_provider</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>infra_metric</code></p>
        <p>For alerts on integrations, use <code>integration_provider</code> instead of <code>event_type</code>. To see valid values: From the New Relic documentation for your cloud service, check the <strong>Find and use data</strong> section.</p>
        <p>Example: In the <a href="/docs/integrations/amazon-integrations/aws-integrations-list/aws-rds-monitoring-integration">AWS RDS monitoring integration</a> documentation, you can see that the <code>DatastoreSample</code> event type can be used with an <code>integration_provider</code> value of either <code>RdsDbInstance</code> for DB instances, or <code>RdsDbCluster</code> for Aurora DB clusters.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>name</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>The infrastructure alerting condition's name; for example:</p>
        <pre><code>"[test] process running"

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>policy_id</code> (<em>integer</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>The unique ID for the alert policy's account ID associated with the condition; for example, <code>1234567890</code>. This is not the policy's global ID.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>process_where_clause</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>infra_process_running</code></p>
        <p>Any filters applied to processes, specifically in process running alert conditions. This parameter is mandatory for those types of alert conditions. For example:</p>
        <pre><code>"commandName = '\''java'\''"

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>runbook_url</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>all</code></p>
        <p>The <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-runbook">runbook</a> URL to display in notifications.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>select_value</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> <code>infra_metric</code></p>
        <p>The attribute name to identify the metric being targeted; for example, <code>"cpuPercent"</code>, <code>"diskFreePercent"</code>, <code>"memoryResidentSizeBytes", or "memoryFreeBytes/memoryTotalBytes*100"</code>. This automatically populates for Infrastructure Integrations; for example, <code>diskFreePercent</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>type</code> (<em>enum</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>The type of infrastructure alert condition: <code>"infra_process_running"</code>, <code>"infra_metric"</code>, or <code>"infra_host_not_reporting"</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>violation_close_timer</code> (<em>integer</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>The <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information#violation-time-limit">Violation time limit</a> setting, expressed as hours. Possible values are <code>0</code>, <code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>,<code>12</code>, <code>24</code>, <code>48</code>, <code>72</code>. This determines how much time will pass before a violation is automatically closed. Setting the time limit to <code>0</code> prevents a violation from being force-closed.</p>
        <p>For new conditions, if a value is not provided, the following default values are used:</p>
        <ul>
          <li>
            <p>Host Not Responding (HNR) conditions: <code>0</code> (disabled)</p>
          </li>
          <li>
            <p>All other conditions: <code>24</code></p>
            <p>When updating existing conditions, if a value is provided, it overrides the existing value, but does not affect already opened violations.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>where_clause</code> (<em>string</em>)</p>
      </div>
      <div>
        <p><strong>Condition type:</strong> all</p>
        <p>If applicable, this identifies any <a href="/docs/infrastructure/new-relic-infrastructure/filter-group/filter-sets-organize-your-infrastructure-hosts">infrastructure host filters</a> used; for example:</p>
        <pre><code>"(`hostname` LIKE '\''%cassandra%'\'')",

</code></pre>
      </div>
    </div>
  </div>
</div>
