
<p>This document explains what <strong>non-web transactions</strong> are in APM, and how you can instrument background tasks and other arbitrary activity to be reported as non-web transactions.</p>
<h2>What are non-web transactions? [#define]</h2>
<p>The two main New Relic APM <a href="/docs/apm/transactions/intro-transactions/transactions-new-relic-apm">transaction</a> categories are <strong>web</strong> and <strong>non-web</strong>.</p>
<ul>
  <li><strong>Web transactions</strong> are transactions we detect as being initiated by a web request; they are the most common type of transaction reported by APM.</li>
  <li><strong>Non-web transactions</strong> are transactions that are not web transactions; we do not detect they were initiated by a web request. This includes processes and jobs that do not handle web requests, such as message processing and background tasks.</li>
</ul>
<p>For example, you might schedule something to run periodically on your server to do database work, send emails, etc. The source is not a web request but something on your server.</p>
<p>Some non-web transactions from supported frameworks or services are detected automatically by New Relic; others may be created using custom instrumentation. We intentionally separate your web and non-web transactions in the UI.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Non-web vs. web transactions</p>
      </div>
      <div>
        <p>Comments</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Less directly important</p>
      </div>
      <div>
        <p>Non-web transactions are often background processes and tasks, and they are less directly important to your application's users when compared to web transactions.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Long running</p>
      </div>
      <div>
        <p>Non-web transactions are often long-running processes. Separating them from web transactions prevents those results from skewing your customer-facing response times.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Omitted from Apdex score</p>
      </div>
      <div>
        <p>Combining your non-web transactions with your web transactions would hurt your <a href="/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction">Apdex score</a> (a measure of satisfaction with load times). This is why Apdex data for non-web transactions does not appear in the UI.</p>
      </div>
    </div>
  </div>
</div>
<h2>Create non-web transactions [#create]</h2>
<p>To create new non-web transactions, follow the procedures for your APM language agent.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYy1zZGsifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkMgU0RLIn1d">
    <div data-prop-text="title">C SDK</div>
    <p>Follow the procedures for <a href="/docs/agents/c-sdk/instrumentation/instrument-your-app-c-sdk#instrument-c-txn">instrumenting a non-web transaction</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ28ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdvIn1d">
    <div data-prop-text="title">Go</div>
    <p>Follow the procedures for <a href="/docs/agents/go-agent/get-started/instrument-go-transactions#go-txn">instrumenting a non-web transaction</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiamF2YSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSmF2YSJ9XQ==">
    <div data-prop-text="title">Java</div>
    <p>Follow the procedures for <a href="/docs/java/monitoring-java-background-processes">instrumenting a transaction</a> (instrumenting a transaction without web request parameters creates a non-web transaction).</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibmV0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiIuTkVUIn1d">
    <div data-prop-text="title">.NET</div>
    <p>By default, the APM .NET agent instruments IIS ASP workers. To instrument other (non-IIS) .NET applications, such as standalone (WCF) services, console apps, and other Windows services, see <a href="/docs/agents/net-agent/features/instrumenting-custom-applications">Instrumenting custom applications</a> and <a href="/docs/agents/net-agent/features/instrumenting-wcf-applications">Instrumenting WCF applications</a>.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
      <p>For IIS applications, you cannot change web transactions to non-web transactions.</p>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibm9kZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTm9kZS5qcyJ9XQ==">
    <div data-prop-text="title">Node.js</div>
    <p>Use <a href="https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/nodejs-custom-instrumentation#background-txn"><code>startBackgroundTransaction()</code></a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicGhwIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJQSFAifV0=">
    <div data-prop-text="title">PHP</div>
    <p>To mark a transaction as non-web: use <a href="https://docs.newrelic.com/docs/agents/php-agent/php-agent-api/newrelic_background_job"><code>newrelic_background_job</code></a> and set the flag to <code>true</code>.</p>
    <p>The PHP agent reports all command-line run scripts as non-web transactions.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicHl0aG9uIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJQeXRob24ifV0=">
    <div data-prop-text="title">Python</div>
    <p>See <a href="/docs/agents/python-agent/supported-features/python-background-tasks">Python agent non-web transactions</a>.</p>
    <p>The Python agent also supports non-web transaction reporting from <a href="/docs/agents/python-agent/back-end-services/python-agent-celery">Celery</a> and Gearman.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVieSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUnVieSJ9XQ==">
    <div data-prop-text="title">Ruby</div>
    <p>See <a href="/docs/agents/ruby-agent/background-jobs/monitor-ruby-background-processes">Ruby agent non-web transactions</a>.</p>
  </div>
</div>
<h2>View non-web transactions [#ui]</h2>
<p>To view non-web transaction data in the New Relic UI, go to the main chart on the following pages, and then select the <strong>Non-web</strong> option in the dropdown:</p>
<ul>
  <li>Entity explorer: Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Entity explorer > (select an app) > Summary</strong>.</li>
  <li>APM: Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > APM > (select an app) > Summary</strong>.</li>
  <li>Transactions: Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > APM > (select an app) > Monitor > Transactions</strong>.</li>
</ul>
