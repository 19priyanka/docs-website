
<p>You may want to temporarily disable an APM agent for the purposes of testing or troubleshooting. This document explains procedures for temporarily turning off the APM agent.</p>
<p>Related procedures:</p>
<ul>
  <li>To permanently disable APM, <a href="/docs/agents/manage-apm-agents/installation/uninstall-agent">uninstall the agent</a>.</li>
  <li>To configure an agent to monitor some things but not others, use <a href="/docs/agents/manage-apm-agents/agent-data/custom-instrumentation">custom instrumentation</a>.</li>
</ul>
<h2>Disable the APM agent [#agents]</h2>
<p>Select your agent type for instructions:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYy1zZGsifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkMgU0RLIn1d">
    <div data-prop-text="title">C SDK</div>
    <p>The C SDK cannot be turned on or off directly. However, you can write your code for the SDK so that a quick recompile and deploy can enable or disable your instrumentation. Follow standard procedures to <a href="/docs/agents/c-sdk/install-configure/uninstall-remove-c-sdk">disable or uninstall the C SDK</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ28ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdvIn1d">
    <div data-prop-text="title">Go</div>
    <p>There are two main ways to disable the Go agent:</p>
    <ul>
      <li>
        <p>Remove the import of the <code>github.com/newrelic/go-agent</code> package from your application, and remove or comment out any calls to the <code>newrelic</code> namespace. Then, recompile and restart your app.</p>
      </li>
      <li>
        <p>Use the <a href="/docs/agents/go-agent/configuration/go-agent-configuration#enabled"><code>enabled</code></a> configuration setting. Then, recompile and restart your app. (This will <strong>not</strong> reduce overhead because the instrumentation is still running; it will only prevent the sending of data to the <a href="/docs/using-new-relic/welcome-new-relic/getting-started/glossary#collector">New Relic collector</a>.)</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiamF2YSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSmF2YSJ9XQ==">
    <div data-prop-text="title">Java</div>
    <p>There are three main ways to disable the Java agent:</p>
    <ul>
      <li>
        <p>Set <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#cfg-agent_enabled"><code>agent_enabled</code></a> to <code>false</code>, then restart the JVM.</p>
      </li>
      <li>
        <p>Use the JVM command line flag:</p>
        <pre><code>-Dnewrelic.config.agent_enabled=false
</code></pre>
        <p>Then restart the JVM.</p>
      </li>
      <li>
        <p>Remove the <code>newrelic.jar</code> or <code>newrelic.yml</code> file, then restart the JVM.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibmV0In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiIuTkVUIn1d">
    <div data-prop-text="title">.NET</div>
    <p>The method to disable the agent depends on if you are using Framework or Core:</p>
    <ul>
      <li>
        <p>.NET Framework: Set <a href="/docs/agents/net-agent/configuration/net-agent-configuration#config-agentEnabled"><code>agentEnabled</code></a> to <code>false</code> in the global <code>newrelic.config</code> file, found in <code>C:\ProgramData\New Relic\.NET Agent\</code>. If the application is IIS-hosted, restart IIS. If it's self-hosted (non-IIS), restart the application.</p>
      </li>
      <li>
        <p>.NET Core: Set <a href="/docs/agents/net-agent/configuration/net-agent-configuration#config-agentEnabled"><code>agentEnabled</code></a> to <code>false</code> in the <code>newrelic.config</code> file found in the Core agentâ€™s installation directory (for Windows alongside <code>NewRelic.Profiler.dll</code> and for Linux alongside <code>NewRelic.Profiler.so</code>). If you use the ASP.NET Core Module, reset IIS. Otherwise, restart your Core application.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibm9kZSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTm9kZS5qcyJ9XQ==">
    <div data-prop-text="title">Node.js</div>
    <p>There are two main ways to disable the Node.js agent:</p>
    <ul>
      <li>
        <p>Set <a href="/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#enabled"><code>agent_enabled</code></a> to <code>false</code> in your agent config file, then restart the app server.</p>
      </li>
      <li>
        <p>Set the <a href="/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#enabled"><code>NEW_RELIC_ENABLED</code></a> environment variable to <code>false</code>.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicGhwIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJQSFAifV0=">
    <div data-prop-text="title">PHP</div>
    <p>To disable the PHP agent, set the <a href="/docs/agents/php-agent/configuration/php-agent-configuration#inivar-enabled"><code>enabled</code></a> config setting to <code>false</code>, then restart the web server or PHP.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
      <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicHl0aG9uIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJQeXRob24ifV0=">
    <div data-prop-text="title">Python</div>
    <p>There are three main ways to disable the Python agent, depending on your preference and setup:</p>
    <ul>
      <li>
        <p><a href="/docs/agents/python-agent/installation/standard-python-agent-install#install">Standard install</a>: Use the <a href="/docs/agents/python-agent/configuration/python-agent-configuration#monitor_mode"><code>monitor_mode</code></a> configuration setting. This can be done by editing the config file or by using an <a href="/docs/agents/python-agent/configuration/python-agent-configuration#environment-variables">environment variable</a>.</p>
      </li>
      <li>
        <p>Standard install with <code>newrelic-admin</code> script: Remove reference to that script in your application.</p>
      </li>
      <li>
        <p><a href="/docs/agents/python-agent/installation-configuration/python-agent-integration#manual-integration">Manual instrumentation</a>: Remove the initialization script from your application.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicnVieSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUnVieSJ9XQ==">
    <div data-prop-text="title">Ruby</div>
    <p>There are several ways to disable the Ruby agent, depending on your preference and setup.</p>
    <p>These methods will remove most instrumentation but there will still be a small amount of activity and overhead:</p>
    <ul>
      <li>
        <p>Use the <a href="/docs/agents/ruby-agent/configuration/ruby-agent-configuration#agent_enabled"><code>agent_enabled</code></a> configuration setting. This can be done in the configuration file or in the per-environment stanzas. Restart your app server afterward.</p>
      </li>
      <li>
        <p>Do the same via an <a href="/docs/agents/ruby-agent/configuration/ruby-agent-configuration#Options">environment variable</a>, then restart the app server.</p>
        <p>The following methods will remove all instrumentation and overhead:</p>
      </li>
      <li>
        <p>Remove <code>newrelic_rpm</code> from the Gemfile and bundle install.</p>
      </li>
      <li>
        <p>Set the following in the Gemfile and bundle install:</p>
        <pre><code>gem 'newrelic_rpm', :require => false
</code></pre>
        <p>This option ensures the gem is installed if it's required somewhere in the app, but doesn't install it when bundling.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>After you disable the agent, it may take several minutes for data to stop showing up.</p>
        </div>
      </li>
    </ul>
  </div>
</div>
