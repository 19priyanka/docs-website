
<p>In APM, <a href="/docs/apm/transactions/transaction-traces/transaction-traces">transaction traces</a> record in-depth details about your application's transactions and database calls. You can edit the default settings for transaction traces.</p>
<h2>Configure transaction trace settings via agent [#agent-trace-config]</h2>
<p>You can customize your transaction trace settings via New Relic agent configuration files and other "local" configuration methods such as environment variables. For more information about transaction trace configuration options, see the specific New Relic language agent's documentation:</p>
<ul>
  <li><a href="/docs/agents/c-sdk/instrumentation/instrument-your-app-c-sdk#instrument-c-txn">C SDK</a></li>
  <li><a href="/docs/agents/go-agent/instrumentation/go-agent-configuration#transaction-tracer">Go</a></li>
  <li><a href="https://docs.newrelic.com/docs/agents/java-agent/configuration/java-agent-configuration-config-file#h2-transaction-tracer">Java</a></li>
  <li><a href="/docs/agents/net-agent/installation-configuration/net-agent-configuration#transaction_tracer">.NET</a></li>
  <li><a href="/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#tx_tracer_config">Node</a></li>
  <li><a href="/docs/agents/php-agent/configuration/php-agent-configuration#inivar-tt-settings">PHP</a></li>
  <li><a href="/docs/agents/python-agent/installation-configuration/python-agent-configuration#txn-tracer-settings">Python</a></li>
  <li><a href="/docs/agents/ruby-agent/installation-configuration/ruby-agent-configuration#transaction_tracer">Ruby</a></li>
</ul>
<h2>Configure transaction traces using server-side configuration [#fields]</h2>
<p>The ability to configure transaction traces using <a href="/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration">server-side configuration</a> depends on the <a href="#agent-trace-config">New Relic agent</a>. If server-side configuration is not supported, the transaction trace settings will be visible in the UI but not editable.</p>
<p>If server-side configuration settings are available for your New Relic agent, you can see them at the following: <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > APM > (select an app) > Settings > Application > Server-side agent configuration</strong>.</p>
<p>Transaction trace settings available using server-side configuration will differ depending on the <a href="#agent-trace-config">New Relic agent</a> you use. The UI includes descriptions of each. Settings in the UI may include:</p>
<ul>
  <li>Transaction tracing and threshold</li>
  <li>Record SQL, including recording level and input fields</li>
  <li>Log SQL and stack trace threshold</li>
  <li>SQL query plans and threshold</li>
  <li>Error collection, including HTTP code and error class</li>
  <li>Slow query tracing</li>
  <li>Thread profiler</li>
  <li>Cross application tracing</li>
</ul>
<h2>Configure traces for specific (key) transactions [#key-txns]</h2>
<p>If you want to monitor or alert on a transaction differently than other transactions, make it a <a href="/docs/apm/transactions/key-transactions/key-transactions-tracking-important-transactions-or-events">key transaction</a>. This is useful, for example, when you want to <a href="/docs/apm/new-relic-apm/apdex/change-your-apdex-settings#key-transaction">set a transaction-specific Apdex</a> that is different from your general <a href="/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction#what-is">Apdex T threshold</a>.</p>
<p>Changing a key transaction's Apdex changes the likelihood that it creates a transaction trace. For example:</p>
<ul>
  <li>If you want to make it more likely a key transaction would generate transaction traces, <strong>lower</strong> its Apdex T value.</li>
  <li>If you want to make a key transaction less likely to be traced, <strong>raise</strong> its Apdex T value.</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you have the <a href="#fields">transaction trace threshold</a> set to a number of seconds, and not to the default Apdex setting, the number-of-seconds threshold will act as the threshold for <strong>all</strong> transactions, even for key transactions that have custom Apdex settings.</p>
</div>
<h2>Create custom transactions [#custom-txns]</h2>
<p>You can create custom transactions for app activity that isn't being automatically captured as a transaction by the New Relic agent. For more information, see <a href="/docs/agents/manage-apm-agents/agent-data/custom-instrumentation">Custom instrumentation</a>.</p>
<h2>Collect HTTP request attributes, parameters [#config-attributes]</h2>
<p>For <a href="/docs/apm/transactions/transaction-traces/security-options-transaction-traces">data security reasons</a>, transaction traces do not collect potentially sensitive HTTP request attributes, sometimes called <strong>parameters</strong>. Traces do collect some basic HTTP request attributes, which New Relic calls <strong>agent attributes</strong>. To edit attribute collection settings, see the specific New Relic agent:</p>
<ul>
  <li><a href="/docs/agents/c-sdk/instrumentation/use-default-or-custom-attributes-c-sdk">C SDK</a></li>
  <li><a href="/docs/agents/go-agent/instrumentation/go-agent-attributes">Go</a></li>
  <li><a href="/docs/agents/java-agent/attributes/java-agent-attributes">Java</a></li>
  <li><a href="/docs/agents/net-agent/attributes/net-agent-attributes">.NET</a></li>
  <li><a href="/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#params">Node.js</a> (does not allow HTTP attribute configuration)</li>
  <li><a href="/docs/agents/php-agent/attributes/php-agent-attributes">PHP</a></li>
  <li><a href="/docs/agents/python-agent/attributes/python-agent-attributes">Python</a></li>
  <li><a href="/docs/agents/ruby-agent/attributes/ruby-agent-attributes">Ruby</a></li>
</ul>
<p>For more information, see <a href="/docs/agents/manage-apm-agents/agent-data/collect-custom-attributes">Collect custom attributes</a>.</p>
<h2>Delete a transaction trace [#delete-trace]</h2>
<p>When you delete a transaction trace, it is deleted permanently.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGVsZXRlLXRyYWNlIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEZWxldGUgYSBzaW5nbGUgdHJhbnNhY3Rpb24gdHJhY2UifV0=">
    <div data-prop-text="title">Delete a single transaction trace</div>
    <p>To delete a transaction trace record permanently:</p>
    <ol>
      <li>Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > APM > (select an app) > Monitor > Transactions</strong>.</li>
      <li>Under <strong>Transaction traces</strong> click on the trace you want to delete.</li>
      <li>On the details page, select <strong>Delete this trace</strong>.</li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGVsZXRlLWFsbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRGVsZXRlIGFsbCB0cmFuc2FjdGlvbiB0cmFjZXMifV0=">
    <div data-prop-text="title">Delete all transaction traces</div>
    <p>To delete <strong>all</strong> traces for the selected app permanently:</p>
    <ol>
      <li>
        <p>Go to <strong><a href="https://one.newrelic.com">one.newrelic.com</a> > APM > (select an app) > Monitor > Transactions</strong>.</p>
      </li>
      <li>
        <p>Click <strong>Delete all traces</strong>.</p>
        <p>It may take fifteen minutes or more for all transaction trace records to disappear from the UI.</p>
        <p>To delete all traces for your account, contact us at <a href="https://support.newrelic.com">support.newrelic.com</a>.</p>
        <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
          <p>If you are doing general record cleanup, you may also want to delete <a href="/docs/apm/applications-menu/monitoring/databases-slow-queries-page">databases and slow query traces</a> or <a href="/docs/apm/applications-menu/events/viewing-apm-errors-error-traces">error traces</a>. This will remove potentially sensitive data while retaining your other application data (such as Apdex, deployment information, etc.).</p>
        </div>
      </li>
    </ol>
  </div>
</div>
