
<p>APM <a href="/docs/apm/transactions/transaction-traces/transaction-traces">transaction traces</a> collect detailed data about your application's <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction">transactions</a>. Because they collect detailed data from your app, transaction traces can be a potential security concern. This document explains how to configure transaction traces for your data security needs.</p>
<h2>Database queries [#database]</h2>
<p>The database query types collected by transaction traces vary by New Relic language agent. Query collection is a potential security and/or privacy concern because queries can contain sensitive values.</p>
<p>You can customize database query collection with three different security settings:</p>
<ul>
  <li><strong>Obfuscated</strong>: This is the default value. This setting strips string literals and numeric sequences from your queries and replaces them with the <code>?</code> character. For example: the query <code>select * from table where ssn='123-45-6789'</code> would become <code>select * from table where ssn=?</code>.</li>
  <li><strong>Off</strong>: Query collection is turned off entirely.</li>
  <li><strong>Raw</strong>: If you are confident that full query data collection will not impact your data security or your users' privacy, you can change the setting to <code>Raw</code>, which will record all query values.</li>
</ul>
<p>You can edit database query collection with the <code>Record SQL</code> setting, explained in <a href="/docs/apm/transactions/transaction-traces/configure-transaction-traces">Configure transaction traces</a>.</p>
<h2>HTTP request attributes and parameters [#http-params]</h2>
<p>The collection of HTTP request data can expose potentially sensitive data. New Relic calls the key/value data collected during an HTTP request <strong>attributes</strong>. By default, the collection of attributes is limited to only basic HTTP information that is not a source of sensitive data (for example, response code and host); these are part of the group of basic attributes that New Relic refers to as <a href="/docs/agents/manage-apm-agents/agent-data/agent-attributes"><strong>agent attributes</strong></a>.</p>
<p>For data security reasons, the collection of other attributes, including user-specific parameters, is disabled by default. For information on how to enable/disable the collection of specific HTTP attributes and custom attributes, see <a href="/docs/apm/transactions/transaction-traces/configure-transaction-traces#config-attributes">Configure transaction traces</a>.</p>
<h2>High security mode [#high-security]</h2>
<p>New Relic's default settings provide a high level of security. To force the most secure settings for all the applications in your account, you can use the <strong>high security mode</strong>. This mode ensures that, no matter how your admins and users configure your account, the most secure settings are forced and cannot be overridden. For more information, see <a href="/docs/agents/manage-apm-agents/configuration/high-security-mode">High security mode</a>.</p>
