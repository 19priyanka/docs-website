
<h2>Problem</h2>
<p>You have used the <a href="/docs/apm/distributed-tracing/trace-api/introduction-new-relic-trace-api">Trace API</a> to report data but either don't see your data in New Relic or you have questions about it.</p>
<h2>Solution</h2>
<p>Here are some ideas for troubleshooting Trace API-reported data:</p>
<ul>
  <li>
    <p>To verify span data has been reported, run a NRQL query in the <a href="https://one.newrelic.com/launcher/nr1-core.home#pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5zZWFyY2gtcm9vdCJ9&#x26;overlay=eyJvdmVybGF5SWQiOiJ3YW5kYS1kYXRhLWV4cGxvcmF0aW9uLm5ycWwtZWRpdG9yIiwibmVyZGxldElkIjoid2FuZGEtZGF0YS1leHBsb3JhdGlvbi5kYXRhLWV4cGxvcmVyIiwiaW5pdGlhbEFjdGl2ZUludGVyZmFjZSI6Im5ycWxFZGl0b3IiLCJpbml0aWFsQWNjb3VudElkIjoxfQ==">query builder</a> for the span just uploaded. You must be in the same New Relic account used to report the trace data (same <a href="/docs/accounts/install-new-relic/account-setup/license-key">license key</a>). Example query:</p>
    <pre><code>FROM Span SELECT * WHERE trace.id = '123456'
</code></pre>
  </li>
  <li>
    <p>If a call generates a HTTP response code, look up the <a href="/docs/understand-dependencies/distributed-tracing/trace-api/trace-api-general-requirements-limits#status-codes">response code meaning</a>.</p>
  </li>
  <li>
    <p>If rate-limiting issues occur, we will generate an <code>NrIntegrationError</code> event. Here's <a href="https://one.newrelic.com/launcher/nr1-core.home#pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5zZWFyY2gtcm9vdCJ9&#x26;overlay=eyJvdmVybGF5SWQiOiJ3YW5kYS1kYXRhLWV4cGxvcmF0aW9uLm5ycWwtZWRpdG9yIiwibmVyZGxldElkIjoid2FuZGEtZGF0YS1leHBsb3JhdGlvbi5kYXRhLWV4cGxvcmVyIiwiaW5pdGlhbEFjdGl2ZUludGVyZmFjZSI6Im5ycWxFZGl0b3IiLCJpbml0aWFsTGltaXQiOjEwLCJpbml0aWFsVGltZVdpbmRvdyI6eyJzdGFydCI6bnVsbCwiZW5kIjoibm93Iiwib2Zmc2V0IjoxODAwMDAwfSwiaW5pdGlhbFRpbWVXaW5kb3dPdmVycmlkZSI6bnVsbCwiaW5pdGlhbEZpbHRlcnMiOiIiLCJpbml0aWFsUGxvdEFnZ3JlZ2F0ZSI6eyJwbG90IjpudWxsfSwiaW5pdGlhbEFjY291bnRJZCI6MSwiaW5pdGlhbEZhY2V0IjpudWxsLCJpbml0aWFsQ29tcGFyZVdpdGgiOm51bGwsImluaXRpYWxOcnFsVmFsdWUiOiJGUk9NIE5ySW50ZWdyYXRpb25FcnJvciBTRUxFQ1QgKiBXSEVSRSBuZXdSZWxpY0ZlYXR1cmUgPSAnRGlzdHJpYnV0ZWQgVHJhY2luZyciLCJpbml0aWFsQ2hhcnRTZXR0aW5ncyI6eyJjaGFydFR5cGUiOiJDSEFSVF9UQUJMRSJ9fQ==">a link to run a NRQL query for those events in New Relic</a>.</p>
    <ul>
      <li>If you want to correlate your <code>NrIntegrationErrors</code>, you can use the <code>requestId</code> provided by each Trace API request.</li>
    </ul>
  </li>
  <li>
    <p>If your spans have timestamps, be sure they meet the following guidelines:</p>
    <ul>
      <li>Span timestamps must have occurred within last 20 minutes.</li>
      <li><code>newrelic</code>-format timestamps must be in <strong>milliseconds</strong>. You can get the current time in milliseconds at <a href="https://currentmillis.com">currentmillis.com</a>.</li>
      <li><code>zipkin</code>-format timestamps must be in <strong>microseconds</strong>.</li>
      <li>Timestamps should be in UTC.</li>
    </ul>
  </li>
  <li>
    <p>Calls to the endpoint are not idempotent. This means if you send multiple traces with the same <code>trace.id</code>, it will result in fragmented traces in the UI due to ambiguous trace parent-child data.</p>
  </li>
  <li>
    <p>Double check that your payload is valid. For <code>newrelic</code>-format traces, one issue may be that key-value pairs haven't been placed in the <code>attributes</code> block.</p>
  </li>
  <li>
    <p>Confirm that your trace has a root span (a null <code>parent.id</code> on one span). Example query:</p>
    <pre><code>FROM Span SELECT * WHERE trace.id = '123456' AND parent.id IS NULL
</code></pre>
  </li>
</ul>
<p>For more on how Trace API data transmission is validated, see <a href="/docs/apm/distributed-tracing/trace-api/trace-api-endpoint-requirements-limits#response-validation">Validation</a>.</p>
