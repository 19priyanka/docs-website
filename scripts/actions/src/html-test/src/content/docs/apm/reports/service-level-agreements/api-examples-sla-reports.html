
<p>New Relic stores SLA data forever for <a href="http://newrelic.com/application-monitoring/pricing">eligible accounts</a>, so you can use the <a href="/docs/apm/apis/requirements/new-relic-rest-api-v2-getting-started">New Relic REST API</a> to generate service level agreement reports over any time period. For example, you can create SLA reports going back more than 12 days, weeks, or months.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Access to this feature depends on your <a href="https://newrelic.com/application-monitoring/features/edition">subscription level</a>.</p>
</div>
<h2>Browser metrics for SLAs [#browser-metrics]</h2>
<p>Browser metrics for the <strong>End user</strong> <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#tier">tier</a> are available only if you have <a href="/docs/browser/new-relic-browser/getting-started/browser-settings">enabled New Relic Browser</a>.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Browser (End user tier)</strong></p>
      </div>
      <div>
        <p><strong>SLA metric name:value (and formula)</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Page Views thousands</p>
      </div>
      <div>
        <p>EndUser : call_count</p>
      </div>
    </div>
    <div>
      <div>
        <p>Load time sec</p>
      </div>
      <div>
        <p>EndUser : average_response_time</p>
      </div>
    </div>
    <div>
      <div>
        <p>Apdex</p>
      </div>
      <div>
        <p>EndUser/Apdex : score</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Satisfied</p>
      </div>
      <div>
        <p>EndUser/Apdex : s divided by EndUser : call_count</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Tolerating</p>
      </div>
      <div>
        <p>EndUser/Apdex : t divided by Enduser : call_count</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Frustrated</p>
      </div>
      <div>
        <p>EndUser/Apdex : f divided by Enduser : call_count</p>
      </div>
    </div>
  </div>
</div>
<h2>App server metrics for SLAs [#app-metrics]</h2>
<p>Here are the SLA metrics for application servers.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>App server</strong></p>
      </div>
      <div>
        <p><strong>SLA metric name:value (and formula)</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Requests millions</p>
      </div>
      <div>
        <p>HttpDispatcher : call_count (scaled appropriately)</p>
      </div>
    </div>
    <div>
      <div>
        <p>Resp. time ms</p>
      </div>
      <div>
        <p>HttpDispatcher : average_response_time (multiplied by 1000)</p>
      </div>
    </div>
    <div>
      <div>
        <p>Apdex</p>
      </div>
      <div>
        <p>Apdex : score</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Satisfied</p>
      </div>
      <div>
        <p>Apdex : s divided by Apdex : count</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Tolerating</p>
      </div>
      <div>
        <p>Apdex : t divided by Apdex : count</p>
      </div>
    </div>
    <div>
      <div>
        <p>% Frustrated</p>
      </div>
      <div>
        <p>Apdex : f divided by Apdex : count</p>
      </div>
    </div>
  </div>
</div>
<h2>Tips for collecting metrics [#tips]</h2>
<p>Here are some tips for planning which metrics to collect.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>SLA tips</strong></p>
      </div>
      <div>
        <p><strong>Comments</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Requirements</p>
      </div>
      <div>
        <p>When using the cURL command examples, be sure to replace the placeholder text with your <a href="/docs/accounts-partnerships/accounts/account-setup/account-id">account ID</a>, an <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>, and the <a href="/docs/apm/apis/requirements/finding-product-id">application ID</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Time ranges</p>
      </div>
      <div>
        <p>You are not limited to standard day, week, or month time ranges. For example, you can <a href="/docs/apm/apis/requirements/extracting-metric-data">extract metric data</a> for a "holiday weekend" from 12/23 to 12/26 or "the 20 minutes after our site had problems" or whatever other period interests you.</p>
      </div>
    </div>
    <div>
      <div>
        <p>UTC XML time format</p>
      </div>
      <div>
        <p>You must specify the time in UTC XML format, so be sure to adjust for your <a href="/docs/apm/apis/requirements/specifying-time-range-api-v2">time zone compared to UTC</a>. For example, New Relic starts at 16:00:00 on the day before the selected data, since New Relic headquarters are in UTC-8.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Summary reports</p>
      </div>
      <div>
        <p>When requesting metrics to use with <a href="/docs/apm/apis/requirements/calculating-average-metric-values-summarize">summary reports</a>, include the query string parameter <code>summarize=true</code> (v2) or <code>summary=1</code> (v1) as shown in the examples.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Scaled statistics</p>
      </div>
      <div>
        <p>Your report has some statistics that are scaled in the <a href="/docs/apm/reports/service-level-agreements/sla-reports">SLA reports in New Relic's user interface</a>. New Relic changes the scale of page views in your report to show small numbers. Depending on your traffic, typically it might be displayed in thousands, millions, or billions.</p>
        <p><strong>Recommendation:</strong> To avoid a string of zeroes, divide this number appropriately for your own purposes.</p>
      </div>
    </div>
    <div>
      <div>
        <p>End user statistics</p>
      </div>
      <div>
        <p>End user statistics will reflect only the calls in which New Relic Browser data was gathered. For example, end user stats may not appear in situations such as:</p>
        <ul>
          <li>
            <p>Browsers types</p>
          </li>
          <li>
            <p>Clients (they might have disabled the JavaScript agent, or blocked traffic to New Relic sites for JavaScript code's location</p>
          </li>
          <li>
            <p>Transactions not in one of those categories, in case the page load did not complete for any reason</p>
            <p>This is why there are fewer (sometimes many fewer) page views in the <strong>End User</strong> (Browser) data section than in the <strong>App server</strong> data section.</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h2>Examples</h2>
<p>The following sections contain code examples to acquire the data for values described above for the Daily (24hr) SLA statistics in the default GMT/UTC time zone. Adjust the <code>from=</code> and <code>to=</code> for your <a href="https://docs.newrelic.com/docs/apm/apis/requirements/specifying-time-range-api-v2">time range</a> as desired.</p>
<p>There are syntactical differences between New Relic's REST API v2 and v1. The examples show how to use each.</p>
<h2>REST API v2 commands [#examples_v2]</h2>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnJvd3Nlci12MiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQnJvd3NlciBsb2FkIHRpbWUgYW5kIHBhZ2UgdmlldyBjb3VudCAodjIpIn1d">
    <div data-prop-text="title">Browser load time and page view count (v2)</div>
    <p>To obtain the Browser (EndUser/RUM) load time and page view count for v2, from the command line, type:</p>
    <pre><code>curl -X GET "https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml"\
    -H "Api-Key:$API_KEY" -i  \
    -d 'names[]=EndUser&#x26;values[]=call_count&#x26;values[]=average_response_time&#x26;from=2014-06-09T00:00:00+00:00&#x26;to=2014-06-09T23:00:00+00:00&#x26;summarize=true'

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.http_get("https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml?names[]=EndUser&#x26;values[]=call_count&#x26;values[]=average_response_time&#x26;from=2012-01-01T00:00:00+00:00&#x26;to=2012-01-08T00:00:00+00:00&#x26;summarize=true") do |curl|
  curl.headers["api-key"] = "$API_KEY"
  curl.header_in_body=true
end
puts response.body_str

</code></pre>In Ruby:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXBwLXYyIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJBcHAgcmVzcG9uc2UgdGltZSBhbmQgcmVxdWVzdCBjb3VudCAodjIpIn1d">
    <div data-prop-text="title">App response time and request count (v2)</div>
    <p>To obtain the Application response time and request count for v2, from the command line, type:</p>
    <pre><code>curl -X GET "https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml" \
     -H "Api-Key:$API_KEY" -i \
     -d 'names[]=HttpDispatcher&#x26;values[]=average_response_time&#x26;values[]=call_count&#x26;from=2014-06-09T00:00:00+00:00&#x26;to=2014-06-09T23:00:00+00:00&#x26;summarize=true'

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.http_get("https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml?names[]=HttpDispatcher&#x26;values[]=average_response_time&#x26;values[]=call_count&#x26;from=2012-01-01T00:00:00+00:00&#x26;to=2012-01-08T00:00:00+00:00&#x26;summarize=true") do |curl|
  curl.headers["api-key"] = "$API_KEY"
  curl.header_in_body=true
end
puts response.body_str

</code></pre>In Ruby:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXBkZXgtdjIifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkFwZGV4IFNMQSBkYXRhICh2MikifV0=">
    <div data-prop-text="title">Apdex SLA data (v2)</div>
    <p>To obtain the Apdex related data for v2, from the command line, type:</p>
    <pre><code>curl -X GET "https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml" \
     -H "Api-Key:$API_KEY" -i \
     -d 'names[]=Apdex&#x26;names[]=EndUser/Apdex&#x26;from=2014-06-09T00:00:00+00:00&#x26;to=2014-06-09T23:00:00+00:00&#x26;summarize=true'

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.http_get("https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.xml?names[]=EndUser/Apdex&#x26;from=2012-01-01T00:00:00+00:00&#x26;to=2012-01-08T00:00:00+00:00&#x26;summarize=true") do |curl|
  curl.headers["api-key"] = "$API_KEY"
  curl.header_in_body=true
end
puts response.body_str

</code></pre>In Ruby:
  </div>
</div>
<h2>REST API v1 commands (deprecated) [#examples_v1]</h2>
<p>REST API v1 is deprecated.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYnJvd3Nlci12MSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQnJvd3NlciBsb2FkIHRpbWUgYW5kIHBhZ2UgdmlldyBjb3VudCAodjEpIn1d">
    <div data-prop-text="title">Browser load time and page view count (v1)</div>
    <p>To obtain the Browser (EndUser/RUM) load time and page view count for v1, from the command line, type:</p>
    <pre><code>curl -gH "api-key:$API_KEY" "https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=EndUser&#x26;field=call_count&#x26;field=average_response_time&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z"

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.perform("https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=EndUser&#x26;field=call_count&#x26;field=average_response_time&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z") do |curl|
  curl.headers["api-key"] = "$API_KEY"
end
puts response.body_str

</code></pre>In Ruby:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXBwLXYxIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJBcHAgcmVzcG9uc2UgdGltZSBhbmQgcmVxdWVzdCBjb3VudCAodjEpIn1d">
    <div data-prop-text="title">App response time and request count (v1)</div>
    <p>To obtain the Application response time and request count for v1, from the command line, type:</p>
    <pre><code>curl -gH "api-key:$API_KEY" "https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=HttpDispatcher&#x26;field=average_response_time&#x26;field=call_count&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z"

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.perform("https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=HttpDispatcher&#x26;field=average_response_time&#x26;field=call_count&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z") do |curl|
  curl.headers["api-key"] = "$API_KEY"
end
puts response.body_str

</code></pre>In Ruby:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXBkZXgtdjEifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkFwZGV4IFNMQSBkYXRhICh2MSkifV0=">
    <div data-prop-text="title">Apdex SLA data (v1)</div>
    <p>To obtain the Apdex related data for v1, from the command line, type:</p>
    <pre><code>curl -gH "api-key:$API_KEY" "https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=Apdex&#x26;metrics[]=EndUser/Apdex&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z"

</code></pre>
    <pre><code>
require 'rubygems'
require 'curb'

response = Curl::Easy.perform("https://api.newrelic.com/api/v1/accounts/$ACCOUNT_ID/applications/$APP_ID/data.xml?metrics[]=Apdex&#x26;metrics[]=EndUser/Apdex&#x26;summary=1&#x26;begin=2012-01-01T00:00:00Z&#x26;end=2012-01-08T00:00:00Z") do |curl|
  curl.headers["api-key"] = "$API_KEY"
end
puts response.body_str

</code></pre>In Ruby:
  </div>
</div>
<h2>Analyze your data [#insights]</h2>
<p>New Relic APM includes several reports in the user interface. To gather, analyze, and visualize data about your software in other formats, use <a href="/docs/insights/new-relic-insights/understanding-insights/new-relic-insights">New Relic Insights</a>.</p>
