
<p>You can query your <a href="/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing">distributed tracing</a> data in several ways:</p>
<ul>
  <li>The search bar at top of the <a href="/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data">distributed tracing UI</a></li>
  <li><a href="#example-nrql-queries">NRQL query</a></li>
  <li><a href="/docs/apis/graphql-api/tutorials/query-distributed-trace-data-using-graphql-api">NerdGraph GraphiQL explorer</a></li>
</ul>
<p>To learn about trace structure, see <a href="/docs/understand-dependencies/distributed-tracing/get-started/how-new-relic-distributed-tracing-works">How distributed tracing works</a>.</p>
<h2>Example NRQL queries</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>You can also construct complex queries in the search bar at the top of the <a href="/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data">distributed tracing UI</a>.</p>
</div>
<p>Some example NRQL queries:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicGVyY2VudGlsZS1kYXRhc3RvcmUifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRhdGFzdG9yZSB0aW1lIHBlcmNlbnRpbGUgZm9yIGFuIGFwcCJ9XQ==">
    <div data-prop-text="title">Datastore time percentile for an app</div>
    <pre><code>SELECT percentile(duration, 50, 95) FROM Span WHERE category = 'datastore' 
and appName = 'YOUR_APP_NAME' SINCE 4 hours ago TIMESERIES 1 minute

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGF0YWJhc2UtcXVlcnktYnktaG9zdCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRGF0YXN0b3JlIHF1ZXJ5IHRpbWUgZm9yIGFuIGFwcCwgZmFjZXRlZCBieSBob3N0In1d">
    <div data-prop-text="title">Datastore query time for an app, faceted by host</div>
    <pre><code>SELECT average(duration) FROM Span WHERE appName = 'YOUR_APP_NAME' 
and category = 'datastore' FACET host TIMESERIES 1 minute

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXZnLWR1cmF0aW9uLWZvci1tZXRob2QtYnktaG9zdCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQXZlcmFnZSBkdXJhdGlvbiBmb3IgYSBtZXRob2Qgb2YgYSBzZXJ2aWNlLCBmYWNldGVkIGJ5IGhvc3QifV0=">
    <div data-prop-text="title">Average duration for a method of a service, faceted by host</div>
    <pre><code>SELECT average(duration) FROM Span WHERE appName = 'YOUR_APP_NAME'
and name = 'FUNCTION_NAME' FACET host TIMESERIES 1 minute

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiaGlzdG9ncmFtLWV4dGVybmFsLXNlcnZpY2VzLWJ5LXVyaSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiSGlzdG9ncmFtIG9mIGV4dGVybmFsIHNlcnZpY2VzIGNhbGxlZCBieSBhIHNlcnZpY2UsIGZhY2V0ZWQgYnkgZXh0ZXJuYWwgVVJJIn1d">
    <div data-prop-text="title">Histogram of external services called by a service, faceted by external URI</div>
    <pre><code>SELECT histogram(duration, 10, 60) FROM Span WHERE category = 'http'
and appName = 'YOUR_APP_NAME' FACET `http.url` SINCE 4 hours ago

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXZnLWR1cmF0aW9uLWV4dGVybmFsLWFsbC1hcHBzIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJBdmVyYWdlIGR1cmF0aW9uIGZvciBleHRlcm5hbCBjYWxscyBhY3Jvc3MgYWxsIGFwcGxpY2F0aW9ucyJ9XQ==">
    <div data-prop-text="title">Average duration for external calls across all applications</div>
    <pre><code>SELECT average(duration) FROM Span WHERE category = 'http'
SINCE 4 hours ago FACET `http.url` TIMESERIES 1 minute

</code></pre>
  </div>
</div>
<h2>Example NerdGraph queries [#graphql-queries]</h2>
<p>You can also use <a href="/docs/apis/graphql-api/get-started/introduction-new-relic-nerdgraph">NerdGraph</a> to query your trace data using the API. For more information, see the <a href="/docs/apis/graphql-api/tutorials/query-distributed-trace-data-using-graphql-api">NerdGraph distributed tracing data query examples</a>.</p>
<h2>Can't find data? [#issues]</h2>
<p>Having trouble finding data when querying? See <a href="/docs/apm/distributed-tracing/troubleshooting/troubleshooting-missing-trace-data">Troubleshooting: missing data</a>.</p>
