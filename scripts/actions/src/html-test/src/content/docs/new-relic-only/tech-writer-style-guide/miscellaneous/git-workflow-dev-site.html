
<p>The <a href="https://developer.newrelic.com/">New Relic Developer docs</a> are part of our documentation ecosystem. To edit content on the developer docs' website, you have to create or edit Markdown files in an open source code repository hosted on GitHub. This <a href="https://www.writethedocs.org/guide/docs-as-code/">docs-as-code</a> procedure requires a different set of tools than Drupal.</p>
<h2>Requirements</h2>
<p>To edit the developers website you need the following:</p>
<ul>
  <li>A public GitHub account. If you don't have one, create it using your New Relic email <a href="https://github.com/join">here</a>.</li>
  <li>git (macOS already has a git client, so that's easy).</li>
  <li>A code editor. <a href="https://code.visualstudio.com/download">Visual Studio Code</a> is strongly recommended.</li>
  <li>Some familiarity with <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown</a> dialects.</li>
</ul>
<p>To test the site locally, you will need node.js installed on your machine. The easiest way to get it is to install <a href="https://brew.sh/">Homebrew</a> (a macOS package manager) and fetch node.js and npm from there.</p>
<ol>
  <li>
    <p>Install Homebrew:</p>
    <pre><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
</code></pre>
  </li>
  <li>
    <p>Install node.js and npm:</p>
    <pre><code>brew update
brew install node
</code></pre>
  </li>
  <li>
    <p>Test that node.js and npm are installed correctly by installing a simple package globally:</p>
    <pre><code>npm install -g hello-world-npm
</code></pre>
  </li>
</ol>
<p>To fix issues with Homebrew, run <code>brew doctor</code> .</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Homebrew and npm are routinely used by our developers — they're approved by IT and Security.</p>
</div>
<h2>Set up your environment</h2>
<h3>Configure git and SSH</h3>
<p>Before starting to use git, you should set your username and email address as global settings. To do so, open the terminal and type the following commands:</p>
<pre><code>git config --global user.name "Your name here"
git config --global user.email "Your_email@example.com"
</code></pre>
<p>That will associate your commits to your GitHub username and email. You should also <a href="https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account">set up an SSH key</a> before pulling and pushing data from/to GitHub: it's safer and you won't have to re-type your password.</p>
<h3>Clone the repository on your machine</h3>
<p>The Developer Experience team requests that New Relic employees work in a branch off of the developer-website repo. So you will clone the repo, create a working branch, and push that to GitHub. Note they have <a href="https://github.com/newrelic/developer-website/blob/main/CONTRIBUTING.md">contributor's guidelines</a> on the repo.</p>
<ol>
  <li>To clone the repository, open a terminal session and run the following command (if you're using <strong>SSH</strong>):</li>
</ol>
<pre><code>git clone git@github.com:newrelic/developer-website.git
</code></pre>
<p>Or this command if you're using <strong>HTTPS</strong>:</p>
<pre><code>git clone https://github.com/newrelic/developer-website.git
</code></pre>
<p>Git clones the repository onto your machine. You'll be on the <code>main</code> branch, which is the branch that is published to the developer.newrelic.com site.</p>
<h3>Create a working branch</h3>
<ol>
  <li>In terminal, cd to the folder where you have cloned the developer-website repo:</li>
</ol>
<p>for example: <code>cd documents/github/developer-website</code><br>2. Create a new branch:</p>
<pre><code>git checkout -b BRANCHNAME
</code></pre>
<ol start="3">
  <li>
    <p>You should be in the new branch. To check, run <code>git branch</code> If you need to switch to the branch you created, run <code>git checkout BRANCHNAME</code></p>
  </li>
  <li>
    <p>Start working in the <code>src/markdown-pages</code> folder on your machine.</p>
  </li>
</ol>
<h2>Using Visual Studio Code + Git</h2>
<p><a href="https://code.visualstudio.com/download">Visual Studio Code</a> is a popular code editor. It's extensible and has built-in support for both Markdown and git — it will make your life a lot easier when editing code that is hosted on GitHub.</p>
<h3>Open the repo folder in Visual Studio Code</h3>
<p>In Visual Studio Code, go to <strong>File > Open</strong>, navigate to the root folder of the repo, and click Open. That will open the repo as a workspace, and you'll be able to navigate its structure.</p>
<p>Once the folder structure is visible, open <strong>src > markdown-pages.</strong> Clicking a file will open a tab in Visual Studio Code, with the content ready to be edited.</p>
<p>
  <img src="./images/mdx.png" alt="mdx.png" title="mdx.png">
</p>
<h3>Create a new branch in your local repository</h3>
<p>Visual Studio Code is smart about git repositories, and checks automatically what branch are you on and what have you changed. Look at the status bar at the bottom-left corner of Visual Studio Code — you should see that you're on the <code>main</code> branch (unless you've already created one) (note that this used to be master and is now main).</p>
<p>
  <img src="./images/master.png" alt="master.png" title="master.png">
</p>
<p>Working on a different branch is cleaner. To create a new branch from Visual Studio Code, hit the master button you've just seen: a menu will appear at the top. This menu not only allows to create new branches, but also to switch between branches with a couple clicks. Hit <strong>Create new branch from</strong>:</p>
<p>
  <img src="./images/newbranch.png" alt="newbranch.png" title="newbranch.png">
</p>
<p>Write a recognizable name, then select which branch are you starting from (hint: it's <code>master</code>). Now check again the bottom-left half of the editor: you should be on the newly created branch.</p>
<h3>Tracking and committing changes</h3>
<p>Every time you save, move, delete, or alter files and folders in the branch, git records those changes in its log. Visual Studio Code lets you watch what happens from its <strong>Source Control</strong> view.</p>
<p>
  <img src="./images/change.png" alt="change.png" title="change.png">
</p>
<p>To save any meaningful changes to the code, you must <strong>commit</strong>, which is akin to logging changes in a diary. When you commit, you are telling git to remember what changed since the last time and why. You can commit directly from Visual Studio Code by typing a message and hitting the check button:</p>
<p>
  <img src="./images/2020-05-28-11.06.53.gif" alt="2020-05-28 11.06.53.gif" title="2020-05-28 11.06.53.gif">
</p>
<p><strong>Commit often and write meaningful commit messages.</strong> Since commits can be undone, cherry-picked, and accessed individually, having lots of commits in your repo lets you go back and forth in time effortlessly.</p>
<h3>Push changes to remote</h3>
<p>All changes are done, and all have been committed. It's now time to push the changes to the repository. First, Pull from main (see the image below). You might have some merge conflicts. If so, dial a friend. If not, click the <strong>...</strong> button in the Source Control view and select <strong>Push to</strong>:</p>
<p>
  <img src="./images/pushto.png" alt="pushto.png" title="pushto.png">
</p>
<p>Choose: <code>origin</code> If there are no conflicts, your commit will be synced with the GitHub developer-website repository.</p>
<h3>What if something goes wrong</h3>
<p>git is a complex, unwieldy piece of software, and getting things wrong can be incredibly easy. If something doesn't go as expected, here are some general recommendations:</p>
<ul>
  <li>Click the <strong>...</strong> button in <strong>Source Control</strong> view to access some useful shortcuts, such as <strong>Undo last commit</strong> or <strong>Discard all changes</strong>.</li>
  <li>If you want to start from scratch, move the local repository to a different location on your machine and re-clone the GitHub repository.</li>
  <li>Some issues can only be solved from the terminal. Google is your friend. Also look at the <a href="#useful_links">Useful links</a>.</li>
</ul>
<h2>Open a pull request</h2>
<p>Pull requests are the (very social) way GitHub handles code merging. When the branch on your fork reached an acceptable state and you are ready to integrate the docs into the official repository, open your fork in GitHub.</p>
<p>Once you're there, click <strong>New pull request</strong>, then, on the right side, select the branch that you wish to merge with <code>main</code>. GitHub will automatically show the diff between both the original <code>master</code> and your branch.</p>
<p>
  <img src="./images/newpr.png" alt="newpr.png" title="newpr.png">
</p>
<p>If you're fine with what you see, click <strong>Create pull request</strong>. It's recommended that you add a description to the PR, but remember that GitHub is public: <strong>do not disclose any internal information</strong>, even if the repo is private.</p>
<p>The PR being open, it's time for you to wait for the repo maintainers to check the changes and merge. Remember that you can <a href="https://help.github.com/en/enterprise/2.14/user/articles/editing-files-in-your-repository">edit files directly in the pull request</a> if need be, and also <a href="https://help.github.com/en/enterprise/2.14/user/articles/commenting-on-a-pull-request">add comments to any line</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Any commit that you push to your branch will appear in automatically update your pull request — no need to open a new PR if there's a last minute change!</p>
</div>
<h2>Recommended: iTerm 2 + zsh + oh-my-zsh</h2>
<p>You are going to use the terminal much more in the future: customizing it will make your life easier when dealing with git repositories. Look at this screenshot:</p>
<p>
  <img src="./images/ohmyzsh.png" alt="ohmyzsh.png" title="ohmyzsh.png">
</p>
<p>The terminal prompt is colored and includes useful information, such as the branch you're on and how many changes you can pull/push (among other things).</p>
<p>To get this on your terminal, follow the instructions in <a href="https://gist.github.com/kevin-smets/8568070">iTerm2 + zsh + oh-my-zsh</a>.</p>
<h2>Useful resources and links [#useful_links]</h2>
<p>Here are some useful resources, split by category:</p>
<h3>Git and GitHub</h3>
<ul>
  <li><a href="https://ohshitgit.com/">Oh S***, Git!?!</a> - A simple cookbook that will pull you out of most troublesome git scenarios</li>
  <li><a href="https://guides.github.com/">GitHub Guides</a> - Easy-to-follow, user-friendly approach to git's basics.</li>
  <li><a href="https://git-scm.com/">Official git documentation</a> - A bit dry, but extremely thorough.</li>
</ul>
<h3>Visual Studio Code</h3>
<ul>
  <li><a href="https://github.com/cangulo/meetups/tree/master/vs_code_for_docs/2020_05_22_write_bcn">Visual Studio Code for documentation</a> - Recording + presentation of a Write the Docs BCN</li>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=silvenon.mdx">MDX</a> - This extension adds Markdown syntax highlighting to MDX files.</li>
  <li><a href="https://code.visualstudio.com/docs/editor/github">Working with GitHub</a> - A Microsoft guide on using version control in VS Code</li>
  <li><a href="https://code.visualstudio.com/docs/languages/markdown">Markdown and Visual Studio Code</a> - Another Microsoft guide, this time on Markdown support</li>
</ul>
