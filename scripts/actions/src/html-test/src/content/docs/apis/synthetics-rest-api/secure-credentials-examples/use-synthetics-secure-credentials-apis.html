
<p>With the <a href="/docs/apis/synthetics-rest-api/monitor-examples/manage-synthetics-monitors-rest-api">Synthetics REST API</a>, you can make API calls to change or retrieve <a href="/docs/synthetics/new-relic-synthetics/using-monitors/secure-credentials-store-credentials-information-scripted-browsers">secure credentials</a> data. This document explains the API requirements and contains API curl command examples.</p>
<p>For general guidelines for setting secure credentials and setting them in the UI, see <a href="/docs/synthetics/new-relic-synthetics/using-monitors/secure-credentials-store-credentials-information-scripted-browsers">Secure credentials</a>.</p>
<h2>Requirements and rules [#requirements]</h2>
<p>For general rules about this feature, see the <a href="/docs/synthetics/new-relic-synthetics/using-monitors/secure-credentials-store-credentials-information-scripted-browsers#requirements">secure credentials requirements</a>.</p>
<p>API requirements and rules include:</p>
<ul>
  <li>See general <a href="/docs/apis/synthetics-rest-api/monitor-examples/manage-synthetics-monitors-rest-api#use-api">Synthetics REST API requirements</a>.</li>
  <li>An account's rate of requests is limited to three requests per second. Requests that exceed this threshold will return a 429 response code.</li>
  <li>A key's value cannot be accessed via the API; an unauthorized user would not have access to the secure key values.</li>
</ul>
<h2>API examples</h2>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWRkLXNlY3VyZS1jcmVkZW50aWFsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJBZGQgYSBzZWN1cmUgY3JlZGVudGlhbCJ9XQ==">
    <div data-prop-text="title">Add a secure credential</div>
    <p>To send a secure credential to your New Relic account, send a POST request to <code>https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials</code> with a JSON payload that describes the secure credential. Here's an example:</p>
    <pre><code>{
  "key": string [required, 1-64 characters uppercase],
  "value": string [required, 1-3,000 characters],
  "description": string [optional]
}

</code></pre>A successful request will return a `201 Created` response, with the URI of the newly-created secure credential specified in the `location` header. Possible error codes include:
    * `303 See Other`: The specified key already exists. The returned location header will contain the URI to the key.
    * `400 Bad Request`: Key too long or missing, value too long or missing, non-parsable JSON payload.
    <pre><code>
curl -v \
     -X POST -H 'Api-Key:$API_KEY' \
     -H 'Content-Type: application/json' https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials \
     -d  '{ "key": "MYKEY", "value": "my value", "description": "Description of MYKEY" }'

</code></pre>Here's an example of doing this with a curl command:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2V0LWFsbC1zZWN1cmUtY3JlZGVudGlhbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiR2V0IGFsbCBzZWN1cmUgY3JlZGVudGlhbHMifV0=">
    <div data-prop-text="title">Get all secure credentials</div>
    <p>To view a list of all the secure credentials in your New Relic account, send a GET request to <code>https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials</code>. For example:</p>
    <pre><code>curl -v \
     -H 'Api-Key:$API_KEY' https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials

</code></pre>
    <pre><code>
{
  "secureCredentials": [
    {
      "key": "MYKEY1",
      "description": "Description of MYKEY1",
      "createdAt": "2016-09-26T23:12:46.981+0000",
      "lastUpdated": "2016-09-26T23:12:46.981+0000"
    }, {
      "key": "MYKEY2",
      "description": "Description of MYKEY2",
      "createdAt": "2016-09-26T23:12:46.981+0000",
      "lastUpdated": "2016-09-26T23:12:46.981+0000"
    }
  ],
  "count": 2
}

</code></pre>A successful request will return a `200 OK` response. The data returned will be a JSON object in the following format:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2V0LXNlY3VyZS1jcmVkZW50aWFsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJHZXQgYSBzcGVjaWZpYyBzZWN1cmUgY3JlZGVudGlhbCJ9XQ==">
    <div data-prop-text="title">Get a specific secure credential</div>
    <p>To view a single secure credential, send a GET request to <code>https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/</code>$KEY.</p>
    <pre><code>curl -v \
     -H 'Api-Key:$API_KEY' https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/$KEY

</code></pre>An invalid key will return `404 Not Found: The specified key doesn't exist`.
    <pre><code>
{
  "key": string,
  "description": string,
  "createdAt": date,â€‹
  "lastUpdated": date
}

</code></pre>A successful request will return a `200 OK` response. The [data returned](https://docs.newrelic.com/docs/apis/synthetics-rest-api/monitor-examples/payload-attributes-synthetics-rest-api#api-attributes) will be a JSON object in the following format:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXBkYXRlLXNlY3VyZS1jcmVkZW50aWFsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJVcGRhdGUgYW4gZXhpc3Rpbmcgc2VjdXJlIGNyZWRlbnRpYWwifV0=">
    <div data-prop-text="title">Update an existing secure credential</div>
    <p>To update an existing credential in New Relic, send a PUT request to <code>https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/</code>$KEY.</p>
    <pre><code>curl -v \
     -X PUT -H 'Api-Key:$API_KEY' \
     -H 'Content-Type: application/json' https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/$KEY \
     -d  '{ "key": "MYKEY", "value": "my value", "description": "Description of MYKEY" }'

</code></pre>An invalid key will return `404 Not Found: The specified key doesn't exist`.
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZGVsZXRlLXNlY3VyZS1jcmVkZW50aWFsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEZWxldGUgYW4gZXhpc3Rpbmcgc2VjdXJlIGNyZWRlbnRpYWwifV0=">
    <div data-prop-text="title">Delete an existing secure credential</div>
    <p>To delete an existing credential in New Relic, send a DELETE request to <code>https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/</code>$KEY.</p>
    <pre><code>curl -v \
     -H 'Api-Key:$API_KEY' \
     -X DELETE https://synthetics.newrelic.com/synthetics/api/v1/secure-credentials/$KEY

</code></pre>Please note that if the specified key does not exist, no error will occur.
  </div>
</div>
<h2>For more help [#more_help]</h2>
