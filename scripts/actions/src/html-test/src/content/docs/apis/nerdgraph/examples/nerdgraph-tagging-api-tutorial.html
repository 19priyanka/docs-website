
<p>You can add tags to your data to help improve data organization and findability. <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">Learn more about tagging at New Relic.</a></p>
<p>This doc explains how to use our NerdGraph API to add and manage tags. For a guide to automating tags using our CLI tool, see our <a href="https://developer.newrelic.com/automate-workflows/5-mins-tag-resources/">developer site</a>.</p>
<h2>Read tags for an entity [#read-tags]</h2>
<p>To construct these queries and see responses:</p>
<ol>
  <li>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</li>
  <li>Use <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity"><code>entitySearch()</code></a> to find the entity and then fetch its tags.</li>
  <li>Use NerdGraph's tag API to read the existing tags and their values.</li>
</ol>
<p>In this example, our entity is a browser app called <code>Cookie Checkout</code>:</p>
<pre><code>{
  actor {
    entitySearch(query: "name like 'Cookie Checkout'") {
      results {
        entities {
          tags {
            key
            values
          }
        }
      }
    }
  }
}
</code></pre>
<p>The actual values vary depending on your data. Use the <a href="https://api.newrelic.com/graphiql">New Relic GraphiQL explorer</a> to experiment with queries.</p>
<h2>Add tags for an entity [#add-tags]</h2>
<p>To add new tags for an entity:</p>
<ol>
  <li>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</li>
  <li>Use <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity"><code>entitySearch()</code></a> to locate the GUID for the entity you want to tag.</li>
  <li>Use the <code>taggingAddTagsToEntity</code> mutation to add a tag with a value to the entity.</li>
</ol>
<p>In this example, we have a browser application called <code>Cookie Checkout</code> owned by a UI team. We want to add a <code>team</code> tag with a <code>ui</code> value to this instance. Once the tag is added, we can filter by the tag <code>team:ui</code> and find the <code>Cookie Checkout</code> app in the New Relic One UI.</p>
<pre><code>mutation {
    taggingAddTagsToEntity(
        guid: "ENTITY_GUID",
        tags: { key: "team", values: ["ui"]}) {
            errors {
                message
            }
        }
}
</code></pre>
<h2>Remove a tag from an entity [#delete-entity-tag]</h2>
<p>To delete a tag and all of its associated values from an entity:</p>
<ol>
  <li>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</li>
  <li>Use <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity"><code>entitySearch()</code></a> to locate the GUID for the entity with the tag you want to remove.</li>
  <li>Use the <code>taggingDeleteTagFromEntity</code> mutation.</li>
</ol>
<p>The following example mutation removes the <code>team</code> tag from an entity:</p>
<pre><code>mutation {
    taggingDeleteTagFromEntity(
        guid: "ENTITY_GUID",
        tagKeys: ["team"]) {
            errors {
                message
            }
        }
}
</code></pre>
<h2>Delete specific tag values for an entity [#delete-specific-tag]</h2>
<p>Instead of deleting an entire tag and all of its values, you can delete a single tag value.</p>
<ol>
  <li>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</li>
  <li>Use <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity"><code>entitySearch()</code></a> to locate the GUID for the entity with the tag you want to remove.</li>
  <li>Use the <code>taggingDeleteTagValuesFromEntity</code> mutation.</li>
</ol>
<p>The following example mutation deletes the <code>ui</code> value from the <code>tag</code> key:</p>
<pre><code>mutation {
    taggingDeleteTagValuesFromEntity(
        guid: "ENTITY_GUID",
        tagValues: [{key: "team" value: "ui"}]) {
            errors {
                message
            }
        }
}
</code></pre>
<p>Because <code>tagValues</code> is an array, you can delete multiple specific values from a single entity in one mutation.</p>
<h2>Replace all tag values for an entity [#replace-tag-values]</h2>
<p>To replace all the existing values for a tag with new ones:</p>
<ol>
  <li>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</li>
  <li>Use <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity"><code>entitySearch()</code></a> to locate the GUID for the entity with the tag you want to remove.</li>
  <li>Use the <code>taggingReplaceTagsOnEntity</code> mutation.</li>
</ol>
<p>In this example, the <code>Cookie Checkout</code> browser application was transferred from the <code>ui</code> team to the <code>cookie-dev</code> team. You can replace the tag values for <code>team</code> with the following mutation:</p>
<pre><code>mutation {
    taggingReplaceTagsOnEntity(
        guid: "ENTITY_GUID",
        tags: {key: "team" values: ["cookie-dev"]}) {
            errors {
                message
            }
        }
}
</code></pre>
