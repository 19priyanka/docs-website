
<p>To ensure that New Relic correctly identifies API integration publishers, each integration needs a unique custom user agent string.</p>
<p>If you are only using your integration internally, and don't plan on sharing it with anyone outside your organization, you don't need to set a unique custom agent string.</p>
<h2>Prerequisites [#h2_prereqs]</h2>
<p>This document assumes you plan to publicly distribute an integration that makes use of any of New Relic's public RESTful APIs. Examples of public distribution include:</p>
<ul>
  <li>Publicizing your integration code on Github.</li>
  <li>Packaging your integration into a plugin, extension, or other package, and distributing it via a directory like <a href="https://wordpress.org/plugins/">WordPress Plugins</a>.</li>
  <li>Offering an "as a service" integration between your product and New Relic, without actually distributing your integration code, like <a href="https://www.runscope.com/docs/api-testing/newrelic#connecting">Runscope's integration</a>.</li>
</ul>
<h2>User agents [#h2_user_agents]</h2>
<p>When writing applications to work with New Relic's RESTful APIs (referred to as an <strong>integration</strong> in this document), you are creating an HTTP agent to manage information exchange between your application and New Relic. An integration identifies itself by submitting a standard identification string. In HTTP this string is included in the header field <strong>User-Agent</strong>.</p>
<p>When using New Relic's RESTful APIs, set a <strong>User-Agent</strong> header that identifies your integration in API calls. This custom <strong>User-Agent</strong> string allows New Relic to identify the integration that is making requests to New Relic's APIs.</p>
<p>By setting a custom user agent, New Relic can track:</p>
<ul>
  <li>Usage statistics for your integration.</li>
  <li>Potentially buggy or abusive API usage.</li>
</ul>
<h2>Set a user agent [#h2_setting]</h2>
<p>To set a custom user agent, include an agent string in the HTTP header <strong>User-Agent</strong>.</p>
<p>Examples:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Language</strong></p>
      </div>
      <div>
        <p><strong>Example</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>cURL</p>
      </div>
      <div>
        <pre><code>curl -H 'User-Agent: my-integration/1.2.3'

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p>Java<br>(using GET)</p>
      </div>
      <div>
        <pre><code>get.setHeader("User-Agent", "my-integration/1.2.3");

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p>PHP</p>
      </div>
      <div>
        <pre><code>header('User-Agent: my-integration/1.2.3');

</code></pre>
      </div>
    </div>
  </div>
</div>
<p>The minimum user agent string is the integration name and version: <code>name/version</code>. You can string together multiple values in a space-separated list. The full syntax is:</p>
<pre><code>name/version [(comments)] [name/version [(comments)]] [...]​
</code></pre>
<p>For the integration name, use a string that clearly and meaningfully identifies your integration.</p>
<ul>
  <li>
    <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS14In1d"></div>Ambiguous name: New Relic Integration
  </li>
  <li>
    <div data-component="Icon" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJuYW1lIiwidmFsdWUiOiJmZS1jaGVjayJ9XQ=="></div>Clear and meaningful name: SaaS XYZTools Integration with New Relic
  </li>
</ul>
<p>For the integration version, use a build ID, commit hash, or other identifier that is updated when you release new integration versions.</p>
<p>Wrap comments in parentheses <code>()</code> as a semi-colon separated list;</p>
<p>Helpful comments to include:</p>
<ul>
  <li>The publicly-accessible URL of your integration. For instance, a Github URL, or a page in your docs site that describes the integration.</li>
  <li>Contact information so that New Relic can easily reach the integration publisher.</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Information from the user agent string will never be shared, nor used by New Relic for any purpose other than discussing the integration with its publisher.</p>
</div>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU2V0IGN1c3RvbSB1c2VyLWFnZW50IGZvciB5b3VyIGludGVncmF0aW9uIn1d">
    <div data-prop-text="title">Set custom user-agent for your integration</div>
    <p>You have an integration with the following identifying information:</p>
    <ul>
      <li>
        <p>Name: MetricMeter</p>
      </li>
      <li>
        <p>Version: 3.2</p>
      </li>
      <li>
        <p>URL: meter.me/info</p>
      </li>
      <li>
        <p>Contact: <a href="mailto:help@meter.me">help@meter.me</a></p>
        <p>The custom user agent string would be:</p>
        <pre><code>MetricMeter for New Relic/3.2 (meter.me/info; help​@​meter.me)
</code></pre>
      </li>
    </ul>
  </div>
</div>
<h2>User agent strings and New Relic [#h2_user_agent_usage]</h2>
<p>New Relic captures user agent strings from API calls to identify their source.</p>
<p>Using custom user agent strings for publicly-available integration is a recommended best practice. Depending on your business relationship with New Relic, it may be required. Labeling your integration with a custom user agent string does not affect its interaction with New Relic's APIs.</p>
