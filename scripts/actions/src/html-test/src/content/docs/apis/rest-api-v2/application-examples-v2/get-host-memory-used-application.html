
<p>You can use the New Relic REST API (v2) to obtain the average memory usage for your application on a single host. This value appears on the <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">APM <strong>Summary</strong> page</a> in the <strong>Hosts</strong> table, in the column labeled <strong>Memory</strong>, or in the corresponding chart.</p>
<h2>Get memory usage for a host</h2>
<p>To obtain the average Memory usage for one of your app's hosts, use the following command to obtain the metric <code>names[]=Memory/Physical</code> with <code>values[]=percent</code>.</p>
<pre><code>curl -X GET "https://api.newrelic.com/v2/applications/$APP_ID/hosts/$HOST_ID/metrics/data.json" \
     -H "Api-Key:$API_KEY" -i \
     -d 'names[]=Memory/Physical&#x26;values[]=used_mb_by_host&#x26;summarize=true'
</code></pre>
<ul>
  <li>Replace <code>$APP_ID</code> and <code>$API_KEY</code> with your <a href="/docs/apm/apis/requirements/identification-code">app ID</a> and your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>.</li>
  <li>Replace <code>$HOST_ID</code> with the <a href="/docs/apis/rest-api-v2/requirements/listing-host-instance-application-server-ids#locating_host_id">host id</a> of your target host.</li>
</ul>
<p>This example shows the time range for the <a href="/docs/apis/rest-api-v2/requirements/specifying-time-range-v2">default time period</a> (last 30 minutes). For additional detail:</p>
<ul>
  <li>Remove the <code>summarize=true</code> to obtain detailed <a href="https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/calculating-average-metric-values-summarize">time series data.</a></li>
  <li>Specify a different <a href="https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/specifying-time-range-v2">time range</a>.</li>
</ul>
<p>To obtain the same information from the <a href="https://rpm.newrelic.com/api/explore">New Relic API Explorer (v2)</a>:</p>
<ol>
  <li>Select <a href="https://rpm.newrelic.com/api/explore/application_hosts/data"><strong>Application Hosts > GET Metric Data</strong></a>, and include your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>.</li>
  <li>Add your <a href="/docs/apm/apis/requirements/identification-code">application ID</a>, <a href="/docs/apis/rest-api-v2/requirements/listing-host-instance-application-server-ids#locating_host_id">host id</a>, and the <code>names[]=Memory/Physical</code> and <code>values[]=used_mb_by_host</code> metrics in the appropriate fields.</li>
</ol>
<h2>Get memory usage for the entire app [#api-call]</h2>
<p>To obtain the average Memory usage for your application, use a command similar to the one in the previous example, but remove the reference to <strong>hosts</strong> and <code>$HOST_ID</code>. Replace <code>$APP_ID</code> and <code>$API_KEY</code> with your <a href="/docs/apm/apis/requirements/identification-code">app ID</a> and your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>.</p>
<pre><code>curl -X GET "https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.json" \
     -H "Api-Key:$API_KEY" -i \
     -d 'names[]=Memory/Physical&#x26;values[]=total_used_mb&#x26;summarize=true'
</code></pre>
<p>For additional detail:</p>
<ul>
  <li>Remove the <code>summarize=true</code> to obtain detailed <a href="https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/calculating-average-metric-values-summarize">time series data.</a></li>
  <li>Specify a different <a href="https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/specifying-time-range-v2">time range</a>.</li>
</ul>
<p>To obtain the same information from the <a href="https://rpm.newrelic.com/api/explore">New Relic API Explorer (v2)</a>:</p>
<ol>
  <li>Select <a href="https://rpm.newrelic.com/api/explore/applications/data"><strong>Applications > GET Metric Data</strong></a>, and include your <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a>.</li>
  <li>Add your <a href="/docs/apm/apis/requirements/identification-code">application ID</a> and the <code>names[]=Memory/Physical</code> and <code>values[]=total_used_mb</code> metrics in the appropriate fields.</li>
</ol>
