
<p>To query data with the <a href="/docs/introduction-new-relic-graphql">New Relic NerdGraph</a>, we use the concept of an <strong>entity</strong>. An entity provides unified access to all the things you monitor with New Relic, including but not limited to:</p>
<ul>
  <li>Applications monitored by <a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">New Relic</a> (<a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">APM</a>)</li>
  <li>Cloud integrations, services, and hosts monitored by <a href="/docs/infrastructure/new-relic-infrastructure/get-started/introduction-new-relic-infrastructure">New Relic</a> (<a href="/docs/infrastructure/new-relic-infrastructure/get-started/introduction-new-relic-infrastructure">Infrastructure monitoring</a>)</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>To view entity details in the New Relic UI, use the <a href="/docs/new-relic-one/use-new-relic-one/ui-data/new-relic-one-entity-explorer">entity explorer</a> in <a href="/docs/new-relic-one/use-new-relic-one/get-started/introduction-new-relic-one">New Relic One</a>.</p>
</div>
<h2>Entity definition [#definition]</h2>
<p>Each <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/what-entity-new-relic">entity</a> has similar traits:</p>
<ul>
  <li>A unique entity GUID identifies it.</li>
  <li>It exists over a span of time, even if it is a short period.</li>
  <li>It provides a useful entry point for exploring data about specific metrics and events, or for exploring data related to other entities.</li>
</ul>
<h2>Requirements</h2>
<p>You need a <a href="/docs/apis/getting-started/intro-apis/understand-new-relic-api-keys#user-api-key">user key</a>.</p>
<h2>Search for entities [#search-entity]</h2>
<p>New Relic searches for entities by their attributes: primarily their name, but also by type of entity and other values. The search returns basic data about entities matching the search criteria. Then, from the basic query results, you can query a specific entity by its GUID.</p>
<p>For example, to use NerdGraph to query one or more entities, you can search by attribute or GUID.</p>
<h3>Search by attribute [#search-attribute]</h3>
<ol>
  <li>
    <p>Go to the NerdGraph GraphiQL explorer at <a href="https://api.newrelic.com/graphiql">https://api.newrelic.com/graphiql</a>.</p>
  </li>
  <li>
    <p>Run a basic query to find entities that match your search criteria. For example:</p>
    <pre><code>query($query: String!) {
  actor {
    entitySearch(query: $query) {
      count
      results {
        entities {
          name
          entityType
          guid
        }
      }
    }
  }
}
</code></pre>
  </li>
  <li>
    <p>Add the following <a href="https://graphql.org/learn/queries/#variables">variables</a> to the <strong>Query variables</strong> section in NerdGraph:</p>
    <pre><code>{"query": "name LIKE 'nerd-graph' AND type IN ('APPLICATION')"}
</code></pre>
  </li>
</ol>
<h3>Search by entity GUID</h3>
<ol>
  <li>
    <p>Use a specific entity's GUID to query deeper into its related data. For example:</p>
    <pre><code>query($guids: EntityGuid!) {
  actor {
    entities(guids: $guids) {
      entityType
      name
    }
  }
}
</code></pre>
  </li>
  <li>
    <p>Add the following <a href="https://graphql.org/learn/queries/#variables">variables</a> to the <strong>Query variables</strong> section:</p>
    <pre><code>{"guids": "entity-guid-here"}
</code></pre>
  </li>
</ol>
<h2>Example queries [#graphql-examples]</h2>
<p>Queries are requests that are intended to only fetch data (no side effects). NerdGraph queries are not static, meaning that you can ask for more or less data depending on your needs. For each query, you can specify exactly what data you want to retrieve, as long as it is supported by the schema.</p>
<p>Entities in NerdGraph rely on <a href="/docs/apis/graphql-api/getting-started/introduction-new-relic-graphql-api#terminology">GraphQL interfaces</a>, a concept that allows objects to share common fields. Interfaces are used to provide data for specific entity types, as you will see in many of these NerdGraph query examples.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYWxlcnQtaW5mbyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiR2V0IGFsZXJ0IGluZm9ybWF0aW9uIG9uIGFsZXJ0YWJsZSBlbnRpdGllcyBpbiBzZWFyY2ggcmVzdWx0cyJ9XQ==">
    <div data-prop-text="title">Get alert information on alertable entities in search results</div>
    <p>You can fetch the alert severity of any entity that can be monitored by New Relic Alerts. This NerdGraph query will tell you if New Relic is currently receiving data from your application (using the <code>reporting</code> field).</p>
    <ul>
      <li>
        <p>If the entity is an alertable type, results will include the alert severity of the entity.</p>
      </li>
      <li>
        <p>If the results include entities that are not alertable, they will not include the <code>AlertableEntityOutline</code> fields.</p>
        <pre><code>{
  actor {
    entitySearch(query: "name like 'nerdgraph'") {
      results {
        entities {
          reporting
          ... on AlertableEntityOutline {
            alertSeverity
          }
        }
      }
    }
  }
}
</code></pre>
      </li>
    </ul>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXBtLXN1bW1hcnkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdldCBzdW1tYXJ5IGRhdGEgb24gQVBNIGVudGl0aWVzIGluIHNlYXJjaCByZXN1bHRzIn1d">
    <div data-prop-text="title">Get summary data on APM entities in search results</div>
    <p>Different entity types have specific data associated with them. The following NerdGraph query example shows a selection of fields available for APM application entities; more summary data can be requested in your query. If entities of other types are returned in your search results, they will not include these fields.</p>
    <pre><code>{
  actor {
    entitySearch(query: "name like 'nerdgraph'") {
      results {
        entities {
          name
          ... on ApmApplicationEntityOutline {
            apmSummary {
              errorRate
              apdexScore
              webResponseTimeAverage
              responseTimeAverage
            }
          }
        }
      }
    }
  }
}

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic2VhcmNoLWVudGl0eSJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiR2V0IGRhdGEgc3BlY2lmaWMgdG8gZWFjaCBlbnRpdHkgdHlwZSBpbiBzZWFyY2ggcmVzdWx0cyJ9XQ==">
    <div data-prop-text="title">Get data specific to each entity type in search results</div>
    <p>Different entity types have specific data associated with them. This NerdGraph query example requests the name for all entities regardless of which entity type they are, as well as the error rate for APM, Browser, and Mobile entities. If entities of other types are returned in your search results, they will not include an error rate field.</p>
    <pre><code>{
  actor {
    entitySearch(query: "name like 'nerdgraph'") {
      results {
        entities {
          name
          ... on ApmApplicationEntityOutline {
            apmSummary {
              errorRate
            }
          }
          ... on BrowserApplicationEntityOutline {
            browserSummary {
              jsErrorRate
            }
          }
          ... on MobileApplicationEntityOutline {
            mobileSummary {
              httpErrorRate
            }
          }
        }
      }
    }
  }
}

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidGFncy1lbnRpdHkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdldCBhbGwgdGFncyBmb3IgZWFjaCBlbnRpdHkgaW4gc2VhcmNoIHJlc3VsdHMifV0=">
    <div data-prop-text="title">Get all tags for each entity in search results</div>
    <p>This NerdGraph query example fetches tags for every entity returned in the search results. For more information, see the <a href="/docs/apis/graphql-api/tutorials/graphql-tagging-api-tutorial">NerdGraph GraphiQL tagging tutorial</a>.</p>
    <pre><code>{
  actor {
    entitySearch(query: "name like 'nerdgraph'") {
      results {
        entities {
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2V0LW5leHRjdXJzb3IifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkdldCB0aGUgbmV4dEN1cnNvciBmb3IgcGFnaW5hdGVkIHNlYXJjaCByZXN1bHRzIn1d">
    <div data-prop-text="title">Get the nextCursor for paginated search results</div>
    <p>The NerdGraph GraphiQL explorer paginates results from an entity search. If your search criteria yields more than the API limit and you want to view the rest of the results, you can request <code>nextCursor</code> in your initial request and use its value in another query to retrieve the following "page" of results. If there are no more results, <code>nextCursor</code> will be null.</p>
    <pre><code>{
  actor {
    entitySearch(query: "name like 'nerd-graph'") {
      results {
        nextCursor
        entities {
          name
        }
      }
    }
  }
}

</code></pre>
    <pre><code>
{
  actor {
    entitySearch(query: "name like 'nerd-graph'") {
      results(cursor: "next_cursor_value") {
        nextCursor
        entities {
          name
        }
      }
    }
  }
}

</code></pre>Use the value of `nextCursor` in your next search:
  </div>
</div>
