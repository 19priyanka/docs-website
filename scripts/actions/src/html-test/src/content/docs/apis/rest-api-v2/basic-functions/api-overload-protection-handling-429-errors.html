
<p>In order to respond quickly to your REST API calls—even when other customers are running time-consuming queries—New Relic includes overload protection in the API.</p>
<p>If you are querying a large enough amount of data to consume significant resources, the API's response code and headers will indicate that you have exceeded the capacity available for your API Key. This is a rare condition most customers will never see. Only customers whose API use is very resource-intensive will see it.</p>
<p>Customers will be limited to 1000 API calls per minute.</p>
<h2>API responses [#api_response]</h2>
<p>Under normal operation, the API does not add any overload protection status to responses. You need not take any action.</p>
<p>Over the <strong>reporting period</strong> time interval, New Relic tracks each API request's impact on our system.</p>
<p>These are the typical cases that can trigger overload protection or rate limiting:</p>
<ul>
  <li>An API key you're using has exceeded the maximum number of requests per minute.</li>
  <li>Our system is generally overloaded, and we need some accounts decrease their reporting.</li>
</ul>
<p>In a case where rate limiting occurs, the following things will happen:</p>
<ul>
  <li>Further API calls will fail with HTTP status code 429 (too many requests).</li>
  <li>The headers and body of the HTTP responses may or may not contain more information about the error.</li>
  <li>API calls will be allowed again at the end of the reporting period.</li>
</ul>
<h2>Headers [#api_headers]</h2>
<p>Here are the HTTP headers that will appear in API responses if you have exceeded your API key's individual limit:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Overload header</p>
      </div>
      <div>
        <p>Meaning</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>X-RateLimit-Limit</code></p>
      </div>
      <div>
        <p>Maximum number of requests per minute.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>X-RateLimit-Remaining</code></p>
      </div>
      <div>
        <p>Number of requests remaining in this period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>X-RateLimit-Reset</code></p>
      </div>
      <div>
        <p>UNIX timestamp (number of seconds since Jan. 1, 1970) when the current reporting period ends. API requests will be responded to after this time.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>X-RateLimit-Docs</code></p>
      </div>
      <div>
        <p>Hyperlink to this document so you immediately have additional information.</p>
      </div>
    </div>
  </div>
</div>
<p>Here are the HTTP headers that will appear in API responses if there is a general system problem:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Overload header</p>
      </div>
      <div>
        <p>Meaning</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>Retry-After</code></p>
      </div>
      <div>
        <p>Number of seconds until you should try again.</p>
      </div>
    </div>
  </div>
</div>
<h2>Example [#api_example]</h2>
<p>Here is an example API request indicating that the caller has consumed all of the available resources, and that further API calls will be allowed again at noon on Feb. 1, 2016:</p>
<pre><code>curl -X GET 'https://api.newrelic.com/v2/applications.json' \
     -H 'Api-Key:$API_KEY' -i
HTTP/1.1 429 Too Many Requests
Content-Type: application/json
...
X-RateLimit-Docs: https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/api-overload-protection-preventing-429-errors
X-RateLimit-Reset: 1454313600
X-RateLimit-Remaining: 0
X-RateLimit-Limit: 1000

{}
</code></pre>
<h2>Preventing rate limiting errors [#preventing-errors]</h2>
<p>The simplest remedy for a 429 error is to wait until the reporting period ends before sending your next API request. However, with careful management of your queries, you can avoid overload protection errors in the first place.</p>
<p>If you know you will be sending many resource-intensive queries, you can perform one of the following preventative measures:</p>
<ul>
  <li>Send your queries less often; in particular, query less frequently than once per minute (the refresh rate for agent data).</li>
  <li>Cache data from New Relic rather than requesting it from the API every time.</li>
  <li>Use the <a href="/docs/apis/rest-api-v2/requirements/pagination-api-output#metric_name_cursor_paging">cursor-based technique</a> if you must request metric names and the output results in multiple pages.</li>
</ul>
