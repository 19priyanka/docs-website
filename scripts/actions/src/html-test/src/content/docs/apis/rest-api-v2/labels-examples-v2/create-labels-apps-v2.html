
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>The use of the REST API for labels/tags is deprecated. For how to add tags, see <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">Tags</a>.</p>
</div>
<h2>Create labels [#create_labels]</h2>
<p><strong>The use of the REST API for labels/tags is deprecated.</strong> For how to add tags, see <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">Tags</a>.</p>
<p>Creating or applying a label with the REST API requires:</p>
<ul>
  <li>The NEW_RELIC_USER_KEY in the examples represents your <a href="https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-alerts#personal-api-key">user key</a>.</li>
  <li>The label must be applied to an existing <a href="/docs/apis/rest-api-v2/application-examples-v2/listing-your-app-id-metric-data-v2">application ID</a>.</li>
  <li>The label must conform to the <a href="/docs/data-analysis/user-interface-functions/organize-your-data/labels-categories-organize-apps-servers-monitors#guidelines">guidelines for category labels</a>.</li>
</ul>
<p>Use a command similar to the following example to apply a label to an application that exists in your account. Substitute your user key and the <a href="/docs/apm/apis/requirements/identification-code">application id</a> in the example.</p>
<p>You can use this command to apply the same label to applications and hosts simultaneously. You can also omit the <code>"applications":</code> section if not needed.</p>
<pre><code>curl -X PUT 'https://api.newrelic.com/v2/labels.json' \
     -H "Api-Key:NEW_RELIC_USER_KEY" -i \
     -H 'Content-Type: application/json' \
     -d \
'{
  "label": {
    "category": "Production",
    "name": "Web01",
    "links": {
      "applications": [
        123456,7898765     &#x3C;---&#x3C;&#x3C; application ids
      ],
    }
  }
}'
</code></pre>
<h3>Create label: View the output [#create_label_output]</h3>
<p>The output for creating or applying a label will appear similar to the following example for a single application. The label output includes:</p>
<ul>
  <li>The full key name for the label (for example, <code>Production:Main</code>), as well as the component and name for the key</li>
  <li>The application <code>health_status</code> (red, orange, green, gray) and the application IDs for the label in each category; for example, the health status for app ID 546917 is green (the app is fine)</li>
  <li>Apps that have this label; for example, the label <code>Production:Main</code> has been applied to one application (546917)</li>
</ul>
<pre><code>{
  "label": {
    "key": "Production:Main",
    "category": "Production",
    "name": "Main",
    "application_health_status": {
      "green": [
        546917        &#x3C;---application id
      ],
      "orange": [],
      "red": [],
      "gray": []
    },
    "links": {
      "applications": [
        546917        &#x3C;--- application id
      ],
    }
  },
...
}
</code></pre>
<h3>Create label return status [#return_status]</h3>
<p>There are two possible return statuses when creating labels:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Return status</p>
      </div>
      <div>
        <p>Definition</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>201 Create</p>
      </div>
      <div>
        <p>A label was successfully created.</p>
      </div>
    </div>
    <div>
      <div>
        <p>304 Not Modified</p>
      </div>
      <div>
        <p>There was an attempt to re-create an existing label, but no change was needed or made.</p>
      </div>
    </div>
  </div>
</div>
<h2>List existing labels [#list_labels]</h2>
<p><strong>The use of the REST API for labels/tags is deprecated.</strong> For how to use tags, see <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">Tags</a>.</p>
<p>To list the labels that exist in your account, use this command:</p>
<pre><code>curl 'https://api.newrelic.com/v2/labels.json' \
     -H "Api-Key:NEW_RELIC_USER_KEY" -i
</code></pre>
<h3>View the output [#list_label_output]</h3>
<p>The output for the label includes:</p>
<ul>
  <li>The full key name for the label (for example, <code>Staging:Test1</code>), as well as the component and name for the key</li>
  <li>The application <code>health_status</code> (red, orange, green, gray) and application IDs for the label in each category</li>
  <li>Apps that have this label; for example, the label <code>Staging:Test1</code> has been applied to one application (4937390) and two hosts (3801143 and 5879721)</li>
</ul>
<p>The output for a label listing will appear similar to this:</p>
<pre><code>{
  "labels": [
    {
      "key": "Production:Main",
      "category": "Production",
      "name": "Main",
      "application_health_status": {
        "green": [],
        "orange": [],
        "red": [],
        "gray": []
      },
      "links": {
        "applications": [],
      }
    },
    {
      "key": "Staging:Test1",
      "category": "Staging",
      "name": "Test1",
      "application_health_status": {
        "green": [],
        "orange": [],
        "red": [
          4937390
        ],
        "gray": []
      },
      "links": {
        "applications": [
          4937390
        ],
      }
    },
...
}
</code></pre>
<h2>Delete labels [#delete_labels]</h2>
<p><strong>The use of the REST API for labels/tags is deprecated.</strong> For how to use tags, see <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">Tags</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>This API call will remove <strong>all</strong> instances of the label from both applications and hosts. If you want to remove a label from a specific application or host, you must use the <a href="/docs/apm/new-relic-apm/maintenance/labels-categories-organizing-your-apps-servers">New Relic UI</a>.</p>
</div>
<p>Use a command similar to the following example to delete a label from your account.</p>
<pre><code>curl -X DELETE 'https://api.newrelic.com/v2/labels/Production:Main.json' \
     -H "Api-Key:NEW_RELIC_USER_KEY" -i
</code></pre>
<p>You can also use the New Relic REST API Explorer (v2) to <a href="https://rpm.newrelic.com/api/explore/labels/delete">delete labels</a>.</p>
<h3>Deleting: view the output [#delete_label_output]</h3>
<p>The output for deleting a label will appear similar to the following example for a single application. This example will delete the label <code>Production:Main</code> from all locations where it was applied for the account's <a href="/docs/apis/rest-api-v2/requirements/rest-api-key">REST API key</a>.</p>
<p>The output for deleting labels includes:</p>
<ul>
  <li>The full key name for the label (for example, <code>Production:Main</code>), as well as the component and name for the key</li>
  <li>The application <code>health_status</code> (red, orange, green, gray) and the IDs for the label in each category; for example, the health status for app ID 546917 is green (the app is fine)</li>
  <li>Apps that have this label; for example, the label <code>Production:Main</code> has been removed from one application (546917)</li>
</ul>
<pre><code>{
  "label": {
    "key": "Production:Main",
    "category": "Production",
    "name": "Main",
    "application_health_status": {
      "green": [
        546917
      ],
      "orange": [],
      "red": [],
      "gray": []
    },
    "links": {
      "applications": [
        546917
      ],
    }
  },
  ....
}
</code></pre>
<h3>Delete return status [#return_status]</h3>
<p>There are two possible return statuses when deleting labels:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Return status</strong></p>
      </div>
      <div>
        <p><strong>Definition</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>200 OK</p>
      </div>
      <div>
        <p>An attempt to delete a label was successful.</p>
      </div>
    </div>
    <div>
      <div>
        <p>404 Not Modified</p>
      </div>
      <div>
        <p>An attempt was made to delete a non-existent label.</p>
      </div>
    </div>
  </div>
</div>
