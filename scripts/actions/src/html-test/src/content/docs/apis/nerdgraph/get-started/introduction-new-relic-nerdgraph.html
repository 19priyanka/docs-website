
<p>NerdGraph is New Relic's <a href="https://graphql.org/">GraphQL</a>-format API. Our NerdGraph is an efficient and flexible query language that lets you request exactly the data you need, without over-fetching or under-fetching. While typical REST APIs require loading from multiple URLs, NerdGraph calls get all the data you need in a single request. NerdGraph also makes it easier to evolve APIs over time and enables powerful developer tools.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If your New Relic account hosts data in the EU data center, ensure you're using <a href="/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints">EU region API endpoints</a>. To access accounts in the <a href="/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers">EU data center</a>, use <a href="https://api.eu.newrelic.com/graphiql">https://api.eu.newrelic.com/graphiql</a>.</p>
</div>
<h2>Requirements and endpoints [#authentication]</h2>
<p>To use NerdGraph, you need a New Relic <a href="/docs/apis/get-started/intro-apis/types-new-relic-api-keys">user key</a>.</p>
<p>NerdGraph endpoints:</p>
<ul>
  <li>Main endpoint: <a href="https://api.newrelic.com/graphql"><code>https://api.newrelic.com/graphql</code></a></li>
  <li>EU endpoint: For accounts with data in <a href="/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers">EU data center</a>, use <a href="https://api.eu.newrelic.com/graphiql"><code>https://api.eu.newrelic.com/graphiql</code></a>.</li>
</ul>
<p>To access the endpoint, use the following cURL command:</p>
<pre><code>curl -X POST https://api.newrelic.com/graphql \
-H 'Content-Type: application/json' \
-H 'API-Key: YOUR_NEW_RELIC_USER_KEY' \
-d '{ "query":  "{ requestContext { userId apiKey } }" } '
</code></pre>
<h2>Use the NerdGraph GraphiQL explorer [#explorer]</h2>
<p>We have a GraphiQL explorer that lets you explore our schema, find definitions, and form calls. To use the explorer:</p>
<ol>
  <li>You'll need a <a href="#authentication">New Relic user key</a>.</li>
  <li>Go to <a href="https://api.newrelic.com/graphiql">api.newrelic.com/graphiql</a> (if you have New Relic data in EU, use <a href="https://api.eu.newrelic.com/graphiql">api.eu.newrelic.com/graphiql</a>)</li>
</ol>
<h2>NerdGraph tutorials and examples [#tutorials]</h2>
<p>You can use NerdGraph to:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Functionality</p>
      </div>
      <div>
        <p>Tutorials</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Query all the <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/what-entity-new-relic">entities</a> associated with your account.</p>
      </div>
      <div>
        <p>See the <a href="/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities">entities tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Query, create, and update <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/new-relic-one-workloads-isolate-resolve-incidents-faster">workloads</a> associated with your account.</p>
      </div>
      <div>
        <p>See the <a href="/docs/nerdgraph-workloads-tutorials">workloads tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Create, manage, and add <a href="/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor">tags</a> to entities.</p>
      </div>
      <div>
        <p>For more information and examples, see the <a href="/docs/apis/graphql-api/tutorials/graphql-tagging-api-tutorial">tagging tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Query distributed tracing data.</p>
      </div>
      <div>
        <p>See the <a href="/docs/apis/graphql-api/tutorials/query-distributed-trace-data-using-graphql-api">trace data tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Fetch data when building a <a href="https://developer.newrelic.com/">New Relic One app</a>.</p>
      </div>
      <div>
        <p>See <a href="https://developer.newrelic.com/build-tools/new-relic-one-applications/query-and-store-data">New Relic One app data querying and mutations</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Understand upstream and downstream relationships with your services.</p>
      </div>
      <div>
        <p>See the <a href="/docs/apis/graphql-api/tutorials/graphql-relationships-api-tutorial">relationships tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Configure your New Relic cloud integrations.</p>
      </div>
      <div>
        <p>See <a href="/docs/cloud-integration-new-relic-graphql-api-examples">cloud integration examples</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Query <a href="/docs/using-new-relic/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data#event-data">event data</a> using NRQL.</p>
      </div>
      <div>
        <p>See the <a href="/docs/use-new-relic-graphql-query-data-nrql">NRQL tutorial</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Watch video tutorials about NerdGraph.</p>
      </div>
      <div>
        <p>Go to the New Relic University tutorial <a href="https://newrelic.wistia.com/medias/h9qfum9nh0">Intro to New Relic NerdGraph</a>. Or, go to the full online course <a href="https://learn.newrelic.com/new-relic-apis">New Relic APIs</a>.</p>
      </div>
    </div>
  </div>
</div>
<h2>NerdGraph terminology [#terminology]</h2>
<p>The New Relic GraphQL server explicitly defines the graph structure of NerdGraph. The following keywords are common to all GraphQL servers. Use these keywords to help build and understand your own queries. In addition:</p>
<ul>
  <li>To understand how NerdGraph provides unified access to all the things you monitor with New Relic, see <a href="https://docs.newrelic.com/docs/use-new-relic-graphql-api-query-entities">NerdGraph entities</a>.</li>
  <li>To understand schema definitions: From the <a href="https://api.newrelic.com/graphiql">NerdGraph GraphiQL explorer</a>, select <strong>Docs</strong>.</li>
</ul>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Term</p>
      </div>
      <div>
        <p>Definition</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Queries</p>
      </div>
      <div>
        <p><a href="https://graphql.org/learn/queries/">Queries</a> are basic requests that are intended to only fetch data, without any additional actions. Queries in the NerdGraph GraphiQL explorer are not static, meaning that you can ask for more or less data depending on your needs. For each query, you can specify exactly what data you want to retrieve, as long as it is supported by the <a href="https://graphql.org/learn/schema/">schema</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Mutations</p>
      </div>
      <div>
        <p><a href="https://graphql.org/learn/queries/#mutations">Mutations</a> are requests that are intended to have additional actions, such as creating data or updating data on a server. Mutations require the keyword <code>mutation</code>, as well as the <code>name</code> of the mutation.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Type</p>
      </div>
      <div>
        <p>Data in GraphQL is organized into types. Types can be <a href="https://graphql.org/learn/schema/#scalar-types">scalars</a> (like strings, numbers, or booleans) or object types.</p>
        <p>An <a href="https://graphql.org/learn/schema/#object-types-and-fields">object type</a> is a custom type made up of a collection of fields. For example, an object type called <code>User</code> may represent a user in a system.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Field</p>
      </div>
      <div>
        <p>A <a href="https://graphql.org/learn/schema/#object-types-and-fields">field</a> represents a piece of information on an object type that can be queried. Fields can be scalars, lists, or objects. For example, a <code>User</code> object type could have a string field called <code>name</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Interface</p>
      </div>
      <div>
        <p>An <a href="https://graphql.org/learn/schema/#interfaces">interface</a> is an abstract type that represents a collection of common fields that other object types can <code>implement</code>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Make queries with the explorer [#make-query]</h2>
<p>You can make queries with the <a href="https://api.newrelic.com/graphiql">NerdGraph GraphiQL explorer</a>. The explorer provides built-in schema definitions and features, including auto-complete and query validation.</p>
<p>In GraphQL, you ask for specific information in the graph structure of New Relic's data. You can follow the nodes of the graph to query exactly the data that you want.</p>
<p>New fields are added seamlessly, and old fields can be marked as deprecated, which removes them from documentation and allows an eventual, graceful shutdown of that field.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1hY2NvdW50LXVzZXIifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlF1ZXJ5IGFjY291bnQgYSBOZXcgUmVsaWMgdXNlciBjYW4gYWNjZXNzIn1d">
    <div data-prop-text="title">Query account a New Relic user can access</div>
    <p>You can query for the name of an account that an <code>actor</code> (a New Relic authorized user) has access to:</p>
    <pre><code>query {
   actor {
      account(id: YOUR_ACCOUNT_ID) {
         name
      }
   }
}

</code></pre>
    <pre><code>
{
  "data": {
      "actor": {
         "account": {
            "name": "Data Nerd"
         }
      }
   }
}

</code></pre>The response will mirror the query structure you defined in the request, making it easy to ask for the specific data that you want.
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1tdWx0aXBsZS1yZXF1ZXN0cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUXVlcnkgdXNlciwgYWNjb3VudCwgYW5kIE5SUUwgaW4gb25lIE5lcmRHcmFwaCBHcmFwaGlRTCByZXF1ZXN0In1d">
    <div data-prop-text="title">Query user, account, and NRQL in one NerdGraph GraphiQL request</div>
    <p>The graph structure shows its capabilities when queries become more complex. For example, you can query for user information, account information, and make a NRQL query with one request. With REST API, this would take three different requests to three different endpoints.</p>
    <pre><code>query {
   actor {
      account(id: YOUR_ACCOUNT_ID) {
         name
         nrql(query: "SELECT * FROM Transaction") {
            results
         }
      }
      user {
         name
         id
      }
   }
}

</code></pre>
  </div>
</div>
