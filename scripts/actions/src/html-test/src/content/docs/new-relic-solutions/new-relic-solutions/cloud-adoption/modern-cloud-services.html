
<p>Whether you've just completed your cloud migration, have been using cloud based services for awhile, or have always been in the cloud, you may find yourself deploying or running technologies and services that are new and modern.</p>
<p>These modern technologies could be container solutions such as Docker, Kubernetes, and Amazon AWS ECS or Fargate for example. Or they could be serverless services such as AWS Lambda, Microsoft Azure, or Google Cloud Platform Functions, cloud based databases, or any number of cloud services that abstract the service away from an operations-maintained infrastructure.</p>
<p>In these situations you still want to monitor, query, and alert on the performance and usage metrics for both modern technologies and cloud-based services, allowing for faster deployments, the ability to adopt new services, better business decisions, and to expand horizons. This doc demonstrates how to use the <a href="https://newrelic.com/products">New Relic Platform</a> to monitor your modern technologies and cloud services.</p>
<h2>1. Identify applications, cloud services, infrastructure, and technologies [#identify-apps-infrastructure]</h2>
<p>Determine the components you need to monitor by answering the following the questions:</p>
<ul>
  <li>What cloud-based applications do I have?</li>
  <li>What are the underlying cloud-based services, technologies, and infrastructure supporting those applications?</li>
</ul>
<p>When you have a <a href="/docs/identify-application-dependencies-inventory">full understanding of your architecture</a>, you reduce the possibility of missing dependencies during your migration.</p>
<h2>2. Deploy Infrastructure [#deploy-infrastructure]</h2>
<p>After reviewing the <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure">requirements</a> for New Relic Infrastructure, <a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/installation">install the Infrastructure agent</a> on the hosts you identified so you can start to monitor your cloud services.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If you use <a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/config-management-tools">Ansible, Chef, or Puppet</a> for automation, you can use those tools to deploy Infrastructure agents to your hosts.</p>
</div>
<h2>3. Configure cloud integrations [#configure-integrations]</h2>
<p>Once your applications are migrated to the cloud and you start to integrate new cloud services, you can use New Relic to monitor and report data <strong>about</strong> your cloud services, offering you a comprehensive view of your entire architecture in one place.</p>
<p>To get started configuring cloud service integrations, link your cloud service provider account with New Relic, depending on whether you use <a href="https://docs.newrelic.com/docs/infrastructure/amazon-integrations/aws-integrations-list">Amazon Web Services (AWS)</a>, <a href="https://docs.newrelic.com/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list">Microsoft Azure</a>, or <a href="https://docs.newrelic.com/docs/integrations/google-cloud-platform-integrations">Google Cloud Platform (GCP)</a>.</p>
<h2>4. Track data on your dashboards [#integration-dashboards]</h2>
<p><a href="/docs/integrations">New Relic Infrastructure integrations</a> auto-populate dashboards with metrics from cloud providers like AWS, Azure, and GCP so you can track the data that is critical to your cloud adoption success.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If you adopt a hybrid cloud of multiple cloud providers, New Relic can provide a <a href="#insights-dashboards">holistic perspective</a> that is agnostic to cloud providers.</p>
</div>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXdzLWVjMi1kYXNoYm9hcmQifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkFXUyBFQzIgbW9uaXRvcmluZyBpbnRlZ3JhdGlvbiBkYXNoYm9hcmQifV0=">
    <div data-prop-text="title">AWS EC2 monitoring integration dashboard</div>
    <p>In this default dashboard for the <a href="/docs/integrations/amazon-integrations/aws-integrations-list/aws-ec2-monitoring-integration">AWS EC2 monitoring integration</a>, New Relic captures metrics for EC2 instances per region, instance state, and instance type. The dashboard also shows inventory for different software packages and configurations that are installed on those instances.</p>
    <p>
      <img src="./images/AWSEC2-Dashboard.png" alt="AWS EC2 dashboard example" title="AWS EC2 dashboard example">
    </p>
    <p><strong><a href="https://infrastructure.newrelic.com">infrastructure.newrelic.com</a> > Integrations > Amazon Web Services</strong>: View AWS EC2 data on the default dashboard for the AWS EC2 monitoring integration.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiYXp1cmUtdm1zLWRhc2hib2FyZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQXp1cmUgVk1zIG1vbml0b3JpbmcgaW50ZWdyYXRpb24gZGFzaGJvYXJkIn1d">
    <div data-prop-text="title">Azure VMs monitoring integration dashboard</div>
    <p>The default <a href="/docs/integrations/microsoft-azure-integrations/azure-integrations-list/azure-vms-monitoring-integration">Azure virtual machine integration</a> dashboard shows data for VM sizes, VMs per region, and VMs per resource group.</p>
    <p>
      <img src="./images/screen-Azure-VM-dashboard.png" alt="Integrations - Azure dashboard" title="Integrations - Azure dashboard">
    </p>
    <p><strong><a href="https://infrastructure.newrelic.com">infrastructure.newrelic.com</a> > Integrations > Microsoft Azure</strong>: View Azure virtual machine data on the default dashboard for the Azure VMs monitoring integration.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZ2NwLWRhc2hib2FyZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiR0NQIENvbXB1dGUgRW5naW5lIG1vbml0b3JpbmcgaW50ZWdyYXRpb24gZGFzaGJvYXJkIn1d">
    <div data-prop-text="title">GCP Compute Engine monitoring integration dashboard</div>
    <p>In this default dashboard for the Google Cloud Platform, New Relic captures metrics for instances per zone, instance status, firewall dropped packets, reserved cores, and disk throttled operations. The dashboard also shows inventory for different software packages and configurations that are installed on those instances.</p>
    <p>
      <img src="./images/GCPComputeEngineDashboard.png" alt="GCP dashboard example" title="GCP dashboard example">
    </p>
    <p><strong><a href="https://infrastructure.newrelic.com">infrastructure.newrelic.com</a> > Integrations > Google Cloud Platform</strong>: View GCP Compute Engine data on the default dashboard for the GCP Compute Engine monitoring integration.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibW9kZXJuLWRhc2hib2FyZCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRXhhbXBsZSBtb2Rlcm4gYW5kIGNsb3VkIHNlcnZpY2VzIGRhc2hib2FyZCJ9XQ==">
    <div data-prop-text="title">Example modern and cloud services dashboard</div>
    <p>In this example dashboard, three different cloud vendors, modern technologies, cloud services, infrastructure instance locations, and DevOps widgets are combined for an overall view.</p>
    <p>
      <img src="./images/ModernAndCloudServiceDashboardNew.png" alt="Monitor cloud services workflow" title="Monitor cloud services workflow">
    </p>
    <p><strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Dashboards</strong>: Here is an example of a dashboard with data about vendors, technologies, services, instances, and other important details.</p>
  </div>
</div>
<h2>5. Add alerts for cloud-based metrics [#alerts]</h2>
<p>When monitoring cloud-based services, it is essential to keep track of all the changes happening with the system by <a href="https://docs.newrelic.com/docs/alerts/new-relic-alerts/getting-started/introduction-new-relic-alerts">alerting</a> on them. Integrations with New Relic Infrastructure allow you to <a href="/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries">create alerts</a> on the metrics that are the most important to you.</p>
<p>Here is an example of a <a href="/docs/alerts/new-relic-alerts/defining-conditions/create-baseline-alert-conditions">baseline alert</a> that will notify you based on the number of requests received on all ALB systems for the <a href="/docs/integrations/amazon-integrations/aws-integrations-list/aws-alb-monitoring-integration">AWS Elastic Load Balancing (ALB) monitoring integration</a>:</p>
<p>
  <img src="./images/screen-NRQL-alert-condition.png" alt="NRQL alert condition" title="NRQL alert condition">
</p>
<p><strong><a href="https://alerts.newrelic.com">alerts.newrelic.com</a> > Alert policies > (selected policy) > Alert conditions</strong>: Create a NRQL baseline alert to monitor the number of requests received your ALB systems.</p>
<h2>6. Set up additional monitoring [#additional-monitoring]</h2>
<p>In addition to monitoring cloud services, you can deploy New Relic APM, Browser, Mobile, and Synthetics to gain full-stack visibility into all of the components of your applications:</p>
<ul>
  <li>Use <a href="https://docs.newrelic.com/docs/apm">New Relic APM</a> to report application-tier performance metrics.</li>
  <li>Use <a href="https://docs.newrelic.com/docs/browser">New Relic Browser</a> to report front-end web metrics.</li>
  <li>Use <a href="https://docs.newrelic.com/docs/mobile-monitoring">New Relic Mobile</a> to report front-end mobile app metrics.</li>
  <li>Use <a href="https://docs.newrelic.com/docs/synthetics">New Relic Synthetics</a> to monitor websites, critical business transactions, and API endpoints.</li>
</ul>
<h2>7. CI/CD Pipeline integration [#insights-dashboards]</h2>
<p>It's important to track deployments and how the impact of the code and infrastructure changes you make affect customer experience. <a href="https://docs.newrelic.com/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">New Relic APM</a>'s deployment markers feature allows you to <a href="https://docs.newrelic.com/docs/apm/new-relic-apm/maintenance/record-deployments">record deployments</a> for each application.</p>
<p>A deployment marker is an event indicating that a deployment happened, and it's paired with metadata available from your SCM system (such metadata typically includes the user, revision, change log, etc.). APM displays a vertical line, or marker, on charts and graphs at the deployment event's timestamp. When you hover over the line, APM displays the associated metadata for that deployment.</p>
<p>Tracking deployments is an invaluable way to determine the root cause of immediate, long-term, or gradual degradations in your application.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p><strong>Recommendation:</strong> Make <strong>POST</strong> requests to the New Relic REST API as the final step of a successful CI/CD deployment as described in the <a href="https://docs.newrelic.com/docs/apm/new-relic-apm/maintenance/record-deployments">API documentation</a>.</p>
</div>
<p>The following tools have integrations or plugins available to help automate CI/CD deployments:</p>
<ul>
  <li><a href="https://supermarket.chef.io/cookbooks/newrelic">Chef</a> (see <code>newrelic_deployment</code>)</li>
  <li><a href="https://wiki.jenkins.io/display/JENKINS/New+Relic+Deployment+Notifier+Plugin">Jenkins</a></li>
  <li><a href="https://docs.ansible.com/ansible/latest/modules/newrelic_deployment_module.html">Ansible</a></li>
</ul>
