
<p>Analyzing metrics collected by <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">New Relic Infrastructure</a> allows you to uncover opportunities to optimize your organization's operating environment, whether it is a physical datacenter or thousands of instances.</p>
<ul>
  <li>Using too few resources in key areas can lead to errors or performance problems.</li>
  <li>Using too many resources can lead to unneeded costs.</li>
</ul>
<p>For example, you may find that you can redistribute application instances to hosts that have extra memory and CPU resources, and terminate or repurpose the hosts those instances came from.</p>
<p>Use Infrastructure to ensure that your team is providing the right amount of compute power to meet customer expectations at appropriate costs.</p>
<h2>Prerequisites</h2>
<p>This tutorial assumes you have reviewed New Relic's <a href="/docs/establish-objectives-baselines">Establish objectives and baselines</a> tutorial.</p>
<h2>1. Evaluate your environment's current efficiency [#efficiency]</h2>
<p>Use the Cluster Explorer to observe performance and dependencies across any Kubernetes environment, and to troubleshoot failures, bottlenecks, and other abnormal behavior—helping ensure that their applications are always available, running fast, and doing what they’re supposed to do. You get an overall view of the health of each cluster, and can drill down as needed for details on the state of a Kubernetes object, including a view of key metrics and logs. Start at the outer ring to view nodes of the cluster, with each node displaying CPU, memory, and storage performance metrics that provide at-a-glance understanding of the node’s overall health. Specify a lower and upper RAM and CPU limits for each container using <a href="https://blog.newrelic.com/engineering/kubernetes-request-and-limits/">requests and limits</a>.</p>
<p>
  <img src="./images/infra-hosts-optimize_0.png" alt="New Relic - infrastructure hosts optimize" title="infra-hosts-optimize.png">
</p>
<p><strong><a href="https://one.newrelic.com">one.newrelic.com</a> > Infrastructure > Hosts:</strong> To evaluate your operating environment's efficiency, review the Infrastructure metrics (including averages that show as dotted lines), watch for outliers, and expand and sort the table's <strong>Memory used</strong> column.</p>
<p>If you are using on-premise hosts (or Docker without Kubernetes), you can see the health of your hosts and containers in Infrastructure. Again, focus on CPU %, Load Average and Memory Used %. These metrics provide a good overview of your environment’s capacity.</p>
<h2>2. Identify underutilized hosts and applications [#utilization]</h2>
<p>As you identify hosts that have extra capacity, start with memory usage, as that is a common limiting factor:</p>
<ol>
  <li>From the Infrastructure <strong>Hosts</strong> page, expand <em>[<strong>Expand</strong> icon]</em> the table, then sort the <strong>Memory used</strong> column in descending order.</li>
  <li>To identify good redistribution candidates, look for hosts using a small amount of memory that have a small number of applications deployed on them.</li>
</ol>
<p>Also consider the health of an application before moving it to a different host.</p>
<ol>
  <li>To ensure that an application has predictable performance, use <a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">New Relic APM</a>.</li>
  <li>From the <a href="/docs/apm/applications-menu/monitoring/apm-overview-page">APM <strong>Overview</strong> page</a>, track metrics for <a href="/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction">Apdex (user satisfaction)</a> and average response time for <a href="/docs/apm/transactions/intro-transactions/transactions-new-relic-apm">transactions</a>.</li>
  <li>Review other app performance details from the <a href="/docs/apm/applications-menu">APM UI</a>.</li>
  <li>Stabilize applications that are volatile before introducing other variables into their runtime performance.</li>
</ol>
<h2>3. Use the Cloud Optimize Nerdpack [#downsize]</h2>
<p><a href="https://github.com/newrelic/nr1-cloud-optimize">Cloud Optimize</a> analyzes your cloud environment using the New Relic Infrastructure cloud integrations(for AWS, GCP, Azure and Alibaba). It compares the size of your instances to their utilization, identifying resources that are sized larger than needed. Cloud Optimize will estimate your savings by optimizing resource size. Installation details are on <a href="https://github.com/newrelic/nr1-cloud-optimize">GitHub</a>.</p>
<p>
  <img src="./images/new-relic-cloud-optimize-nerdpack.png" alt="New Relic cloud optimize nerdpack" title="new-relic-cloud-optimize-nerdpack.png">
</p>
