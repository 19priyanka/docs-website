
<p><a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic</a> includes an integration for monitoring Amazon Kinesis Data Streams. This document explains how to activate the integration and describes the data that can be reported.</p>
<h2>Features</h2>
<p><a href="http://docs.aws.amazon.com/streams/latest/dev/introduction.html">Amazon Kinesis Data Streams</a> is a platform for streaming data on AWS, making it easy to load and analyze data in real time. It also gives you the ability to build custom streaming data applications for specialized needs.</p>
<p>New Relic's Kinesis Data Streams integration gathers metric and configuration data on all of the streams associated with your account.</p>
<p>Data collected includes bytes put to and retrieved from the stream, records put and retrieved, time taken by operations, and other <a href="#metrics">metrics</a>. You can view your Kinesis Data Streams data in pre-built dashboards and create custom queries and charts in New Relic.</p>
<p>You also have an option for <a href="#polling">enabling shard data collection</a>. AWS data records are sequentially processed in shards, which are in turn grouped in streams. The number of shards in a stream determines the total data read and write capacity of the service.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable this integration follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure">Connect AWS services to New Relic</a>.</p>
<h2>Polling and configuration [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>Default <a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">polling</a> information for the Amazon Kinesis Data Streams integration:</p>
<ul>
  <li>New Relic polling interval: 15 minutes</li>
  <li>Amazon CloudWatch data interval: 1 minute</li>
</ul>
<p>Shard data: To collect shard data, enable <strong>Collect shards data</strong> in the integration's configuration options in the UI.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>If you enable collecting shard data, this will increase the number of API calls to your AWS CloudWatch service. There will be seven calls per shard per polling interval.</p>
</div>
<h2>Find and use data [#find-data]</h2>
<p>To find your integration data, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > AWS</strong> and select one of the Kinesis Data Streams integration links.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>QueueSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>. The <code>provider</code> value includes:</p>
<ul>
  <li>Stream metrics: <code>KinesisStream</code></li>
  <li>Shard metrics: <code>KinesisStreamShard</code></li>
</ul>
<p>For more on how to use your data, see <a href="https://docs.newrelic.com/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand and use integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects the following metrics. For additional information, see Amazon's documentation for <a href="http://docs.aws.amazon.com/streams/latest/dev/monitoring-with-cloudwatch.html">monitoring Amazon Kinesis Data Streams</a>.</p>
<p>This integration collects the following metrics:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>getRecordsBytes</code></p>
      </div>
      <div>
        <p>The number of bytes retrieved from the Kinesis stream, measured over the specified time period. Minimum, Maximum, and Average statistics represent the bytes in a single <code>GetRecords</code> operation for the stream in the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>getRecordsIteratorAgeMilliseconds</code></p>
      </div>
      <div>
        <p>The age of the last record in all <code>GetRecords</code> calls made against an Kinesis stream, measured over the specified time period, in milliseconds. Age is the difference between the current time and when the last record of the <code>GetRecords</code> call was written to the stream. The Minimum and Maximum statistics can be used to track the progress of Kinesis consumer applications. A value of zero indicates that the records being read are completely caught up with the stream.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>getRecordsLatency</code></p>
      </div>
      <div>
        <p>The time taken in milliseconds per <code>GetRecords</code> operation, measured over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>getRecordsRecords</code></p>
      </div>
      <div>
        <p>The number of records retrieved from the shard, measured over the specified time period. Minimum, Maximum, and Average statistics represent the records in a single <code>GetRecords</code> operation for the stream in the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>incomingBytes</code></p>
      </div>
      <div>
        <p>The number of bytes successfully put to the Kinesis stream over the specified time period. This metric includes bytes from <code>PutRecord</code> and <code>PutRecords</code> operations. Minimum, Maximum, and Average statistics represent the bytes in a single put operation for the stream in the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>incomingRecords</code></p>
      </div>
      <div>
        <p>The number of records successfully put to the Kinesis stream over the specified time period. This metric includes record counts from <code>PutRecord</code> and <code>PutRecords</code> operations. Minimum, Maximum, and Average statistics represent the records in a single put operation for the stream in the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordBytes</code></p>
      </div>
      <div>
        <p>The number of bytes put to the Kinesis stream using the <code>PutRecord</code> operation over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordLatency</code></p>
      </div>
      <div>
        <p>The time taken in milliseconds per <code>PutRecord</code> operation, measured over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordSuccess</code></p>
      </div>
      <div>
        <p>The number of successful <code>PutRecord</code> operations per Kinesis stream, measured over the specified time period. Average reflects the percentage of successful writes to a stream.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordsBytes</code></p>
      </div>
      <div>
        <p>The number of bytes put to the Kinesis stream using the <code>PutRecords</code> operation over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordsLatency</code></p>
      </div>
      <div>
        <p>The time taken in milliseconds per <code>PutRecords</code> operation, measured over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordsRecords</code></p>
      </div>
      <div>
        <p>The number of successful records in a <code>PutRecords</code> operation per Kinesis stream, measured over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>putRecordsSuccess</code></p>
      </div>
      <div>
        <p>The number of <code>PutRecords</code> operations where at least one record succeeded, per Kinesis stream, measured over the specified time period.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>readProvisionedThroughputExceeded</code></p>
      </div>
      <div>
        <p>The number of GetRecords calls throttled for the stream over the specified time period. The most commonly used statistic for this metric is Average.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>writeProvisionedThroughputExceeded</code></p>
      </div>
      <div>
        <p>The number of records rejected due to throttling for the stream over the specified time period. This metric includes throttling from <code>PutRecord</code> and <code>PutRecords</code> operations. The most commonly used statistic for this metric is Average.</p>
        <p>When the Minimum statistic has a non-zero value, records were being throttled for the stream during the specified time period.</p>
        <p>When the Maximum statistic has a value of 0 (zero), no records were being throttled for the stream during the specified time period.</p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>Tags (indicated with an <strong>*</strong>) are only fetched when <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations#collect_tags">tags collection</a> is on.</p>
</div>
<h3>aws/kinesis/stream</h3>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>awsRegion</code></p>
        </div>
        <div>
          <p>The AWS region that the stream was provisioned in.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>streamName</code></p>
        </div>
        <div>
          <p>The name of the stream.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>status</code></p>
        </div>
        <div>
          <p>The current status of the stream being described (CREATING, DELETING, ACTIVE, UPDATING).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>retentionPeriodHours</code></p>
        </div>
        <div>
          <p>The current retention period, in hours.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>openShardsCount</code></p>
        </div>
        <div>
          <p>Number of opened shards.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>closedShardsCount</code></p>
        </div>
        <div>
          <p>Number of closed shards.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tags</code>*</p>
        </div>
        <div>
          <p>Stream tags.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>aws/kinesis/shard</h3>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>awsRegion</code></p>
        </div>
        <div>
          <p>The AWS region that the shard was provisioned in.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>streamName</code></p>
        </div>
        <div>
          <p>The name of the stream.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>shardId</code></p>
        </div>
        <div>
          <p>The unique identifier of the shard within the stream.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>parentShardId</code></p>
        </div>
        <div>
          <p>The shard ID of the shard's parent.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>adjacentParentShardId</code></p>
        </div>
        <div>
          <p>The shard ID of the shard adjacent to the shard's parent.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>startingHashKey</code></p>
        </div>
        <div>
          <p>The starting hash key of the hash key range.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>endingHashKey</code></p>
        </div>
        <div>
          <p>The ending hash key of the hash key range.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>startingSequenceNumber</code></p>
        </div>
        <div>
          <p>The starting sequence number for the range.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>endingSequenceNumber</code></p>
        </div>
        <div>
          <p>The ending sequence number for the range. Shards that are in the OPEN state have an ending sequence number of null.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tags</code>*</p>
        </div>
        <div>
          <p>Shard tags.</p>
        </div>
      </div>
    </div>
  </div>
</div>
