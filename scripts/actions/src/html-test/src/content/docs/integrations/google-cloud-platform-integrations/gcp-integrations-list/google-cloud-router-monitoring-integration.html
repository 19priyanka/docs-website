
<p><a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> include an integration for reporting your GCP Router data to our products. Here we explain how to activate the integration and what data it collects.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="https://docs.newrelic.com/docs/connect-google-cloud-platform-services-infrastructure">connect your GCP service to New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>Default <a href="/docs/integrations/google-cloud-platform-integrations/getting-started/polling-intervals-gcp-integrations">polling</a> information for the GCP Router integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
</ul>
<h2>Find and use data [#find-data]</h2>
<p>To find your integration data, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure <a href="https://infrastructure.newrelic.com/" title="Link opens in a new window."></a>> GCP</strong> and select an integration.</p>
<p>Data is attached to the following <a href="https://docs.newrelic.com/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Entity</p>
      </div>
      <div>
        <p>Event Type</p>
      </div>
      <div>
        <p>Provider</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>CloudRouter</p>
      </div>
      <div>
        <p><code>GcpRouterCloudRouterSample</code></p>
      </div>
      <div>
        <p><code>GcpRouterCloudRouter</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>NatGateway</p>
      </div>
      <div>
        <p><code>GcpRouterNatGatewaySample</code></p>
      </div>
      <div>
        <p><code>GcpRouterNatGateway</code></p>
      </div>
    </div>
  </div>
</div>
<p>For more on how to use your data, see <a href="https://docs.newrelic.com/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand and use integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects GCP Router data for CloudRouter and NatGateway.</p>
<h3>Router CloudRouter data</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Unit</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>BestReceivedRoutes</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Current number of best routes received by router.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.control.ReceiveIntervals</code></p>
      </div>
      <div>
        <p>Milliseconds</p>
      </div>
      <div>
        <p>BFD control packets receive intervals.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.control.ReceivedPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of control packets received from this BFD session.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.control.RejectedPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of control packets rejected, from this BFD session.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.control.TransmitIntervals</code></p>
      </div>
      <div>
        <p>Milliseconds</p>
      </div>
      <div>
        <p>BFD control packets transmit intervals.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.control.TransmittedPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of control packets transmitted from this BFD session.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bfd.SessionUp</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Indicator for successful BFD session establishment.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bgp.ReceivedRoutes</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Current number of routes received on a bgp session.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bgp.SentRoutes</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Current number of routes sent on a bgp session.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bgp.SessionUp</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Indicator for successful bgp session establishment.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>BgpSessionsDown</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of BGP sessions on the router that are down.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>BgpSessionsUp</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of BGP sessions on the router that are up.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>RouterUp</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Router status, up or down.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>SentRoutes</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Current number of routes sent by router.</p>
      </div>
    </div>
  </div>
</div>
<h3>Router NatGateway data</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Unit</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>nat.AllocatedPorts</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of ports allocated to all VMs by the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.ClosedConnections</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Count of connections closed over the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.DroppedReceivedPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Count of received packets dropped by the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.NewConnections</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Count of new connections created over the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.PortUsage</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Maximum number of connections from VM to a single internet endpoint (IP:port).</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.ReceivedBytes</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Count of bytes received (Internet -> VMs) via the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.ReceivedPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Count of packets received (Internet -> VMs) via the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.SentBytes</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Count of bytes sent (VMs -> Internet) over the NAT gateway.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nat.SentPackets</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Count of packets sent (VMs -> Internet) over the NAT gateway.</p>
      </div>
    </div>
  </div>
</div>
