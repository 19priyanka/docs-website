
<h2>Problem</h2>
<p>You want to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.</p>
<p>
  <img src="./images/docker-logo-crop.png" alt="Docker icon" title="Docker icon"> <strong>Docker:</strong> If you configure the <code>http://localhost:8080/metrics</code> endpoint, the integration will also scrape its own metrics.
</p>
<p>
  <img src="./images/img-integration-k8s%402x.png" alt="img-integration-k8s@2x.png" title="img-integration-k8s@2x.png"> <strong>Kubernetes:</strong> By default, the scraper will also scrape its own metrics.
</p>
<h2>Solution</h2>
<p>To learn more about what is happening inside the scraper, use the following metrics for your Docker or Kubernetes integration with New Relic:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>nr_stats_targets_total</code></p>
      </div>
      <div>
        <p>The total number of scraped endpoints.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nr_stats_targets_failed_fetch</code></p>
      </div>
      <div>
        <p>The number of endpoints where scraping is failing.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nr_stats_metrics_total</code></p>
      </div>
      <div>
        <p>The total number of scraped metrics.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>nr_stats_metrics_total_timeseries</code></p>
      </div>
      <div>
        <p>The total number of scraped time series.</p>
      </div>
    </div>
  </div>
</div>
