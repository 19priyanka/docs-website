
<p>This page provides an overview of New Relic's Prometheus integration options and how they work. The information here will help you choose from among our options based on which one best fits your unique business needs.</p>
<h2>Prometheus OpenMetrics or remote write integration? [#pomi-remote_write]</h2>
<p>We currently offer two integration options: <a href="#remote-write">Prometheus remote write integration</a> and <a href="#OpenMetrics">Prometheus OpenMetrics integration for Kubernetes or Docker</a>. We recommend getting started with the remote write integration if you already have a Prometheus server install base. If you find it hard to manage your Prometheus cluster, or if you are getting started with integrating Prometheus Metrics, you should use OpenMetrics.</p>
<div data-component="Table" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJzdHlsZSIsInZhbHVlIjp7InR5cGUiOiJtZHhWYWx1ZUV4cHJlc3Npb24iLCJ2YWx1ZSI6Insgd2lkdGg6IFwiODAwcHhcIiB9IiwicG9zaXRpb24iOnsic3RhcnQiOnsibGluZSI6MzMsImNvbHVtbiI6MTQsIm9mZnNldCI6MjA2NH0sImVuZCI6eyJsaW5lIjozMywiY29sdW1uIjozNCwib2Zmc2V0IjoyMDg0fX19fV0=">
  <div>
    <div>
      <div></div>
      <div>
        <p><a href="#remote-write">Prometheus remote write integration</a></p>
      </div>
      <div>
        <p><a href="#OpenMetrics">Prometheus OpenMetrics for Kubernetes or Docker</a></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>Benefits</strong></p>
      </div>
      <div>
        <ul>
          <li>Use this if you currently have Prometheus servers and want an easy way to access your combined metrics from New Relic. It only takes one line of yaml in your Prometheus configuration.</li>
          <li>Federation: Allows you to combine data from multiple servers into a single source.</li>
          <li>Prometheus <a href="/docs/integrations/prometheus-integrations/install-configure/prometheus-high-availability-ha">High Availability support</a>: We de-duplicate data from HA-pairs on ingest.</li>
        </ul>
      </div>
      <div>
        <ul>
          <li>Use this if you’re looking for an alternative or replacement to a Prometheus server that stores all your metrics directly in New Relic. You won’t have to manage any Prometheus servers yourself.</li>
          <li>You don't need local storage.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Keep in mind</strong></p>
      </div>
      <div>
        <ul>
          <li>You will still need to manage your Prometheus servers, although you should be able to reduce your storage retention, and there’ll be fewer query loads to the server.</li>
        </ul>
      </div>
      <div>
        <ul>
          <li>Slightly more complex setup.</li>
          <li>No support for High Availability replicas.</li>
          <li>The Kubernetes operator is not available for enhanced operations automation.</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Recommendations</strong></p>
      </div>
      <div>
        <ul>
          <li>Evaluate your observability needs to manage your data volumes better:
            <ul>
              <li>The <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config">scrape interval</a> is the biggest factor influencing data volumes: select it based on your observability needs. For example, changing from 15s (default value) to 30s can reduce data volumes by 50%.</li>
              <li>Set your filters and configure data to target (see <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_action">metrics or targets</a>).</li>
            </ul>
          </li>
          <li>Balance remote write(s) between one or more new relic accounts or sub-accounts to manage rate limits.</li>
        </ul>
      </div>
      <div></div>
    </div>
  </div>
</div>
<p>Regardless of the option you chose, with our Prometheus integrations:</p>
<ul>
  <li>You can use Grafana or other query tools via New Relic's Prometheus' API.</li>
  <li>You benefit from more nuanced security and user management options as part of <a href="/docs/new-relic-one/use-new-relic-one/get-started/introduction-new-relic-one">New Relic One</a>.</li>
  <li>The <a href="/docs/telemetry-data-platform/ingest-manage-data/get-started/get-know-telemetry-data-platform">New Relic Telemetry Data Platform</a> can be the centralized long-term data store for all your Prometheus metrics, allowing you to observe all your data in one place.</li>
  <li>You can execute queries to scale, supported by New Relic.</li>
</ul>
<h2>Prometheus remote write integration [#remote-write]</h2>
<p>The Prometheus remote write integration allows you to forward <a href="/docs/telemetry-data-platform/get-started/capabilities/get-know-telemetry-data-platform">telemetry data</a> from your existing Prometheus servers to New Relic. Once integrated, you can leverage the full range of options for setup and management, from raw data to queries, dashboards, and more.</p>
<h3>Scale your data and get moving quickly [#remote-write-scale]</h3>
<p>With the Prometheus remote write integration, you can:</p>
<ul>
  <li>Store and visualize crucial metrics on a single platform</li>
  <li>Combine and group data across your entire software stack</li>
  <li>Get a fully connected view of the relationship between data about your software stack and the behaviors and outcomes you’re monitoring</li>
  <li>Connect your <a href="/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql">Grafana dashboards</a> (optional).</li>
</ul>
<p>
  <img src="./images/Prometheus-remote-write-dashboard.png" alt="View of a remote write dashboard screen after integration. " title="Prometheus Remote Write Monitoring dashboard">
</p>
<p>Prometheus remote write dashboard</p>
<h3>How it works [#remote-write-how-works]</h3>
<p><a href="https://newrelic.com/signup">Signup for New Relic</a> is fast and free — we won't even ask for a credit card number. Once logged in, you can get data flowing with a few simple steps:</p>
<ol>
  <li>Generate your <code>remote_write</code> URL.</li>
  <li>Add the new <code>remote_write</code> URL to the configuration file for your Prometheus server.</li>
  <li>Restart your Prometheus server.</li>
  <li>Check for your data.</li>
  <li>Query and explore!</li>
</ol>
<div data-component="ButtonLink" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJyb2xlIiwidmFsdWUiOiJidXR0b24ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidG8iLCJ2YWx1ZSI6Ii9kb2NzL2ludGVncmF0aW9ucy9wcm9tZXRoZXVzLWludGVncmF0aW9ucy9pbnN0YWxsLWNvbmZpZ3VyZS9zZXQteW91ci1wcm9tZXRoZXVzLXJlbW90ZS13cml0ZS1pbnRlZ3JhdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJsaW5rIn1d">
  <p>Read the setup docs</p>
</div>
<div data-component="ButtonLink" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJyb2xlIiwidmFsdWUiOiJidXR0b24ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidG8iLCJ2YWx1ZSI6Imh0dHBzOi8vb25lLm5ld3JlbGljLmNvbS9sYXVuY2hlci9ucjEtY29yZS5zZXR0aW5ncz9wYW5lPWV5SnVaWEprYkdWMFNXUWlPaUp3Y205dFpYUm9aWFZ6TFhKbGJXOTBaUzEzY21sMFpTMXBiblJsWjNKaGRHbHZiaTF1WlhKa2JHVjBjeTV6WlhSMWNDMXdjbTl0WlhSb1pYVnpJbjA9In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InZhcmlhbnQiLCJ2YWx1ZSI6InByaW1hcnkifV0=">
  <p>Add Prometheus data</p>
</div>
<h3>Remote write compatibility and requirements [#remote-write-compatibility]</h3>
<p>New Relic supports the Prometheus remote write integration for Prometheus versions 2.15.0 or newer.</p>
<h2>Prometheus OpenMetrics integrations [#OpenMetrics]</h2>
<p>New Relic’s Prometheus OpenMetrics integrations for Docker and Kubernetes allow you to scrape <a href="https://prometheus.io/">Prometheus</a> endpoints and send the data to New Relic, so you can store and visualize crucial metrics on one platform.</p>
<p>With these integrations, you can:</p>
<ul>
  <li>Automatically identify a static list of endpoints.</li>
  <li>Collect metrics that are important to your business.</li>
  <li>Query and visualize this data in the New Relic UI.</li>
  <li>Connect your <a href="/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql">Grafana dashboards</a> (optional).</li>
</ul>
<p>
  <img src="./images/OpenMetrics-Kube-for-Stitched-Path.png" alt="View of an OpenMetrics dashboard screen after integration. " title="OpenMetrics data view">
</p>
<p>Kubernetes OpenMetrics dash</p>
<h3>Reduce overhead and scale your data [#OpenMetrics-reduce-overhead]</h3>
<p>Collect, analyze, and visualize your metrics data from any source, alongside your telemetry data, so you can correlate issues all in one place. Out-of-the-box integrations for open-source tools like Prometheus make it easy to get started, and eliminate the cost and complexity of hosting, operating, and managing additional monitoring systems.</p>
<p>Prometheus OpenMetrics integrations gather all your data in one place, and New Relic stores the metrics from Prometheus. This integration helps remove the overhead of managing storage and availability of the Prometheus server.</p>
<p>To learn more about how to scale your data without the hassles of managing Prometheus and a separate dashboard tool, see New Relic's Prometheus OpenMetrics integration <a href="https://blog.newrelic.com/product-news/how-to-monitor-prometheus-metrics/">blog post</a>.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiT3Blbk1ldHJpY3MtS3ViZXJuZXRlcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiS3ViZXJuZXRlcyJ9XQ==">
    <div data-prop-text="title">Kubernetes</div>
    <p>In a Kubernetes environment, New Relic automatically discovers the endpoints in the same way that the Prometheus Kubernetes collector does it. The integration looks for the <code>prometheus.io/scrape</code> annotation or label. You can also identify additional static endpoints in the configuration.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiT3Blbk1ldHJpY3MtRG9ja2VyIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJEb2NrZXIifV0=">
    <div data-prop-text="title">Docker</div>
    <p>The Prometheus OpenMetrics integration gathers all your data in one place, and New Relic stores the metrics from Prometheus. This integration helps remove the overhead of managing storage and availability of the Prometheus server.</p>
  </div>
</div>
<h3>OpenMetrics integrations compatibility and requirements [#OpenMetrics-Compatibility]</h3>
<p>For Kubernetes and Docker OpenMetrics integrations, you should be aware of the following compatibility and requirements information.</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiT3Blbk1ldHJpY3MtS3ViZXJuZXRlcy1Db21wYXRpYmlsaXR5In0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJLdWJlcm5ldGVzIn1d">
    <div data-prop-text="title">Kubernetes</div>
    <p>New Relic has contributed the Prometheus integration to the open source community under an Apache 2.0 license. This integration supports Prometheus protocol version 2 and Kubernetes versions 1.9 or higher. The integration was tested using Kubernetes 1.9, 1.11, and 1.13 on kops, GKE, and minikube.</p>
    <p>Limits apply to the metrics you send. For more details, see the <a href="https://docs.newrelic.com/docs/data-ingest-apis/get-data-new-relic/metric-api/metric-api-limits-restricted-attributes#requirements">New Relic metrics API documentation</a>.</p>
    <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
      <p>Recommendation: Always run the scraper with one replica. Adding more replicas will result in duplicated data.</p>
    </div>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiT3Blbk1ldHJpY3MtRG9ja2VyLUNvbXBhdGliaWxpdHkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRvY2tlciJ9XQ==">
    <div data-prop-text="title">Docker</div>
    <p>New Relic has contributed the Prometheus integration to the open source community under an Apache 2.0 license. This integration supports Prometheus protocol version 2. The integration was tested using Docker 1.9, 1.11, and 1.13 on kops, GKE, and minikube.</p>
    <p>Limits apply to the metrics you send. For details, see <a href="https://docs.newrelic.com/docs/data-ingest-apis/get-data-new-relic/metric-api/metric-api-limits-restricted-attributes#requirements">New Relic metrics API documentation</a>.</p>
  </div>
</div>
<h2>What's next [#next]</h2>
<p>Ready to get moving? Here are some suggested next steps:</p>
<ul>
  <li>Read the how-to for completing the <a href="/docs/integrations/prometheus-integrations/install-configure/set-your-prometheus-remote-write-integration">remote write integration</a>.</li>
  <li>Learn about <a href="/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql">Grafana support options</a>.</li>
  <li>Explore the range of other options available as part of the <a href="/docs/telemetry-data-platform/get-data-new-relic/getting-started/get-know-telemetry-data-platform">Telemetry Data Platform</a>.</li>
</ul>
