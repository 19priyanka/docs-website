
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> include an Amazon EFS integration for reporting your EFS data to New Relic. This document explains the integration's features, how to activate it, and what data can be reported.</p>
<h2>Features</h2>
<p>With New Relic's integration for monitoring <a href="http://docs.aws.amazon.com/efs/latest/ug/whatisefs.html">AWS Elastic File System (EFS)</a>, you can monitor EFS file system size, read/write operations, I/O capacity, throughput, and more. AWS integration data is also available for analysis, queries, and chart creation <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure#insights">in New Relic One</a>.</p>
<p>If connected through a <a href="/docs/infrastructure/amazon-integrations/amazon-integrations/aws-vpc-monitoring-integration">VPC</a>, you can also use the EFS file system with your own on-premise servers, which allows you to share file systems across different applications hosted on hybrid solutions.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable this integration follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure">Connect AWS services to New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p><a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">Default polling</a> information for the Amazon EFS integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
  <li>Amazon CloudWatch data interval: 1 minute or 5 minutes</li>
</ul>
<h2>Find and use data [#find-data]</h2>
<p>To find this integration's data, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > AWS</strong> and select one of the Amazon EFS integration links.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>BlockDeviceSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>, with a <code>provider</code> value of <code>EfsFileSystem</code>.</p>
<p>For more on how to find and use integration data, see <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects the following Amazon EFS metrics:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>BurstCreditBalance</code></p>
      </div>
      <div>
        <p>The number of burst credits that a file system has.</p>
        <p>Burst credits allow a file system to burst to throughput levels above a file systemâ€™s baseline level for periods of time. For more information, see <a href="http://docs.aws.amazon.com/efs/latest/ug/performance.html#bursting">Throughput scaling in Amazon EFS</a>.</p>
        <p>The <code>Minimum</code> statistic is the smallest burst credit balance for any minute during the period. The <code>Maximum</code> statistic is the largest burst credit balance for any minute during the period. The <code>Average</code> statistic is the average burst credit balance during the period.</p>
        <p>Units: Bytes</p>
        <p>Valid statistics: <code>Minimum, Maximum, Average</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ClientConnections</code></p>
      </div>
      <div>
        <p>The number of client connections to a file system. When using a standard client, there is one connection per mounted Amazon EC2 instance.</p>
        <p>Note: To calculate the average <code>ClientConnections</code> for periods greater than one minute, divide the <code>Sum</code> statistic by the number of minutes in the period.</p>
        <p>Units: Count of client connections</p>
        <p>Valid statistics: <code>Sum</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>DataReadIOBytes</code></p>
      </div>
      <div>
        <p>The number of bytes for each file system read operation.</p>
        <p>The <code>Sum</code> statistic is the total number of bytes associated with read operations. The <code>Minimum</code> statistic is the size of the smallest read operation during the period. The <code>Maximum</code> statistic is the size of the largest read operation during the period. The <code>Average</code> statistic is the average size of read operations during the period. The <code>SampleCount</code> statistic provides a count of read operations.</p>
        <p>Units:</p>
        <ul>
          <li>
            <p>Bytes for <code>Minimum, Maximum, Average,</code> and <code>Sum</code>.</p>
          </li>
          <li>
            <p>Count for <code>SampleCount</code>.</p>
            <p>Valid statistics: <code>Minimum, Maximum, Average, Sum, SampleCount</code></p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>DataWriteIOBytes</code></p>
      </div>
      <div>
        <p>The number of bytes for each file system write operation.</p>
        <p>The <code>Sum</code> statistic is the total number of bytes associated with write operations. The <code>Minimum</code> statistic is the size of the smallest write operation during the period. The <code>Maximum</code> statistic is the size of the largest write operation during the period. The <code>Average</code> statistic is the average size of write operations during the period. The <code>SampleCount</code> statistic provides a count of write operations.</p>
        <p>Units:</p>
        <ul>
          <li>
            <p>Bytes are the units for the <code>Minimum, Maximum, Average</code>, and <code>Sum</code> statistics.</p>
          </li>
          <li>
            <p>Count for <code>SampleCount</code>.</p>
            <p>Valid statistics: <code>Minimum, Maximum, Average, Sum, SampleCount</code></p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>MetadataIOBytes</code></p>
      </div>
      <div>
        <p>The number of bytes for each metadata operation.</p>
        <p>The <code>Sum</code> statistic is the total number of bytes associated with metadata operations. The <code>Minimum</code> statistic is the size of the smallest metadata operation during the period. The <code>Maximum</code> statistic is the size of the largest metadata operation during the period. The <code>Average</code> statistic is the size of the average metadata operation during the period. The <code>SampleCount</code> statistic provides a count of metadata operations.</p>
        <p>Units:</p>
        <ul>
          <li>
            <p>Bytes are the units for the <code>Minimum, Maximum, Average,</code> and <code>Sum</code> statistics.</p>
          </li>
          <li>
            <p>Count for <code>SampleCount</code>.</p>
            <p>Valid statistics: <code>Minimum, Maximum, Average, Sum, SampleCount</code></p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>PercentIOLimit</code></p>
      </div>
      <div>
        <p>Shows how close a file system is to reaching the I/O limit of the General Purpose performance mode. If this metric is at 100% more often than not, consider moving your application to a file system using the Max I/O performance mode.</p>
        <p>Note: This metric is only submitted for file systems using the General Purpose performance mode.</p>
        <p>Units: Percent</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>PermittedThroughput</code></p>
      </div>
      <div>
        <p>The maximum amount of throughput a file system is allowed, given the file system size and <code>BurstCreditBalance</code>. For more information, see <a href="http://docs.aws.amazon.com/efs/latest/ug/performance.html">Amazon EFS Performance</a>.</p>
        <p>The <code>Minimum</code> statistic is the smallest throughput permitted for any minute during the period. The <code>Maximum</code> statistic is the highest throughput permitted for any minute during the period. The <code>Average</code> statistic is the average throughput permitted during the period.</p>
        <p>Units: Bytes per second</p>
        <p>Valid statistics: <code>Minimum, Maximum, Average</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>TotalIOBytes</code></p>
      </div>
      <div>
        <p>The number of bytes for each file system operation, including data read, data write, and metadata operations.</p>
        <p>The <code>Sum</code> statistic is the total number of bytes associated with all file system operations. The <code>Minimum</code> statistic is the size of the smallest operation during the period. The <code>Maximum</code> statistic is the size of the largest operation during the period. The <code>Average</code> statistic is the average size of an operation during the period. The <code>SampleCount</code> statistic provides a count of all operations.</p>
        <p>Note: To calculate the average operations per second for a period, divide the <code>SampleCount</code> statistic by the number of seconds in the period. To calculate the average throughput (Bytes per second) for a period, divide the <code>Sum</code> statistic by the number of seconds in the period.</p>
        <p>Units:</p>
        <ul>
          <li>
            <p>Bytes for <code>Minimum, Maximum, Average,</code> and <code>Sum</code> statistics.</p>
          </li>
          <li>
            <p>Count for <code>SampleCount</code>.</p>
            <p>Valid statistics: <code>Minimum, Maximum, Average, Sum, SampleCount</code></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>Inventory data provides information about the service's state and configuration. For more about inventory data, see <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">Understand and use data</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p><a href="#cluster_metadata">FileSystem</a> tags (indicated with an <strong>*</strong>) are only fetched when <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations#collect_tags">tags collection</a> is on.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Inventory object</p>
      </div>
      <div>
        <p>Inventory data</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="http://docs.aws.amazon.com/cli/latest/reference/efs/describe-file-systems.html#output"><strong>aws/efs/filesystem</strong></a></p>
      </div>
      <div>
        <ul>
          <li><code>awsRegion</code></li>
          <li><code>lifeCycleState</code></li>
          <li><code>name</code></li>
          <li><code>numberOfMountedTargets</code></li>
          <li><code>performanceMode</code></li>
          <li><code>tags</code>*</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><a href="http://docs.aws.amazon.com/cli/latest/reference/efs/describe-mount-targets.html#output"><strong>aws/efs/filesystem/mount-target</strong></a></p>
      </div>
      <div>
        <ul>
          <li><code>awsRegion</code></li>
          <li><code>fileSystemId</code></li>
          <li><code>ipAddress</code></li>
          <li><code>lifeCycleState</code></li>
          <li><code>mountTargetId</code></li>
          <li><code>networkInterfaceId</code></li>
          <li><code>subNetId</code></li>
        </ul>
      </div>
    </div>
  </div>
</div>
