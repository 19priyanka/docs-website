
<p>The <a href="https://aws.amazon.com/autoscaling/">Amazon Auto Scaling</a> service allows launching or terminating Amazon EC2 instances automatically. It helps dynamically adapt Amazon EC2 capacity based on user-defined policies, schedules, and health checks.</p>
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic infrastructure integrations</a> include an AWS Auto Scaling integration that reports data about groups from your Auto Scaling service to New Relic products. This document explains how to activate this integration and describes the data that can be reported.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable this integration:</p>
<ol>
  <li>Follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure">connect AWS services to New Relic</a>.</li>
  <li><a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-monitoring.html#as-group-metrics">Enable Auto Scaling group metrics</a> so that Amazon Auto Scaling will send sampled data to CloudWatch every minute.</li>
</ol>
<p>To enable group metrics using the console:</p>
<ol>
  <li>Open the Amazon EC2 console at <a href="https://console.aws.amazon.com/ec2/">https://console.aws.amazon.com/ec2/</a>.</li>
  <li>From the navigation pane, select <strong>Auto Scaling Groups > (select your group)</strong>.</li>
  <li>From the <strong>Monitoring</strong> tab, select <strong>Auto Scaling Metrics > Enable Group Metrics Collection</strong> or <strong>Display > Auto Scaling</strong>.</li>
</ol>
<h2>Configuration and polling [#polling]</h2>
<p><a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">Default polling</a> information for the AWS Auto Scaling integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
  <li>Amazon CloudWatch data interval: 1 minute by default</li>
</ul>
<p>To change the polling frequency and filter data, use <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<h2>Find and use data [#find-data]</h2>
<p>To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">view integration data</a>, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > AWS</strong>, then select one of the <strong>AWS Auto Scaling</strong> integration links.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using these <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event types</a>:</p>
<ul>
  <li><code>AutoScalingInstanceSample</code></li>
  <li><code>AutoScalingGroupSample</code></li>
  <li><code>AutoScalingLaunchConfigurationSample</code></li>
  <li><code>AutoScalingPolicySample</code></li>
  <li><code>AutoScalingRegionLimitSample</code></li>
</ul>
<h2>Metric data</h2>
<p>This New Relic infrastructure integration collects the following Amazon Auto Scaling data:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>groupDesiredCapacity</code></p>
      </div>
      <div>
        <p>The number of instances that the Auto Scaling group attempts to maintain.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupInServiceInstances</code></p>
      </div>
      <div>
        <p>The number of instances that are running as part of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupMaxSize</code></p>
      </div>
      <div>
        <p>The maximum size of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupMinSize</code></p>
      </div>
      <div>
        <p>The minimum size of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupPendingInstances</code></p>
      </div>
      <div>
        <p>The number of instances that are pending and not yet in service.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupStandbyInstances</code></p>
      </div>
      <div>
        <p>The number of instances that are in a "standby" state.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupTerminatingInstances</code></p>
      </div>
      <div>
        <p>The number of instances that are in the process of terminating.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>groupTotalInstances</code></p>
      </div>
      <div>
        <p>The total number of instances in the Auto Scaling group.</p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">Inventory data</a> provides information about the service's state and configuration. Auto Scaling configuration options are reported as inventory data.</p>
<h3>/aws/autoscaling/group inventory [#alb-inventory]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>autoScalingGroupArn</code></p>
      </div>
      <div>
        <p>The Amazon Resource Name (ARN) of the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>autoScalingGroupName</code></p>
      </div>
      <div>
        <p>The name of the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The region of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>desiredCapacity</code></p>
      </div>
      <div>
        <p>The preferred size of the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>enabledMetrics</code></p>
      </div>
      <div>
        <p>A list of structures representing the metrics enabled for the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>healthCheckPeriod</code></p>
      </div>
      <div>
        <p>The amount of time, in seconds, that Auto Scaling waits before checking the health status of an EC2 instance that has come into service.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>healthCheckType</code></p>
      </div>
      <div>
        <p>The service to use for the health checks.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>instances</code></p>
      </div>
      <div>
        <p>A list of structures representing the EC2 instances associated with the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>launchConfiguration</code></p>
      </div>
      <div>
        <p>The launch configuration associated with the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>loadBalancers</code></p>
      </div>
      <div>
        <p>One or more load balancers associated with the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>maxSize</code></p>
      </div>
      <div>
        <p>The maximum size of the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>minSize</code></p>
      </div>
      <div>
        <p>The minimum size of the group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>status</code></p>
      </div>
      <div>
        <p>The current state of the group when delete-auto-scaling-group is in progress.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tags</code></p>
      </div>
      <div>
        <p>A list of structures representing the tags for the group.</p>
      </div>
    </div>
  </div>
</div>
<h3>/aws/autoscaling/instance inventory [#config-target]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>autoScalingGroupName</code></p>
      </div>
      <div>
        <p>The group names.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The region of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>id</code></p>
      </div>
      <div>
        <p>The ID of the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>launchConfigurationName</code></p>
      </div>
      <div>
        <p>The launch configuration used to launch the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>lifeCycle</code></p>
      </div>
      <div>
        <p>The lifecycle state for the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>status</code></p>
      </div>
      <div>
        <p>The last reported health status of this instance.</p>
      </div>
    </div>
  </div>
</div>
<h3>/aws/autoscaling/launch-configuration inventory [#config-target]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The AWS region where the launch configuration is defined.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>createdAt</code></p>
      </div>
      <div>
        <p>The creation date and time for the launch configuration.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>kernelId</code></p>
      </div>
      <div>
        <p>The ID of the kernel associated with the AMI.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>keyName</code></p>
      </div>
      <div>
        <p>The name of the key pair.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>iamInstanceProfile</code></p>
      </div>
      <div>
        <p>The name or Amazon Resource Name (ARN) of the instance profile associated with the IAM role for the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>imageId</code></p>
      </div>
      <div>
        <p>The ID of the Amazon Machine Image (AMI).</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>instanceMonitoring</code></p>
      </div>
      <div>
        <p>A boolean. It will be true when the instances in this group are launched with detailed monitoring.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>instanceType</code></p>
      </div>
      <div>
        <p>The instance type for the instances.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>launchConfigurationArn</code></p>
      </div>
      <div>
        <p>The Amazon Resource Name (ARN) of the launch configuration.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>launchConfigurationName</code></p>
      </div>
      <div>
        <p>The name of the launch configuration.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>name</code></p>
      </div>
      <div>
        <p>The name of the launch configuration.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>placementTenacy</code></p>
      </div>
      <div>
        <p>The tenancy of the instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>securityGroups</code></p>
      </div>
      <div>
        <p>The security groups to associate with the instances.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>spotPrice</code></p>
      </div>
      <div>
        <p>The price to bid when launching Spot Instances.</p>
      </div>
    </div>
  </div>
</div>
<h3>/aws/autoscaling/policy inventory</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>adjustmentType</code></p>
      </div>
      <div>
        <p>The adjustment type, which specifies how ScalingAdjustment is interpreted.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>alarms</code></p>
      </div>
      <div>
        <p>A list of structures representing the CloudWatch alarms related to the policy.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>autoScalingGroupName</code></p>
      </div>
      <div>
        <p>The name of the Auto Scaling group associated with this scaling policy.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The AWS region where the policy is defined.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>coolDown</code></p>
      </div>
      <div>
        <p>The amount of time, in seconds, after a scaling activity completes before any further dynamic scaling activities can start.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>estimatedWarmUp</code></p>
      </div>
      <div>
        <p>The estimated time, in seconds, until a newly launched instance can contribute to the CloudWatch metrics.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>metricAggregationType</code></p>
      </div>
      <div>
        <p>The aggregation type for the CloudWatch metrics.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>name</code></p>
      </div>
      <div>
        <p>The name of the Auto Scaling group.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>policyArn</code></p>
      </div>
      <div>
        <p>The Amazon Resource Name (ARN) of the policy.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>policyType</code></p>
      </div>
      <div>
        <p>The policy type.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>stepAdjustments</code></p>
        <p><em>list of structures</em></p>
      </div>
      <div>
        <p>A list of structures representing a set of adjustments that allow scaling based on the size of the alarm breach.</p>
      </div>
    </div>
  </div>
</div>
<h3>/aws/autoscaling/region-limit inventory</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>accountName</code></p>
      </div>
      <div>
        <p>AWS account name.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>autoScalingGroups</code></p>
      </div>
      <div>
        <p>The current number of groups for the AWS account.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The AWS region where the region limit is defined.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>launchConfigurations</code></p>
      </div>
      <div>
        <p>The current number of launch configurations for the AWS account.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>maxAutoScalingGroups</code></p>
      </div>
      <div>
        <p>The maximum number of groups allowed for the AWS account.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>maxLaunchConfigurations</code></p>
      </div>
      <div>
        <p>The maximum number of launch configurations allowed for the AWS account.</p>
      </div>
    </div>
  </div>
</div>
