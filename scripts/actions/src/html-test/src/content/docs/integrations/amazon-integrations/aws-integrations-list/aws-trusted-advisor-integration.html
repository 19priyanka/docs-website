
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>In order to use this integration, you must have an Amazon AWS Business or Enterprise <a href="https://aws.amazon.com/premiumsupport/plans/">support plan</a>.</p>
</div>
<p>The Amazon AWS <a href="https://aws.amazon.com/premiumsupport/technology/trusted-advisor/">Trusted Advisor</a> is an online tool that provides real-time guidance to help you follow AWS best practices for provisioning your resources.</p>
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic infrastructure integrations</a> include an integration for reporting your service limits data to New Relic products. This document explains how to activate this integration and describes the data that can be captured.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable this integration, follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure">connect AWS services to New Relic</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This integration requires additional access permissions not covered by default managed policies. You can find out more on <a href="/docs/integrations/amazon-integrations/getting-started/integrations-managed-policies#recommended">Integrations and managed policies</a> page.</p>
</div>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p><a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">Default polling</a> information for the AWS Trusted Advisor integration:</p>
<ul>
  <li>New Relic polling interval: 1 hour</li>
</ul>
<p>In order to have fresh data, New Relic programmatically sends refresh requests to AWS. Trusted Advisor checks are <a href="https://aws.amazon.com/premiumsupport/faqs/#TArefresh">automatically refreshed by AWS weekly</a> only for customers with AWS Business or Enterprise Support plans.</p>
<h2>View and use data [#find-data]</h2>
<p>To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">view and use your integration data</a>, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > AWS</strong> and select the AWS Trusted Advisor integration link.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>TrustedAdvisorSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a> within one category of data:</p>
<ul>
  <li>Service limits: Appears in New Relic with <code>provider</code> value <code>ServiceLimits</code>.</li>
</ul>
<h2>Metric data</h2>
<p>There is one <code>Trusted Advisor</code> category of data: <code>ServiceLimits</code>.</p>
<h3>Service limits metrics [#metric-service-limits]</h3>
<p>New Relic Infrastructure Amazon integrations collect the following Amazon Service limits data to the provider <code>ServiceLimits</code>.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>awsRegion</code></p>
      </div>
      <div>
        <p>The AWS region in which the identified resource is located. Can be absent for global services that do not have regions.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>checkId</code></p>
      </div>
      <div>
        <p>The unique identifier of the AWS Trusted Advisor check.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>currentUsage</code></p>
      </div>
      <div>
        <p>Current usage of service limit in region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>isSuppressed</code></p>
      </div>
      <div>
        <p>If the item is excluded from the check result. The excluded items appear separately in AWS console.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>limitAmount</code></p>
      </div>
      <div>
        <p>Current maximum of service limit in region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>limitName</code></p>
      </div>
      <div>
        <p>Name of the service limit.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>service</code></p>
      </div>
      <div>
        <p>Name of the service.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>serviceLimitUsage</code></p>
      </div>
      <div>
        <p>Percentage of service limit used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>status</code></p>
      </div>
      <div>
        <p>Status of the service limit. Can be one of:</p>
        <p><code>Green</code>: Service limit usage is below 80%.</p>
        <p><code>Yellow</code>: Service limit usage is between 80% and 100%.</p>
        <p><code>Red</code>: Service limit usage is 100%.</p>
        <p><code>Blue</code>: Trusted Advisor was unable to retrieve utilization or limits.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>timestamp</code></p>
      </div>
      <div>
        <p>The time of the last refresh of the check.</p>
      </div>
    </div>
  </div>
</div>
