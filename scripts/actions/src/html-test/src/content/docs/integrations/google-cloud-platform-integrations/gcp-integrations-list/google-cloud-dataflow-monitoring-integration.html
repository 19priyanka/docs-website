
<p><a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> include an integration for reporting your GCP Dataflow data to our products. Here we explain how to activate the integration and what data it collects.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="https://docs.newrelic.com/docs/connect-google-cloud-platform-services-infrastructure">connect your GCP service to New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>Default <a href="/docs/integrations/google-cloud-platform-integrations/getting-started/polling-intervals-gcp-integrations">polling</a> information for the GCP Dataflow integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
</ul>
<h2>Find and use data [#find-data]</h2>
<p>To find your integration data, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure <a href="https://infrastructure.newrelic.com/" title="Link opens in a new window."></a>> GCP</strong> and select an integration.</p>
<p>Data is attached to the following <a href="https://docs.newrelic.com/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Entity</p>
      </div>
      <div>
        <p>Event Type</p>
      </div>
      <div>
        <p>Provider</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Job</p>
      </div>
      <div>
        <p><code>GcpDataflowJobSample</code></p>
      </div>
      <div>
        <p><code>GcpDataflowJob</code></p>
      </div>
    </div>
  </div>
</div>
<p>For more on how to use your data, see <a href="https://docs.newrelic.com/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand and use integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects GCP Dataflow data for Job.</p>
<h3>Dataflow Job data</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Unit</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>job.BillableShuffleDataProcessed</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>The billable bytes of shuffle data processed by this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.CurrentNumVcpus</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>The number of vCPUs currently being used by this Dataflow job. This is the current number of workers times the number of vCPUs per worker.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.CurrentShuffleSlots</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>The current shuffle slots used by this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.DataWatermarkAge</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>The age (time since event timestamp) up to which all data has been processed by the pipeline.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.ElapsedTime</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>Duration that the current run of this pipeline has been in the Running state so far, in seconds. When a run completes, this stays at the duration of that run until the next run starts.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.Elements</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of elements added to the pcollection so far.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.EstimatedBytes</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>An estimated number of bytes added to the pcollection so far. Dataflow calculates the average encoded size of elements in a pcollection and mutiplies it by the number of elements.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.IsFailed</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Has this job failed.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.PerStageDataWatermarkAge</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>The age (time since event timestamp) up to which all data has been processed by this stage of the pipeline.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.PerStageSystemLag</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>The current maximum duration that an item of data has been processing or awaiting processing in seconds, per pipeline stage.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.SystemLag</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>The current maximum duration that an item of data has been processing or awaiting processing, in seconds.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.TotalMemoryUsageTime</code></p>
      </div>
      <div>
        <p>Other</p>
      </div>
      <div>
        <p>The total GB seconds of memory allocated to this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.TotalPdUsageTime</code></p>
      </div>
      <div>
        <p>Other</p>
      </div>
      <div>
        <p>The total GB seconds for all persistent disk used by all workers associated with this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.TotalShuffleDataProcessed</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>The total bytes of shuffle data processed by this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.TotalStreamingDataProcessed</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>The total bytes of streaming data processed by this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.TotalVcpuTime</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>The total vCPU seconds used by this Dataflow job.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>job.UserCounter</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>A user-defined counter metric.</p>
      </div>
    </div>
  </div>
</div>
