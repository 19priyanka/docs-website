
<p>New Relic <a href="/docs/infrastructure/integrations/intro-infrastructure-integrations">infrastructure integrations</a> allow you to report data from specific systems and supplement <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">infrastructure's</a> default, out-of-the-box monitoring. The Microsoft Azure integrations report data from various Azure platform services to your New Relic account. This document explains how to activate Azure integrations.</p>
<h2>Requirements [#overview]</h2>
<p>The Azure integration activation process requires you to:</p>
<ul>
  <li>Create a New Relic application and key in Azure.</li>
  <li>Grant this application access to the Azure services you want to monitor.</li>
  <li>Place required information in the New Relic's <strong>Integrations</strong> UI.</li>
</ul>
<p>To use these integration activation instructions directly from the Infrastructure UI, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Azure > Add an Azure account</strong>.</p>
<h2>Step 1: Get Azure subscription and tenant IDs [#get-ids]</h2>
<p>To get your Azure account's subscription <code>id</code> and <code>tenantId</code>, use your local terminal if you have Azure's tools installed, or use <a href="https://azure.microsoft.com/en-us/features/cloud-shell/">Azure's Cloud Shell</a> terminal in the Azure portal.</p>
<ol>
  <li>
    <p>Open a terminal with access to your Azure account.</p>
  </li>
  <li>
    <p>Type the following:</p>
    <pre><code>az account show
</code></pre>
  </li>
  <li>
    <p>Copy and save the subscription <code>id</code> and <code>tenantID</code> from the output response for later use.</p>
  </li>
</ol>
<p>The response should look similar to the response below. The subscription <code>id</code> and <code>tenantID</code> are highlighted.</p>
<pre><code>@Azure:~$ az account show
{
  "environmentName": "AzureCloud",
  "id": "9ffe9512-f4a2-42dd-1230-518aec34be21",
  "isDefault": true,
  "name": "Beyond Team Sandbox",
  "state": "Enabled",
  "tenantId": "ac6692da-1231-422f-22a8-9eed6dbe83f1",
  "user": {
    "name": "youremail@domain",
    "type": "user"
}
</code></pre>
<h2>Step 2: Register your app and get ID [#register-app]</h2>
<p>You must have Azure permissions to register your application and copy its <code>Application ID</code>.</p>
<p>To register your app in Azure:</p>
<ol>
  <li>Sign in to the Azure portal and go to the <strong>Azure</strong> <strong>Active Directory</strong>.</li>
  <li>From <strong>Manage</strong>, select <strong>App registrations > New registration</strong>.</li>
  <li>Enter a name for the application. We recommend that you name your app <code>NewRelic-Integrations</code>.</li>
  <li>In <strong>Redirect URI</strong> select <code>Web</code>and add <code>https://www.newrelic.com</code> as the sign-on URI.</li>
  <li>Create the application by clicking <strong>Register</strong>.</li>
  <li>From the <strong>Overview</strong> of your app, copy the <strong>Application (client) ID</strong>, and save it for later use.</li>
</ol>
<h2>Step 3: Create a client secret in Azure [#create-client-secret]</h2>
<p>To create a client secret associated with your application:</p>
<ol>
  <li>In Azure, under the application you've just created, select <strong>Certificates &#x26; secrets</strong>.</li>
  <li>Under <strong>Client secrets</strong>, click on <strong>New client secret</strong> and then on <strong>Add</strong>.</li>
  <li>Copy the value of <strong>Client Secret</strong> and save it for later use.</li>
</ol>
<h2>Step 4: Provide permissions to services [#read-permissions]</h2>
<p>Your app must provide <code>Reader</code> permissions for each Azure service you want New Relic to monitor:</p>
<ol>
  <li>In the Azure <strong>Subscriptions</strong> section, select the subscriptions that you want New Relic to monitor.</li>
  <li>Select <strong>Access control (IAM) > Add ></strong> <strong>Add role assignment</strong>.</li>
  <li>From the <strong>Role</strong> dropdown, select <strong>Reader</strong>.</li>
  <li>From the <strong>Select</strong> dropdown, select the app's name; for example, <code>NewRelic-Integrations</code>.</li>
  <li>From <strong>Selected members</strong>, verify your app name appears, then select <strong>Save</strong>.</li>
</ol>
<p>Some Azure services, including <a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/azure-document-dbcosmos-db">Azure CosmosDB</a> and <a href="/docs/infrastructure/microsoft-azure-integrations/getting-started/azure-vms-monitoring-integrations">Azure VMs</a>, require additional steps. See the <a href="/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list">Azure integration documentation</a> for the services you want to enable.</p>
<h2>Step 5: Add app to New Relic [#complete-integration]</h2>
<p>Now you can activate the Azure integration in the Infrastructure UI. The UI will require the information you have saved in the previous steps, including:</p>
<ul>
  <li>Your Azure account's <a href="#get-ids">subscription <code>id</code> and <code>tenantId</code></a></li>
  <li>The application's <a href="#register-app">application ID</a></li>
  <li>The application's <a href="#create-client-secret">client secret</a></li>
</ul>
<p>To add your Azure app to New Relic:</p>
<ol>
  <li>Go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Azure</strong> and select the Azure Service you wish to add.</li>
  <li>Follow the steps in the UI to activate the integration in New Relic.</li>
  <li>If you have already completed the Azure account steps, skip to the end of the steps to fill out the form. (For <code>Azure account name</code>, enter the name you want to use to identify the account in your <strong>Integrations</strong> dashboard.)</li>
</ol>
<h2>Explore app data in New Relic Infrastructure's UI [#find-data]</h2>
<p>After you activate an Azure integration, New Relic will start monitoring your Azure data at regular <a href="/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-polling-intervals-infrastructure-integrations">polling intervals</a>. To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">find and use your data</a>, use the <a href="/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer">data explorer</a> or go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Azure</strong></p>
