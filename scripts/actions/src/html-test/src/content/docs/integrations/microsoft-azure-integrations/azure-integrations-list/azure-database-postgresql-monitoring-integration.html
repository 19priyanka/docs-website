
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> include an integration for reporting your <a href="https://docs.microsoft.com/en-gb/azure/postgresql/">Microsoft Azure Database for PostgreSQL</a> metrics and inventory data to New Relic. This document explains how to activate the integration and describes the data reported.</p>
<h2>Features</h2>
<p>New Relic gathers database data from the Azure Database for PostgreSQL service, which provides fully managed, enterprise-ready PostgreSQL Community database as a service. The service provides high availability, elastic scaling, automatic backups, and data protection at-rest and in-motion.</p>
<p>Using New Relic, you can:</p>
<ul>
  <li>View Azure Database for PostgreSQL data in pre-built Infrastructure dashboards.</li>
  <li>Run <a href="/docs/using-new-relic/data/understand-data/query-new-relic-data">custom queries and visualize the data</a>.</li>
  <li>Create alert conditions to notify you of changes in data.</li>
</ul>
<h2>Activate integration [#activate]</h2>
<p>Follow standard procedures to <a href="/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations">activate your Azure service in New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>New Relic queries your Azure Database services according to a default <a href="/docs/integrations/microsoft-azure-integrations/getting-started/azure-integration-polling">polling</a> interval, which varies depending on the integration. For Azure Database for PostgreSQL integrations:</p>
<ul>
  <li>Polling interval: 5 minutes (maximum recommended polling frequency: 1 hour)</li>
  <li>Resolution: 1 data point per minute</li>
</ul>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<h2>View and use data [#find-and-use]</h2>
<p>To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">explore your integration data</a>: Go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Azure > (select an integration)</strong>.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>AzurePostgreSqlServerSample</code> event type, with a provider value of <code>AzurePostgreSqlServer</code>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects the following <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric">metric data</a>.</p>
<h3>Database sample metrics [#database-sample]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>activeConnections</code></p>
      </div>
      <div>
        <p>Count of active connections.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>backupStorageUsedBytes</code></p>
      </div>
      <div>
        <p>Backup storage used, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>connectionsFailed</code></p>
      </div>
      <div>
        <p>Count of failed connections.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>cpuPercent</code></p>
      </div>
      <div>
        <p>Percentage of CPU used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioConsumptionPercent</code></p>
      </div>
      <div>
        <p>Percentage of I/O consumption used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>memoryPercent</code></p>
      </div>
      <div>
        <p>Percentage of memory used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>networkEgressBytes</code></p>
      </div>
      <div>
        <p>Network Out across active connections, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>networkIngressBytes</code></p>
      </div>
      <div>
        <p>Network In across active connections, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>pgReplicaLogDelayBytes</code></p>
      </div>
      <div>
        <p>Replication lag, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>pgReplicaLogDelaySeconds</code></p>
      </div>
      <div>
        <p>Replication lag, in seconds.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>serverlogStorageLimitBytes</code></p>
      </div>
      <div>
        <p>Server log storage limit, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>serverlogStoragePercent</code></p>
      </div>
      <div>
        <p>Percentage of server log storage used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>serverlogStorageUsageBytes</code></p>
      </div>
      <div>
        <p>Server log storage used, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>storageLimitBytes</code></p>
      </div>
      <div>
        <p>Amount of storage available, in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>storagePercent</code></p>
      </div>
      <div>
        <p>Percentage of available storage used.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>storageUsedBytes</code></p>
      </div>
      <div>
        <p>Amount of storage used, in bytes.</p>
      </div>
    </div>
  </div>
</div>
<h3>Inventory data [#inventory]</h3>
<p>This integration collects the following <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">inventory data</a> about your system's state and configuration. For more information, see the <a href="https://docs.microsoft.com/bs-latn-ba/rest/api/postgresql/servers/get#server">Microsoft Azure PostgreSQL documentation</a>.</p>
<h3>azure/postgresql/server [#inventory-postgresql-server]</h3>
<ul>
  <li><code>administratorLogin</code></li>
  <li><code>configuration</code></li>
  <li><code>databaseNames</code></li>
  <li><code>databases</code>, including <code>id</code>, <code>name</code>, <code>type</code>, <code>charset</code>, and <code>collation</code></li>
  <li><code>domainName</code></li>
  <li><code>earliestRestoreDate</code></li>
  <li><code>firewalls</code>, including <code>id</code>, <code>name</code>, <code>type</code>, <code>startIpAddress</code>, and <code>endIpAddress</code></li>
  <li><code>geoRedundantBackup</code></li>
  <li><code>isReplica</code></li>
  <li><code>MasterServerid</code> (only for a replica server)</li>
  <li><code>maxConnections</code></li>
  <li><code>name</code></li>
  <li><code>regionName</code></li>
  <li><code>replicaCapacity</code> (only for a replica server)</li>
  <li><code>replicationRole</code> (only for a replica server)</li>
  <li><code>resourceGroupName</code></li>
  <li><code>skuCapacity</code></li>
  <li><code>skuFamily</code></li>
  <li><code>skuName</code></li>
  <li><code>skuTier</code></li>
  <li><code>sslEnforcement</code></li>
  <li><code>storageAutoGrow</code></li>
  <li><code>tags</code></li>
  <li><code>type</code></li>
  <li><code>userVisibleState</code></li>
  <li><code>version</code></li>
</ul>
