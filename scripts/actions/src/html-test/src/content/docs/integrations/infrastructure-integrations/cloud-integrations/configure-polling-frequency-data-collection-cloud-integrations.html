
<p>Our <a href="/docs/integrations/new-relic-integrations/getting-started/introduction-infrastructure-integrations#integration-types">cloud integrations</a> get data from cloud provider APIs. In New Relic, you can change some of the data collection-related settings for your cloud integrations. Read on to see what changes you can make and the reasons for making them.</p>
<h2>Overview of settings [#features]</h2>
<p>New Relic cloud integrations get data from cloud providers' APIs. Data is generally collected from monitoring APIs such as AWS CloudWatch, Azure Monitor, and GCP Stackdriver, and inventory metadata is collected from the specific services' APIs.</p>
<p>You can use the <a href="/docs/integrations/new-relic-integrations/getting-started/cloud-integrations-account-status-dashboard">account status dashboard</a> to see how your cloud integrations are handling data from a cloud service provider. If you want to report more or less data from your cloud integrations, or if you need to control the use of the cloud providers' APIs to prevent reaching rate and throttling limits in your cloud account, you can change the configuration settings to modify the amount of data they report. The two main controls are:</p>
<ul>
  <li><a href="#polling">Change polling frequency</a></li>
  <li><a href="#filter-data">Change what data is reported</a></li>
</ul>
<p>Examples of business reasons for wanting to change your polling frequency include:</p>
<ul>
  <li><strong>Billing:</strong> If you need to manage your AWS CloudWatch bill, you may want to decrease the polling frequency. Before you do this, make sure that any <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions">alert</a> <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions">conditions</a> set for your cloud integrations are not affected by this reduction.</li>
  <li><strong>New services:</strong> If you are deploying a new service or configuration and you want to collect data more often, you may want to increase the polling frequency temporarily.</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>Changing the configuration settings for your integrations may <a href="#impact">impact alert conditions and chart trends</a>.</p>
</div>
<h2>Change polling frequency [#polling]</h2>
<p>The <a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">polling frequency</a> configuration determines how often New Relic reports data from your cloud provider for each service. By default, the polling frequency is set to the maximum frequency that is available for each service.</p>
<p>To change the polling frequency for a cloud integration:</p>
<ol>
  <li>Go to <a href="http://one.newrelic.com"></a><strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong>.</li>
  <li>Select the tab that corresponds to your cloud service provider.</li>
  <li>Select <strong>Configure</strong> next to the integration.</li>
  <li>Use the dropdowns next to <strong>Data polling interval every</strong> to select how frequently you want New Relic to capture your cloud integration data.</li>
</ol>
<h2>Specify data to be fetched [#filter-data]</h2>
<p>You can specify which information you want captured for your cloud integration by enabling the collection of additional data and by applying multiple filters to each integration.</p>
<p>To change this settings for your cloud integration:</p>
<ol>
  <li>Go to <strong><a href="http://one.newrelic.com">one.newrelic.com</a> > Infrastructure</strong>.</li>
  <li>Select the tab that corresponds to your cloud service provider.</li>
  <li>Select <strong>Configure</strong> next to the integration.</li>
  <li>Under <strong>Data collections and filters</strong>, turn the toggles you want <strong>On</strong>.</li>
  <li>For <a href="#filters">filters</a>, select or enter the values that you want included in your reported data.</li>
</ol>
<h3>Data collection</h3>
<p>For some cloud integrations, an additional number of calls to the cloud provider APIs are needed in order to collect data. For example, to fetch tags for AWS Elastic Map Reduce clusters, an additional call to the service API is required.</p>
<p>Therefore, in order to better control the amount of API calls that are sent to your cloud account for these integrations, New Relic allows you to specify if you need these data to be collected. There are different data collection toggles available, depending on the integration.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Toggle</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>Collect tags</strong></p>
      </div>
      <div>
        <p>Some integrations require additional API calls to the cloud provider to report tags. Tag collection is enabled by default.</p>
        <p>Switch this to <strong>Off</strong> if you don't want the integration to collect your cloud resource tags and thus reduce the volume of API calls.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect <a href="#extended-impact">extended inventory</a></strong></p>
      </div>
      <div>
        <p>Some integrations can collect extended inventory metadata about your cloud resources by making additional API calls to the cloud provider. The metadata that is included within extended inventory for each cloud integration is described in the integration documentation.</p>
        <p>Extended inventory collection is <strong>disabled by default</strong>.</p>
        <p>Switch this to <strong>On</strong> if you want to monitor extended inventory. This will increase the volume of API calls.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect shards data</strong></p>
      </div>
      <div>
        <p>Available for AWS Kinesis Streams integration.</p>
        <p>By default, New Relic does not report shard metrics. Switch this to <strong>On</strong> if you want to monitor shard metrics in addition to data stream metrics.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect <a href="mailto:Lambda@Edge">Lambda@Edge</a> data</strong></p>
      </div>
      <div>
        <p>Available for AWS CloudFront integration.</p>
        <p>By default, New Relic does not report <a href="mailto:Lambda@Edge">Lambda@Edge</a> data. Switch this to <strong>On</strong> if you're using <a href="mailto:Lambda@Edge">Lambda@Edge</a> in AWS CloudFront and want to get Lambda execution location metadata.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect nodes data</strong></p>
      </div>
      <div>
        <p>Available for AWS Elasticsearch integration.</p>
        <p>By default, New Relic does not report Elasticsearch node metrics. Switch this to <strong>On</strong> if you want to monitor node metrics in addition to cluster metrics.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect NAT Gateway data</strong> and <strong>Collect VPN data</strong></p>
      </div>
      <div>
        <p>Available for AWS VPC integration.</p>
        <p>By default, New Relic does not report NAT Gateway nor VPN metrics. Switch these to <strong>On</strong> if you want to monitor NAT Gateway and VPN metrics and inventory, in addition to other VPC related entities inventory.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Collect IP addresses</strong></p>
      </div>
      <div>
        <p>Available for AWS EC2 integration.</p>
        <p>By default, New Relic collects EC2 instance metadata that includes public and private IP addresses, and network interface details. Switch this to <strong>Off</strong> if you don't want New Relic to store and display these IP data.</p>
      </div>
    </div>
  </div>
</div>
<h3>Filters</h3>
<p>When a filter is <strong>On</strong>, you specify the data that you want to be collected; for example, if the <strong>Limit to AWS region</strong> is <strong>On</strong>, the regions that you select will be the ones that data will be collected for. There are different filters available, depending on the integration:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Filter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><strong>Region</strong></p>
      </div>
      <div>
        <p>Select the regions that include the resources that you want to monitor.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Queue prefixes</strong></p>
      </div>
      <div>
        <p>Available for AWS SQS integration.</p>
        <p>Enter each name or prefix for the queues that you want to monitor. Filter values are case-sensitive.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Load balancer prefixes</strong></p>
      </div>
      <div>
        <p>Available for AWS ALB integration.</p>
        <p>Enter each name or prefix for the application load balancers that you want to monitor. Filter values are case-sensitive.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Stage name prefixes</strong></p>
      </div>
      <div>
        <p>Available for AWS API Gateway integration.</p>
        <p>Enter each name or prefix for the stages that you want to monitor. Filter values are case-sensitive.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Tag key</strong></p>
      </div>
      <div>
        <p>Enter <strong>one</strong> tag key that is associated with the resources that you want to monitor. Filter values are case-sensitive, and you can use this filter in combination with <strong>tag value</strong> filter.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Tag value</strong></p>
      </div>
      <div>
        <p>Enter <strong>one</strong> tag value that is associated with the resources that you want to monitor. Filter values are case-sensitive, and you can use this filter in combination with <strong>tag key</strong>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><strong>Resource group</strong></p>
      </div>
      <div>
        <p>Select the resource groups that are associated with the resources that you want to monitor.</p>
      </div>
    </div>
  </div>
</div>
<h2>Potential impact on alerts and charts [#impact]</h2>
<p>If you change an integration's configuration, it can impact <a href="/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions">alert conditions</a> and charts. Here are some things to consider:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>If you change this setting...</p>
      </div>
      <div>
        <p>It may have this impact...</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Any configuration setting</p>
      </div>
      <div>
        <p>When you change the configuration settings, the data that New Relic displays in infrastructure charts, on the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure">inventory page</a>, and in the <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-events-page-live-feed-every-config-change">events feed</a> changes as well.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Any filters</p>
      </div>
      <div>
        <p>When you create <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions">alert conditions</a> <strong>after</strong> you set filters, make sure that your alerts are not triggered by resources that you filtered out.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Filter for regions</p>
      </div>
      <div>
        <p>If you <a href="#filters">filter for specific regions</a>, it may lower the amount of data reported to New Relic, which could trigger an alert.</p>
        <p>If you create an alert condition for a specific region and then <a href="#filters">filter that region out</a>, the region would no longer report data and would never trigger the alert.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Polling frequency</p>
      </div>
      <div>
        <p>When you create an alert, make sure that you define the threshold for a time period that is longer than the <a href="#polling">polling frequency</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Tags and extended inventory</p>
      </div>
      <div>
        <p>If you turn on tags and/or extended inventory, New Relic makes more API calls to the cloud provider, which could increase your cloud provider API usage bill.</p>
      </div>
    </div>
  </div>
</div>
