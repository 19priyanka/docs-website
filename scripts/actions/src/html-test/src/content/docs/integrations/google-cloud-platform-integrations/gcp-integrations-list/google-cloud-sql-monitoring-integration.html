
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> with the <a href="https://cloud.google.com/">Google Cloud Platform (GCP)</a> include an integration to report <a href="https://cloud.google.com/sql/docs/">Google Cloud SQL</a> data to New Relic. This document explains how to activate the GCP SQL integration and describes the data that can be reported.</p>
<h2>Features</h2>
<p>Cloud SQL is a fully-managed database service that is used to set up, maintain, manage, and administer MySQL and PostgreSQL databases in the cloud. Cloud SQL offers high performance and scalability, and can be accessed from most applications.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="https://docs.newrelic.com/docs/connect-google-cloud-platform-services-infrastructure">connect your GCP service to New Relic</a>.</p>
<h2>Polling frequency [#polling]</h2>
<p>New Relic integrations query your GCP services according to a polling interval, which varies depending on the integration. The polling frequency for Google Cloud SQL is five minutes. The resolution is 1 data point every minute.</p>
<h2>Find and use data [#find-data]</h2>
<p>After activating the integration and waiting a few minutes (based on the <a href="#polling">polling frequency</a>), data will appear in the New Relic UI. To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">find and use your data</a>, including links to your dashboards and alert settings, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > GCP > (select an integration)</strong>.</p>
<h2>Metric data [#metrics]</h2>
<p>To view <a href="/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#metric">metric data</a> for your GCP SQL integration in New Relic, <a href="/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql">create NRQL queries</a> for <code>GcpCloudSqlSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">events</a> and their related attributes.</p>
<h3>GcpCloudSqlSample [#gcp-app-cloud-sql-sample]</h3>
<p>Query <code>GcpCloudSqlSample</code> events in New Relic to view data for the following attributes:</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Attribute</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>database.AutoFailoverRequestCount</code></p>
        </div>
        <div>
          <p>Delta of number of instance auto-failover requests.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.AvailableForFailover</code></p>
        </div>
        <div>
          <p>This is over <code>0</code> if the failover operation is available on the instance.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.cpu.ReservedCores</code></p>
        </div>
        <div>
          <p>Number of cores reserved for the database.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.cpu.UsageTime</code></p>
        </div>
        <div>
          <p>Cumulative CPU usage time in seconds.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.cpu.Utilization</code></p>
        </div>
        <div>
          <p>The fraction of the reserved CPU that is currently in use.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.disk.BytesUsed</code></p>
        </div>
        <div>
          <p>Data utilization in bytes.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.disk.Quota</code></p>
        </div>
        <div>
          <p>Maximum data disk size in bytes.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.disk.ReadOps</code></p>
        </div>
        <div>
          <p>Delta count of data disk read IO operations.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.disk.Utilization</code></p>
        </div>
        <div>
          <p>The fraction of the disk quota that is currently in use.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.disk.WriteOps</code></p>
        </div>
        <div>
          <p>Delta count of disk write IO operations.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.memory.Quota</code></p>
        </div>
        <div>
          <p>Maximum RAM size in bytes.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.memory.Usage</code></p>
        </div>
        <div>
          <p>RAM usage in bytes.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.memory.Utilization</code></p>
        </div>
        <div>
          <p>The fraction of the memory quota that is currently in use.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbBufferPoolPagesDirty</code></p>
        </div>
        <div>
          <p>The fraction of the memory quota that is currently in use.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbBufferPoolPagesFree</code></p>
        </div>
        <div>
          <p>Number of unused pages in the InnoDB buffer pool.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbBufferPoolPagesTotal</code></p>
        </div>
        <div>
          <p>Total number of pages in the InnoDB buffer pool.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbDataFsyncs</code></p>
        </div>
        <div>
          <p>Delta count of InnoDB fsync() calls.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbOsLogFsyncs</code></p>
        </div>
        <div>
          <p>Delta count of InnoDB fsync() calls to the log file.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbPagesRead</code></p>
        </div>
        <div>
          <p>Delta count of InnoDB pages read.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.InnodbPagesWritten</code></p>
        </div>
        <div>
          <p>Delta count of InnoDB pages written.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.Queries</code></p>
        </div>
        <div>
          <p>Delta count of statements executed by the server.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.Questions</code></p>
        </div>
        <div>
          <p>Delta count of statements executed by the server sent by the client.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.ReceivedBytesCount</code></p>
        </div>
        <div>
          <p>Delta count of bytes received by MySQL process.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.replication.SecondsBehindMaster</code></p>
        </div>
        <div>
          <p>Number of seconds the read replica is behind its master (approximation).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.replication.SlaveIoRunning</code></p>
        </div>
        <div>
          <p>Indicates whether the I/O thread for reading the master's binary log is running. Possible values are <code>Yes</code>, <code>No</code>, and <code>Connecting</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.replication.SlaveSqlRunning</code></p>
        </div>
        <div>
          <p>Indicates whether the I/O thread for reading the master's binary log is running. Possible values are <code>Yes</code>, <code>No</code>, and <code>Connecting</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.mysql.SentBytesCount</code></p>
        </div>
        <div>
          <p>Indicates whether the I/O thread for reading the master's binary log is running. Possible values are <code>Yes</code>, <code>No</code>, and <code>Connecting</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.network.Connections</code></p>
        </div>
        <div>
          <p>Number of connections to the Cloud SQL MySQL instance.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.network.ReceivedBytesCount</code></p>
        </div>
        <div>
          <p>Delta count of bytes received through the network.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.network.SentBytesCount</code></p>
        </div>
        <div>
          <p>Delta count of bytes sent through the network.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.postgresql.NumBackends</code></p>
        </div>
        <div>
          <p>Number of connections to the Cloud SQL PostgreSQL instance.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.postgresql.replication.ReplicaByteLag</code></p>
        </div>
        <div>
          <p>Replication lag in bytes. Reported from the master per replica.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.postgresql.TransactionCount</code></p>
        </div>
        <div>
          <p>Delta count of number of transactions.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.State</code></p>
        </div>
        <div>
          <p>The current serving state of the Cloud SQL instance. This can be one of the following:</p>
          <ul>
            <li><code>RUNNABLE</code>: The instance is running, or is ready to run when accessed.</li>
            <li><code>SUSPENDED</code>: The instance is not available, for example due to problems with billing.</li>
            <li><code>PENDING_CREATE</code>: The instance is being created.</li>
            <li><code>MAINTENANCE</code>: The instance is down for maintenance.</li>
            <li><code>UNKNOWN_STATE</code>: The state of the instance is unknown.</li>
          </ul>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.Up</code></p>
        </div>
        <div>
          <p>Indicates if the server is up or not. On-demand instances are spun down if no connections are made for a sufficient amount of time.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>database.Uptime</code></p>
        </div>
        <div>
          <p>Delta count of the time in seconds the instance has been running.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data</h2>
<p>To view <a href="/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#inventory-data">inventory data</a> for GCP SQL services, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Inventory</strong> and search for or select the following:</p>
<h3>gcp/cloudsql/database</h3>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>label.*</code></p>
        </div>
        <div>
          <p>Labels for the instance.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>name</code></p>
        </div>
        <div>
          <p>The ID of the instance (not the name).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>project</code></p>
        </div>
        <div>
          <p>The project where the instance is.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>zone</code></p>
        </div>
        <div>
          <p>The region where the instance is.</p>
        </div>
      </div>
    </div>
  </div>
</div>
