
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> include an integration for reporting your Microsoft Azure Storage data to New Relic. This document explains how to activate the integration and describes the data reported.</p>
<h2>Features</h2>
<p><a href="https://azure.microsoft.com/en-us/services/storage/">Microsoft Azure Storage</a> is a managed cloud service that provides highly available, secure, durable, scalable, and redundant storage.</p>
<p>With New Relic's Azure Storage integration, data reported includes account used capacity, the amount of ingress and egress data and latency, as well as other metrics and inventory data from blobs, files, tables and queues data services. Using New Relic, you can:</p>
<ul>
  <li>View Azure Storage data in pre-built infrastructure dashboards.</li>
  <li><a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">Run custom queries and visualize the data</a>.</li>
  <li>Create alert conditions to notify you of changes in Storage data.</li>
</ul>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations">activate your Azure service in New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>New Relic queries your Azure Storage services according to a <a href="/docs/integrations/microsoft-azure-integrations/getting-started/azure-integration-polling">polling</a> interval, which varies depending on the integration. Polling frequency for the Azure Storage integration:</p>
<ul>
  <li>Polling interval: 30 minutes</li>
  <li>Resolution: 1 minute</li>
</ul>
<p>Azure creates Storage accounts to support other services. For large cloud infrastructures, Azure Storage integration may increase the API quota consumption significantly. This may cause API request throttling, which can affect data collection in other Azure integrations.</p>
<p>For this reason, New Relic recommends starting with a conservative polling period, such as 30 minutes, even though the polling frequency for Azure Storage can be set as often as five minute intervals via <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>. Then, after checking the <strong>Remaining hourly quota</strong> chart in the <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Infrastructure integration's <strong>Account status</strong> dashboard</a>, you may change the polling period as needed.</p>
<h2>Find and use data [#find-data]</h2>
<p>To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">explore your integration data</a>, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure <a href="https://infrastructure.newrelic.com/"></a>> Azure > (select an integration)</strong>.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>AzureStorageAccountSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>, with a <code>provider</code> value of <code>AzureStorageAccount</code>.</p>
<h2>Metric data [#metrics]</h2>
<p>To view metrics reported by the Azure Storage integration, query the <code>AzureStorageAccountSample</code> event type. There are different metrics for Storage Accounts and for the Blobs, Tables, Queues, and Files sub-entities.</p>
<p>Use the metadata associated with each metric to <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric">filter and facet</a> the data being reported. For detailed metric information, see the <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccounts">Azure supported metrics</a> documentation.</p>
<h3>Account [#account-data]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Metric</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>transactions</code></p>
      </div>
      <div>
        <p>Total number of requests made to a storage service or the specified API operation.</p>
      </div>
      <div>
        <p><code>responseType</code></p>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ingressBytes</code></p>
      </div>
      <div>
        <p>Total amount of ingress data into the storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>egressBytes</code></p>
      </div>
      <div>
        <p>Total amount of egress data from the storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>successServerLatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average latency used by Azure Storage to process a successful request, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>successE2ELatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average end-to-end latency of successful requests made to the storage service, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>availabilityPercent</code></p>
      </div>
      <div>
        <p>The percentage of availability for the storage service.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
  </div>
</div>
<h3>Blobs [#blob-data]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Metric</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>blobs.blobCapacityBytes</code></p>
      </div>
      <div>
        <p>Average amount of storage used by the storage account’s Blob service in bytes.</p>
      </div>
      <div>
        <p><code>blobType</code></p>
        <p><code>tier</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.blobCount</code></p>
      </div>
      <div>
        <p>Average number of Blobs in the storage account’s Blob service.</p>
      </div>
      <div>
        <p><code>blobType</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.containerCount</code></p>
      </div>
      <div>
        <p>Average number of containers in the storage account’s Blob service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.transactions</code></p>
      </div>
      <div>
        <p>Total number of requests made to a Blob storage service.</p>
      </div>
      <div>
        <p><code>responseType</code></p>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.ingressBytes</code></p>
      </div>
      <div>
        <p>Total amount of ingress data into the Blob storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.egressBytes</code></p>
      </div>
      <div>
        <p>Total amount of egress data from the Blob storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.successServerLatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average latency used by Azure Storage to process a successful request, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.successE2ELatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average end-to-end latency of successful requests made to the Blob storage service, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>blobs.availabiltyPercent</code></p>
      </div>
      <div>
        <p>The percentage of availability for the Blob storage service.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
  </div>
</div>
<h3>Tables [#tables-data]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Metric</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>tables.tableCapacityBytes</code></p>
      </div>
      <div>
        <p>Average amount of storage used by the storage account’s Table service in bytes.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.tableCount</code></p>
      </div>
      <div>
        <p>Average number of tables in the storage account’s Table service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.tableEntityCount</code></p>
      </div>
      <div>
        <p>Average number of table entities in the storage account’s Table service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.transactions</code></p>
      </div>
      <div>
        <p>Total number of requests made to a Table storage service.</p>
      </div>
      <div>
        <p><code>responseType</code></p>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.ingressBytes</code></p>
      </div>
      <div>
        <p>Total amount of ingress data into the Table storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.egressBytes</code></p>
      </div>
      <div>
        <p>Total amount of egress data from the Table storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.successServerLatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average latency used by Azure Storage to process a successful request, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.successE2ELatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average end-to-end latency of successful requests made to the Table storage service, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>tables.availabiltyPercent</code></p>
      </div>
      <div>
        <p>The percentage of availability for the Table storage service.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
  </div>
</div>
<h3>Queues [#queues-data]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Metric</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>queues.queueCapacityBytes</code></p>
      </div>
      <div>
        <p>Average amount of storage used by the storage account’s Queue service in bytes.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.queueCount</code></p>
      </div>
      <div>
        <p>Average number of queues in the storage account’s Queue service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.queueMessagesCount</code></p>
      </div>
      <div>
        <p>Approximate average number of queue messages in the storage account’s Queue service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.transactions</code></p>
      </div>
      <div>
        <p>Total number of requests made to a Queue storage service.</p>
      </div>
      <div>
        <p><code>responseType</code></p>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.ingressBytes</code></p>
      </div>
      <div>
        <p>Total amount of ingress data into the Queue storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.egressBytes</code></p>
      </div>
      <div>
        <p>Total amount of egress data from the Queue storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.successServerLatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average latency used by Azure Storage to process a successful request, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.successE2ELatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average end-to-end latency of successful requests made to the Queue storage service, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queues.availabilityPercent</code></p>
      </div>
      <div>
        <p>The percentage of availability for the Queue storage service.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
  </div>
</div>
<h3>Files [#files-data]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Metric</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>files.fileCapacityBytes</code></p>
      </div>
      <div>
        <p>Average amount of storage used by the storage account’s File service in bytes.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.fileCount</code></p>
      </div>
      <div>
        <p>Average number of file in the storage account’s File service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.fileShareCount</code></p>
      </div>
      <div>
        <p>Average number of file shares in the storage account’s File service.</p>
      </div>
      <div>
        <p>None</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.transactions</code></p>
      </div>
      <div>
        <p>Total number of requests made to a File storage service.</p>
      </div>
      <div>
        <p><code>responseType</code></p>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.ingressBytes</code></p>
      </div>
      <div>
        <p>Total amount of ingress data into the File storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.egressBytes</code></p>
      </div>
      <div>
        <p>Total amount of egress data from the File storage service, in bytes.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.successServerLatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average latency used by Azure Storage to process a successful request, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.successE2ELatencyMilliseconds</code></p>
      </div>
      <div>
        <p>The average end-to-end latency of successful requests made to the File storage service, in milliseconds.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>files.availabilityPercent</code></p>
      </div>
      <div>
        <p>The percentage of availability for the File storage service.</p>
      </div>
      <div>
        <p><code>geoType</code></p>
        <p><code>apiName</code></p>
        <p><code>authentication</code></p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>This integration collects the following <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">inventory data</a> about your system's state and configuration.</p>
<h3>/azure/storage/storage-account [#bucket]</h3>
<ul>
  <li><code>encryptionEnabled</code></li>
  <li><code>hasSecondary</code></li>
  <li><code>primaryStatus</code></li>
  <li><code>provisioningState</code></li>
  <li><code>regionName</code></li>
  <li><code>resourceGroupName</code></li>
  <li><code>sku</code></li>
  <li><code>type</code></li>
  <li><code>secondaryStatus</code></li>
</ul>
