
<p><a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic's integrations</a> with the <a href="https://cloud.google.com">Google Cloud Platform (GCP)</a> include an integration to report <a href="https://cloud.google.com/load-balancing/">Google Cloud Load Balancing</a> data to New Relic. This document explains how to activate the GCP Cloud Load Balancing integration and describes the data that can be reported.</p>
<h2>Features</h2>
<p>Google Cloud Load Balancing is a software-based managed service for distributing traffic in a single or multiple region. It provides seamless, immediate autoscaling and supports the latest application delivery protocols.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="https://docs.newrelic.com/docs/connect-google-cloud-platform-services-infrastructure">connect your GCP service to New Relic</a>.</p>
<h2>Polling frequency [#polling]</h2>
<p>New Relic integrations query your GCP services according to a polling interval, which varies depending on the integration. The polling frequency for Google Cloud Load Balancer is five minutes. The resolution is 1 data point every minute.</p>
<h2>Find and use data [#find-data]</h2>
<p>After activating the integration and waiting a few minutes (based on the <a href="#polling">polling frequency</a>), data will appear in the New Relic UI. To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">find and use your data</a>, including links to your dashboards and alert settings, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > GCP > (select an integration)</strong>.</p>
<h2>Metric data [#metrics]</h2>
<p>To view <a href="/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#metric">metric data</a> for your GCP Load Balancing integration in New Relic, <a href="/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql">create NRQL queries</a> for <code>GcpHttpLoadBalancerSample</code>, <code>GcpTcpSslProxyLoadBalancerSample</code>, and <code>GcpInternalLoadBalancerSample</code> <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">events</a> and their related attributes.</p>
<h3>GcpHttpLoadBalancerSample [#gcp-http-load-balancer-sample]</h3>
<p>Query <code>GcpHttpLoadBalancerSample</code> events in New Relic to view data for the following attributes:</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Attribute</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>https.BackendLatencies</code></p>
        </div>
        <div>
          <p>Mean latency (in milliseconds) calculated from when the request was sent by the proxy to the backend until the proxy received from the backend the last byte of response.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.BackendRequestBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent as requests from HTTP/S load balancer to backends.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.BackendRequests</code></p>
        </div>
        <div>
          <p>The number of requests served by backends of HTTP/S load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.BackendResponseBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent as responses from backends (or cache) to HTTP/S load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.FrontendTcpRtt</code></p>
        </div>
        <div>
          <p>Mean of the Round-Trip Time (RTT) measured for each connection between client and proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.RequestBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent as requests from clients to HTTP/S load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.Requests</code></p>
        </div>
        <div>
          <p>The number of requests served by HTTP/S load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.ResponseBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent as responses from HTTP/S load balancer to clients.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>https.TotalLatencies</code></p>
        </div>
        <div>
          <p>Mean of the latency (in milliseconds) calculated from when the request was received by the proxy until the proxy got ACK from client on last response byte.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>GcpTcpSslProxyLoadBalancerSample [#gcp-tcp-ssl-proxy-load-balancer-sample]</h3>
<p>Query <code>GcpTcpSslProxyLoadBalancerSample</code> events in New Relic to view data for the following attributes:</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Attribute</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>tcpSslProxy.ClosedConnections</code></p>
        </div>
        <div>
          <p>Number of connections that were terminated over TCP/SSL proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tcpSslProxy.EgressBytes</code></p>
        </div>
        <div>
          <p>Number of bytes sent from VM to client using proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tcpSslProxy.FrontendTcpRtt</code></p>
        </div>
        <div>
          <p>Mean of the smoothed RTT (in milliseconds) measured by the proxy's TCP stack, each minute application layer bytes pass from proxy to client.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tcpSslProxy.IngressBytes</code></p>
        </div>
        <div>
          <p>Number of bytes sent from client to VM using proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tcpSslProxy.NewConnections</code></p>
        </div>
        <div>
          <p>Number of connections that were created over TCP/SSL proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>tcpSslProxy.OpenConnections</code></p>
        </div>
        <div>
          <p>Current number of outstanding connections through the TCP/SSL proxy.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>GcpInternalLoadBalancerSample [#gcp-tcp-ssl-proxy-load-balancer-sample]</h3>
<p>Query <code>GcpInternalLoadBalancerSample</code> events in New Relic to view data for the following attributes:</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Attribute</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>l3.internal.EgressBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent from Internal Load Balancing (ILB) backend to client (for TCP flows it only counts bytes on the application stream).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>l3.internal.EgressPackets</code></p>
        </div>
        <div>
          <p>The number of packets sent from ILB backend to client.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>l3.internal.IngressBytes</code></p>
        </div>
        <div>
          <p>The number of bytes sent from client to ILB backend (for TCP flows it only counts bytes on the application stream).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>l3.internal.IngressPackets</code></p>
        </div>
        <div>
          <p>The number of packets sent from client to ILB backend.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>l3.internal.RttLatencies</code></p>
        </div>
        <div>
          <p>Mean of the RTT (in milliseconds) measured over TCP connections for ILB flows.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>To view <a href="/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#inventory-data">inventory data</a> for GCP Load Balancing services, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Inventory</strong> and search for or select the following:</p>
<h3>gcp/loadbalancing/http-loadbalancer</h3>
<p>This entity represents HTTP and HTTPS Load Balancers.</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>project</code></p>
        </div>
        <div>
          <p>The project id and/or name.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>zone</code></p>
        </div>
        <div>
          <p>The zone or region of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>name</code></p>
        </div>
        <div>
          <p>The name of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>urlMapName</code></p>
        </div>
        <div>
          <p>The name of the urlmap. This is also used as the name of the load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>forwardingRuleName</code></p>
        </div>
        <div>
          <p>The name of the forwarding rule.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>targetProxyName</code></p>
        </div>
        <div>
          <p>The name of the target HTTP/S proxy.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>matchedUrlPathRule</code></p>
        </div>
        <div>
          <p>The prefix of the URL defined in urlmap tree. <code>UNMATCHED</code> is the sink default rule.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendName</code></p>
        </div>
        <div>
          <p>The name of the backend group. It can be a special value if the backend wasn't assigned.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendType</code></p>
        </div>
        <div>
          <p>The type of the backend group. It can be <code>INSTANCE_GROUP</code>, <code>NETWORK_ENDPOINT_GROUP</code>, or a special value if the backend wasn't assigned.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScope</code></p>
        </div>
        <div>
          <p>The scope (zone-name or region-name) of the backend group. It can be a special value if the backend wasn't assigned, or be empty if there is no response from the backend.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScopeType</code></p>
        </div>
        <div>
          <p>The type of the scope of the backend group. It can be <code>ZONE</code>, <code>REGION</code>, or another special value in case the backend wasn't assigned.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendTargetName</code></p>
        </div>
        <div>
          <p>The name of the backend target - service or bucket.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendTargetType</code></p>
        </div>
        <div>
          <p>The type of the backend target. It can be either <code>BACKEND_SERVICE</code> or <code>BACKEND_BUCKET</code>.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>gcp/loadbalancing/tcp-ssl-proxy-loadbalancer</h3>
<p>This entity represents SSL and TCP Proxy Load Balancers.</p>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>project</code></p>
        </div>
        <div>
          <p>The project id and/or name.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>zone</code></p>
        </div>
        <div>
          <p>The zone or region of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>name</code></p>
        </div>
        <div>
          <p>The name of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendName</code></p>
        </div>
        <div>
          <p>The name of the backend group.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendType</code></p>
        </div>
        <div>
          <p>The type of the backend group. It can be <code>INSTANCE_GROUP</code> or <code>NETWORK_ENDPOINT_GROUP</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScope</code></p>
        </div>
        <div>
          <p>The scope (zone or region) of the backend group.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScopeType</code></p>
        </div>
        <div>
          <p>The type of the scope of the backend group. It can be either <code>ZONE</code> or <code>REGION</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendTargetName</code></p>
        </div>
        <div>
          <p>The name of the backend target (<code>backend service</code>, equivalent to <code>proxy name</code>).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backentTargetType</code></p>
        </div>
        <div>
          <p>The type of the backend target. Currently it can only be <code>BACKEND_SERVICE</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>forwardingRuleName</code></p>
        </div>
        <div>
          <p>The name of the forwarding rule.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>targetProxyName</code></p>
        </div>
        <div>
          <p>The name of the target TCP/SSL proxy.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>gcp/loadbalancing/tcp-internal-loadbalancer</h3>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>project</code></p>
        </div>
        <div>
          <p>The project id and/or name.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>zone</code></p>
        </div>
        <div>
          <p>The zone or region of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>name</code></p>
        </div>
        <div>
          <p>The name of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>networkName</code></p>
        </div>
        <div>
          <p>The name of the virtual network.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>loadBalancerName</code></p>
        </div>
        <div>
          <p>The name of the load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendName</code></p>
        </div>
        <div>
          <p>The name of the backend group that handled the connection.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendType</code></p>
        </div>
        <div>
          <p>The type of the backend group that handled the connection. Currently it's <code>INSTANCE_GROUP</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScope</code></p>
        </div>
        <div>
          <p>The scope (zone or region) of the backend group that handled the connection.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScopeType</code></p>
        </div>
        <div>
          <p>The type of the scope of the backend group that handled the connection. It can be either <code>ZONE</code> or <code>REGION</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendTargetName</code></p>
        </div>
        <div>
          <p>The name of the backend target that handled the connection (equivalent to <code>load_balancer_name</code>).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backentTargetType</code></p>
        </div>
        <div>
          <p>The type of the backend target that handled the connection. Currently it's <code>BACKEND_SERVICE</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendSubNetworkName</code></p>
        </div>
        <div>
          <p>The name of the subnetwork of the backend.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>forwardingRuleName</code></p>
        </div>
        <div>
          <p>The name of the forwarding rule.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>protocol</code></p>
        </div>
        <div>
          <p>The load balancer protocol. It can be either <code>TCP</code> or <code>UDP</code>.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<h3>gcp/loadbalancing/udp-internal-loadbalancer</h3>
<div>
  <div data-component="Table" data-prop="W10=">
    <div>
      <div>
        <div>
          <p>Name</p>
        </div>
        <div>
          <p>Description</p>
        </div>
      </div>
    </div>
    <div>
      <div>
        <div>
          <p><code>project</code></p>
        </div>
        <div>
          <p>The project id and/or name.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>zone</code></p>
        </div>
        <div>
          <p>The zone or region of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>name</code></p>
        </div>
        <div>
          <p>The name of the entity.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>networkName</code></p>
        </div>
        <div>
          <p>The name of the virtual network.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>loadBalancerName</code></p>
        </div>
        <div>
          <p>The name of the load balancer.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendName</code></p>
        </div>
        <div>
          <p>The name of the backend group that handled the connection.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendType</code></p>
        </div>
        <div>
          <p>The type of the backend group that handled the connection. Currently it's <code>INSTANCE_GROUP</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScope</code></p>
        </div>
        <div>
          <p>The scope (zone or region) of the backend group that handled the connection.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendScopeType</code></p>
        </div>
        <div>
          <p>The type of the scope of the backend group that handled the connection. It can be either <code>ZONE</code> or <code>REGION</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendTargetName</code></p>
        </div>
        <div>
          <p>The name of the backend target that handled the connection (equivalent to <code>load_balancer_name</code>).</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backentTargetType</code></p>
        </div>
        <div>
          <p>The type of the backend target that handled the connection. Currently it's <code>BACKEND_SERVICE</code>.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>backendSubNetworkName</code></p>
        </div>
        <div>
          <p>The name of the subnetwork of the backend.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>forwardingRuleName</code></p>
        </div>
        <div>
          <p>The name of the forwarding rule.</p>
        </div>
      </div>
      <div>
        <div>
          <p><code>protocol</code></p>
        </div>
        <div>
          <p>The load balancer protocol. It can be either <code>TCP</code> or <code>UDP</code>.</p>
        </div>
      </div>
    </div>
  </div>
</div>
