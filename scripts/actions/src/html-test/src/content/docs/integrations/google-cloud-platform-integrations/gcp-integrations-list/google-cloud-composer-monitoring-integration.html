
<p>We offer a cloud integration for reporting your GCP Composer data to our platform. Here we explain how to activate the integration and what data it collects.</p>
<h2>Activate the integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="/docs/connect-google-cloud-platform-services-infrastructure">connect your GCP service</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>Default <a href="/docs/integrations/google-cloud-platform-integrations/getting-started/polling-intervals-gcp-integrations">polling</a> information for the GCP Composer integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
</ul>
<h2>Find and use data [#find-data]</h2>
<p>To find your integration data, go to <strong><a href="https://one.newrelic.com/" title="Link opens in a new window.">one.newrelic.com</a> > Infrastructure > GCP</strong> and select the integration.</p>
<p>Data is attached to the following <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event types</a>:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Entity</p>
      </div>
      <div>
        <p>Event Type</p>
      </div>
      <div>
        <p>Provider</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Environment</p>
      </div>
      <div>
        <p><code>GcpComposerEnvironmentSample</code></p>
      </div>
      <div>
        <p><code>GcpComposerEnvironment</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>Workflow</p>
      </div>
      <div>
        <p><code>GcpComposerWorkflowSample</code></p>
      </div>
      <div>
        <p><code>GcpComposerWorkflow</code></p>
      </div>
    </div>
  </div>
</div>
<p>For more on how to use your data, see <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand and use integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>This integration collects GCP Composer data for Environment and Workflow.</p>
<h3>Composer Environment data</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Unit</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>environment.api.Request</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of Composer API requests seen so far.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.api.RequestLatencies</code></p>
      </div>
      <div>
        <p>Milliseconds</p>
      </div>
      <div>
        <p>Distribution of Composer API call latencies.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.dag_processing.ParseError</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of errors raised during parsing DAG files.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.dag_processing.Processes</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of currently running DAG parsing processes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.dag_processing.ProcessorTimeout</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of file processors terminated due to processing timeout.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.dag_processing.TotalParseTime</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>Number of seconds taken to scan and import all DAG files once.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.DagbagSize</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>The current dag bag size.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.cpu.ReservedCores</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of cores reserved for the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.cpu.UsageTime</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>CPU usage time of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.cpu.Utilization</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>CPU utilization ratio (from 0.0 to 1.0) of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.disk.BytesUsed</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Used disk space in bytes on the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.disk.Quota</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Maximum data disk size in bytes of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.disk.Utilization</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Disk quota usage ratio (from 0.0 to 1.0) of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.memory.BytesUsed</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Memory usage of the database instance in bytes.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.memory.Quota</code></p>
      </div>
      <div>
        <p>Bytes</p>
      </div>
      <div>
        <p>Maximum RAM size in bytes of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.database.memory.Utilization</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Memory utilization ratio (from 0.0 to 1.0) of the database instance.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.executor.OpenSlots</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of open slots on executor.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.executor.RunningTasks</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of running tasks on executor.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.FinishedTaskInstance</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Overall task instances.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.NumCeleryWorkers</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of Celery workers.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.SchedulerHeartbeat</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Scheduler heartbeats.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.TaskQueueLength</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of tasks in queue.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.worker.PodEviction</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>The number of Airflow worker pods evictions.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>environment.ZombieTaskKilled</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of zombie tasks killed.</p>
      </div>
    </div>
  </div>
</div>
<h3>Composer Workflow data</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Unit</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>workflow.Run</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of workflow runs completed so far.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>workflow.RunDuration</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>Duration of workflow run completion.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>workflow.task.Run</code></p>
      </div>
      <div>
        <p>Count</p>
      </div>
      <div>
        <p>Number of workflow tasks completed so far.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>workflow.task.RunDuration</code></p>
      </div>
      <div>
        <p>Seconds</p>
      </div>
      <div>
        <p>Duration of task completion.</p>
      </div>
    </div>
  </div>
</div>
