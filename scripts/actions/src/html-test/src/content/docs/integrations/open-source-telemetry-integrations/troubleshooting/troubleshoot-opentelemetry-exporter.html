
<p><a href="http://opentelemetry.io">OpenTelemetry</a> is an emerging standard for service-level instrumentation. Because it has not yet reached 1.0 for any language, the OpenTelemetry SDK, APIs, and instrumentation are subject to change.</p>
<p>If you're using a <a href="/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-opentelemetry-integration">New Relic OpenTelemetry exporter</a>, but you're not seeing the data you expect, this guide should help.</p>
<p>OpenTelemetry currently supports two telemetry types: distributed traces and metrics. Through the New Relic UI, you can see your traces and metrics, as well as a view that focuses on errors. Learn more about how to <a href="/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-opentelemetry-integration#h2-find-your-data">find your data</a>.</p>
<h2>Install</h2>
<p>If you haven’t already, install the <a href="https://docs.newrelic.com/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-opentelemetry-integration">New Relic exporter</a> and OpenTelemetry SDK for your language. Instructions vary by language. With that, you can make calls to the OpenTelemetry API to record traces and metrics.</p>
<p>If OpenTelemetry supports auto-instrumentation for your language, you can include that artifact so that you don’t have to call the OpenTelemetry API. The auto-instrumentation artifact will automatically instrument a number of popular frameworks and libraries. In the near future, New Relic will provide a single bundle to download with auto-instrumentation. For now, see the <a href="http://opentelemetry.io">OpenTelemetry</a> site for details for your language.</p>
<h3>Entity not found</h3>
<p>If your OpenTelemetry SDK logs an error, or you can’t find your service in the <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/ui-data/new-relic-one-entity-explorer-view-performance-across-apps-services-hosts">New Relic entity explorer</a>, check that you have configured your <a href="/docs/apis/get-started/intro-apis/types-new-relic-api-keys#event-insert-key">Insert API key</a> and service name in your New Relic exporter. See the language-specific exporter documentation for how to do this. If you're still having trouble, turn on logging in the <a href="https://docs.newrelic.com/docs/data-ingest-apis/get-data-new-relic/new-relic-sdks/telemetry-sdks-send-custom-telemetry-data-new-relic">New Relic Telemetry SDK</a>.</p>
<p>While it introduces more complexity, you can send your data through the <a href="https://github.com/open-telemetry/opentelemetry-collector">OpenTelemetry collector</a>. To do so, configure your OpenTelemetry SDK <code>service.name</code> as a resource and configure the SDK to send data to the collector. Then configure the collector with the <a href="https://github.com/newrelic/opentelemetry-exporter-go">New Relic exporter for Go</a> with your Insert API key. Consult the <a href="https://opentelemetry.io/docs/collector/about/">collector documentation</a> if you're having trouble sending data through the collector.</p>
<p>Once OpenTelemetry is configured with the API key and service name, you should be able to find your service in the <a href="https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/ui-data/new-relic-one-entity-explorer-view-performance-across-apps-services-hosts">entity explorer</a>. Select your service to view its summary page.</p>
<h2>Traces</h2>
<p>When viewing your OpenTelemetry data, on the left side of the UI you can select <strong>Distributed tracing</strong> to visualize <a href="/docs/understand-dependencies/distributed-tracing/ui-data/understand-use-distributed-trace-ui">distributed traces</a>.</p>
<p>If you don’t see any traces, ensure that:</p>
<ul>
  <li>Your service was reporting during the time window</li>
  <li>You have added OpenTelemetry API calls to create trace spans</li>
  <li>If you are using OpenTelemetry auto-instrumentation, the instrumentation supports the libraries and frameworks that you are using</li>
</ul>
<p>Traces are the most mature telemetry type in OpenTelemetry, so you'll find the richest performance information from traces.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>By default OpenTelemetry SDKs sample 100% of the traces and spans. For high throughput services, that may generate more telemetry data than is desirable. See the SDK documentation for how to choose a sampling strategy and threshold that meets your needs.</p>
</div>
<h2>Metrics [#h2_list_example]</h2>
<p>When viewing your OpenTelemetry data, on the left side of the UI you can select <strong>Metrics explorer</strong> to visualize metrics and create dashboards. If you don’t see metrics, you may need to add OpenTelemetry API calls to add the metrics that you care about.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>The OpenTelemetry standard for metric naming is still being defined and to date most instrumentation includes trace spans but not metrics. We expect that more instrumentation will include metrics in the coming months.</p>
</div>
<h2>Errors</h2>
<p>When viewing your OpenTelemetry data, on the left side of the UI you can select <strong>Errors</strong> to understand what errors your service is generating. The count of errors is based on how many traces have a span with the attribute <code>error.stack</code>. If you don’t see the errors listed that you expect to see, check that your instrumentation sets the following three attributes:</p>
<ul>
  <li>error.stack</li>
  <li>error.msg</li>
  <li>error.type</li>
</ul>
<p>In order for the error to be listed, a span must have an attribute that starts with <code>error.</code></p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>The OpenTelemetry standard for representing errors in traces and metrics is still being defined so these attribute names are subject to change. We expect the specification to be frozen very soon.</p>
</div>
