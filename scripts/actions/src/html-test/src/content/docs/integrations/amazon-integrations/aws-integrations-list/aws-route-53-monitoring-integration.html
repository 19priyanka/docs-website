
<p><a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">New Relic infrastructure integrations</a> include an integration for reporting your Amazon Route 53 data to New Relic. This document explains how to activate the integration and describes the data reported.</p>
<h2>Features</h2>
<p><a href="https://aws.amazon.com/route53/">Amazon Route 53</a> helps you register domain names, route Internet traffic to the appropriate resources, and check the health of your resources to make sure your web app is always up and running.</p>
<p>For AWS health-checks, Amazon Route 53 determines whether a resource record set is healthy based on one of the following criteria:</p>
<ul>
  <li>By periodically sending a request to the endpoint that is specified in the health check</li>
  <li>By aggregating the status of a specified group of health checks (calculated health checks)</li>
  <li>By determining the current state of a CloudWatch alarm (CloudWatch metric health checks)</li>
</ul>
<p>Data reported to New Relic includes connection time, health checks, time to first byte, and other <a href="#metrics">metrics</a> and <a href="#inventory">inventory data</a>. Route 53 data is available in pre-built dashboards and you can also create custom queries and charts in <a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights">New Relic One</a>.</p>
<h2>Activate integration [#activate]</h2>
<p>To enable this integration follow standard procedures to <a href="https://docs.newrelic.com/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure">Connect AWS services to New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>Default <a href="/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations">polling</a> information for the Amazon Route 53 integration:</p>
<ul>
  <li>New Relic polling interval: 5 minutes</li>
  <li>Amazon CloudWatch data interval: 1 minute</li>
</ul>
<h2>Find and use data [#find-data]</h2>
<p>To find your integration data, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > AWS</strong> and select one of the Route 53 integration links.</p>
<p>You can <a href="https://docs.newrelic.com/docs/using-new-relic/data/understand-data/query-new-relic-data">query and explore your data</a> using the <code>HealthCheckSample</code> <a href="https://docs.newrelic.com/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event type</a>, with a <code>provider</code> value of <code>Route53HealthCheck</code>.</p>
<p>For more on how to use your data, see <a href="https://docs.newrelic.com/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>New Relic Infrastructure Integrations supports the following Route 53 health check metrics. For more details on these metrics, see <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/r53-metricscollected_shared.html">Amazon's Route 53 documentation</a>.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>ChildHealthCheckHealthyCount</code></p>
      </div>
      <div>
        <p>For a calculated health check, the number of health checks that are healthy among the health checks that Amazon Route 53 is monitoring.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ConnectionTime</code></p>
      </div>
      <div>
        <p>The average time, in milliseconds, that it took Amazon Route 53 health checkers to establish a TCP connection with the endpoint. You can view <code>ConnectionTime</code> for a health check either across all regions or for a selected geographic region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>HealthCheckPercentageHealthy</code></p>
      </div>
      <div>
        <p>The percentage of Amazon Route 53 health checkers that consider the selected endpoint to be healthy. You can view <code>HealthCheckPercentageHealthy</code> only across all regions; data is not available for a selected region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>HealthCheckStatus</code></p>
      </div>
      <div>
        <p>The status of the health check endpoint that CloudWatch is checking. <strong>1</strong> indicates healthy, and <strong>0</strong> indicates unhealthy. You can view <code>HealthCheckStatus</code> only across all regions; data is not available for a selected region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>SSLHandshakeTime</code></p>
      </div>
      <div>
        <p>The average time, in milliseconds, that it took Amazon Route 53 health checkers to complete the SSL handshake. You can view <code>SSLHandshakeTime</code> for a health check either across all regions or for a selected geographic region.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>TimeToFirstByte</code></p>
      </div>
      <div>
        <p>The average time, in milliseconds, that it took Amazon Route 53 health checkers to receive the first byte of the response to an HTTP or HTTPS request. You can view <code>TimeToFirstByte</code> for a health check either across all regions or for a selected geographic region.</p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>This integration collects the following Amazon Route 53 inventory data under the key <code>aws/route53</code>. For more about inventory data, see <a href="https://docs.newrelic.com/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">Understand integration data</a>.</p>
<h3>/zone [#attributes-zone attributes]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>domainName</code></p>
      </div>
      <div>
        <p>Name of the domain.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>zoneId</code></p>
      </div>
      <div>
        <p>ID of the hosted zone.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>isPrivate</code></p>
      </div>
      <div>
        <p>Boolean representing whether a zone is private or not.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>comment</code></p>
      </div>
      <div>
        <p>Any comments about the hosted zone.</p>
      </div>
    </div>
  </div>
</div>
<h3>/zone/record-set [#attributes-zone-record-set attributes]</h3>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>All data in /zone/record-set will only be gathered if <a href="https://docs.newrelic.com/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations#extended">extended inventory</a> is <strong>ON</strong>.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>name</code></p>
      </div>
      <div>
        <p>Name of the Record Set.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ttl</code></p>
      </div>
      <div>
        <p>The resource record cache time to live (TTL), in seconds.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>type</code></p>
      </div>
      <div>
        <p>DNS record type</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>weight</code></p>
      </div>
      <div>
        <p><strong>Weighted resource record sets only:</strong> Among resource record sets that have the same combination of DNS name and type, a value that determines the proportion of DNS queries that Amazon Route 53 responds to using the current resource record set. See Route53 documentation for more info.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>aliasTarget</code></p>
      </div>
      <div>
        <p>Information about the CloudFront distribution, AWS Elastic Beanstalk environment, ELB load balancer, Amazon S3 bucket, or Amazon Route 53 resource record set to which you're redirecting queries. JSON format.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>failover</code></p>
      </div>
      <div>
        <p>The failover resource record.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>geoLocation</code></p>
      </div>
      <div>
        <p>Geolocation configuration for the record set, including country code, continent code or subdivision code. JSON format.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>healthCheckId</code></p>
      </div>
      <div>
        <p>Returned in response to a DNS query when the health check is passed. For more information about Route 53 health check criteria, see Amazon's documentation on <a href="http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-determining-health-of-endpoints.html">determining whether an endpoint is healthy</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>Region</code></p>
      </div>
      <div>
        <p>Region where the record set resides</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>records</code></p>
      </div>
      <div>
        <p>Structure containing specific information about the resource record. JSON format. For example: <code>[{"value":"\"v=spf1 include:_spf.google.com ~all\""}]</code>.</p>
      </div>
    </div>
  </div>
</div>
<h3>/health-check [#attributes-health-check attributes]</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>id</code></p>
      </div>
      <div>
        <p>Name of the Record Set.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>config</code></p>
      </div>
      <div>
        <p>Including the HealthCheckConfig structure: Type of Health Check configured (or Health Check Thereshold) if health check is acting in negative logic, and the child health checks in case of calculated health checks. JSON format.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>alarmConfiguration</code></p>
      </div>
      <div>
        <p>Including the AlarmIdentifier structure: Alarm Name, Health Check ID and Region. JSON format.</p>
      </div>
    </div>
  </div>
</div>
