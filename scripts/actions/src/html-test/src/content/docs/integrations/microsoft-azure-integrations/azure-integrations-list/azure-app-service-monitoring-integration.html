
<p><a href="/docs/infrastructure">New Relic infrastructure monitoring</a> provides an integration for <a href="https://azure.microsoft.com/en-us/services/app-service/">Microsoft Azure App Service</a> that reports data from Azure Apps Service to the New Relic platform. This document explains how to activate this integration and describes the data that can be captured.</p>
<h2>Features</h2>
<p>An Azure App Service is a service for hosting and running web applications, REST APIs, and mobile back ends in a fully managed platform. New Relic's integration for Azure App Service reports metric data about your Web Apps, including:</p>
<ul>
  <li>Number of requests received</li>
  <li>Number of HTTP responses and errors</li>
</ul>
<p>It also collects inventory data about the service's status and configuration. Using New Relic, you can:</p>
<ul>
  <li>View Azure Storage data in pre-built infrastructure dashboards.</li>
  <li>Run custom queries and visualize the data in <a href="/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights">New Relic One</a>.</li>
  <li>Create alert conditions to notify you of changes in Storage data.</li>
</ul>
<h2>Activate integration [#activate]</h2>
<p>To enable the integration follow standard procedures to <a href="/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations">activate your Azure service in New Relic</a>.</p>
<h2>Configuration and polling [#polling]</h2>
<p>You can change the polling frequency and filter data using <a href="/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations">configuration options</a>.</p>
<p>New Relic query your Azure App Services according to a default <a href="/docs/integrations/microsoft-azure-integrations/getting-started/azure-integration-polling">polling</a> interval, which varies depending on the integration. Polling frequency for the Azure App Services integration:</p>
<ul>
  <li>Polling interval: 5 minutes</li>
  <li>Resolution: 1 data point per minute</li>
</ul>
<h2>Find and use data [#find-and-use]</h2>
<p>To <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">explore your integration data</a>, go to <a href="http://one.newrelic.com"><strong>one.newrelic.com</strong></a> <strong>> Infrastructure > Azure</strong>.</p>
<p>The <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type">event types</a> are:</p>
<ul>
  <li><code>AzureAppServiceWebAppSample</code>: Represents each of the Azure App Service Web Apps in the account. <a href="#inventory">Inventory data</a> has a <code>provider</code> value of <code>AzureAppServiceWebApp</code>.</li>
  <li><code>AzureAppServiceHostNameSample</code>: Represents each of the domain names bound to a Web App that can be used for accessing it. <a href="#inventory">Inventory data</a> has a <code>provider</code> value of <code>AzureAppServiceHostName</code>.</li>
  <li><code>AzureAppServicePlan:</code> Represents a set of compute resources for a web app to run on.</li>
</ul>
<h2>Metric data [#metrics]</h2>
<p>To view metrics reported by the Azure App Service integration, query the <code>AzureAppServiceWebAppSample</code> or <code>AzureAppServicePlanSample</code> event types. Use the metadata associated with each metric to <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric">filter and facet</a> the data being reported. For detailed metric information, see the <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/metrics-supported#microsoftwebsites-excluding-functions">Azure supported metrics</a> documentation.</p>
<h3>WebApp Metrics</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>appConnections</code></p>
      </div>
      <div>
        <p>Average number of connections.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>averageMemoryWorkingSetBytes</code></p>
      </div>
      <div>
        <p>Average memory working set, in bytes.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>averageResponseTimeSeconds</code></p>
      </div>
      <div>
        <p>Average response time, in seconds.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>cpuTimeSeconds</code></p>
      </div>
      <div>
        <p>Total CPU time, in seconds.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>currentAssemblies</code></p>
      </div>
      <div>
        <p>Average number of current assemblies.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>handles</code></p>
      </div>
      <div>
        <p>Average number of resources handled.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>gen0Collections</code></p>
      </div>
      <div>
        <p>Total number of Gen 0 garbage collections.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>gen1Collections</code></p>
      </div>
      <div>
        <p>Total number of Gen 1 garbage collections.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>gen2Collections</code></p>
      </div>
      <div>
        <p>Total number of Gen 2 garbage collections.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http101</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 101.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http2xx</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 200-299.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http3xx</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 300-399.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http401</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 401.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http403</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 403.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http404</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 404.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http406</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 406.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http4xx</code></p>
      </div>
      <div>
        <p>Total number of HTTP responses 400-499.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>http5xx</code></p>
      </div>
      <div>
        <p>Total number of HTTP server errors 500-599.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioOtherBytesPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Other bytes per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioOtherOperationsPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Other operations per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioReadBytesPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Read bytes per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioReadOperationsPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Other operations bytes per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioWriteBytesPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Write bytes per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>ioWriteOperationsPerSecond</code></p>
      </div>
      <div>
        <p>Total number of IO Other operations bytes per second.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>memoryWorkingSetBytes</code></p>
      </div>
      <div>
        <p>Total bytes of memory working set.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>privateBytes</code></p>
      </div>
      <div>
        <p>Average number of private bytes.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>requests</code></p>
      </div>
      <div>
        <p>Total number of requests to the app.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>requestsInApplicationQueue</code></p>
      </div>
      <div>
        <p>Average number of requests in application queue.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>receivedBytes</code></p>
      </div>
      <div>
        <p>Total number of bytes received by the app.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>sentBytes</code></p>
      </div>
      <div>
        <p>Total number of bytes sent by the app.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>threads</code></p>
      </div>
      <div>
        <p>Average number of threads.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>totalAppDomains</code></p>
      </div>
      <div>
        <p>Total App domains.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p><code>totalAppDomainsUnloaded</code></p>
      </div>
      <div>
        <p>Total App domains unloaded.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
  </div>
</div>
<h3>Service Plan Metrics</h3>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Metric</p>
      </div>
      <div>
        <p>Description</p>
      </div>
      <div>
        <p>Metadata</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>bytesReceivedBytes</p>
      </div>
      <div>
        <p>Amount of data received by the application, in bytes.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>bytesSentBytes</p>
      </div>
      <div>
        <p>Amount of data received by the application, in bytes.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>cpuPercent</p>
      </div>
      <div>
        <p>CPU usage.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>diskQueueLength</p>
      </div>
      <div>
        <p>Length of the disk queue.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>httpQueueLength</p>
      </div>
      <div>
        <p>Length of the HTTP queue.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
    <div>
      <div>
        <p>memoryPercent</p>
      </div>
      <div>
        <p>Memory usage.</p>
      </div>
      <div>
        <p><code>instance</code></p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>The Azure App Service integration reports the following <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data#inventory-data">inventory data</a> about your system's state and configuration.</p>
<h3>azure/appservice/webapp/ [#webapp]</h3>
<ul>
  <li><code>alwaysOn</code></li>
  <li><code>availabilityState</code></li>
  <li><code>clientAffinityEnabled</code></li>
  <li><code>clientCertEnabled</code></li>
  <li><code>containerSize</code></li>
  <li><code>defaultDocuments</code></li>
  <li><code>detailedErrorLoggingEnabled</code></li>
  <li><code>enabled</code></li>
  <li><code>hostNamesDisabled</code></li>
  <li><code>httpLoggingEnabled</code></li>
  <li><code>isPremiumApp</code></li>
  <li><code>linuxFxVersion</code></li>
  <li><code>loadBalancing</code></li>
  <li><code>logsDirectorySizeLimit</code></li>
  <li><code>managedPipelineMode</code></li>
  <li><code>netFrameworkVersion</code></li>
  <li><code>numberOfWorkers</code></li>
  <li><code>operatingSystem</code></li>
  <li><code>phpVersion</code></li>
  <li><code>platformArchitecture</code></li>
  <li><code>regionName</code></li>
  <li><code>remoteDebuggingEnabled</code></li>
  <li><code>resourceGroupName</code></li>
  <li><code>scmSiteAlsoStopped</code></li>
  <li><code>scmType</code></li>
  <li><code>state</code></li>
  <li><code>type</code></li>
  <li><code>usageState</code></li>
  <li><code>vnetName</code></li>
</ul>
<h3>azure/appservice/host-name [#host-name]</h3>
<ul>
  <li><code>dnsRecordType</code></li>
  <li><code>hostNameType</code></li>
  <li><code>hostType</code></li>
  <li><code>webAppName</code></li>
  <li><code>name</code></li>
  <li><code>providerAccountId</code></li>
  <li><code>providerAccountName</code></li>
  <li><code>sslState</code></li>
  <li><code>virtualIp</code></li>
</ul>
<h3>azure/appservice/service-plan</h3>
<ul>
  <li><code>capacity</code></li>
  <li><code>maxInstances</code></li>
  <li><code>numberOfWebApps</code></li>
  <li><code>OperatingSystem</code></li>
  <li><code>pricingTier</code></li>
  <li><code>regionName</code></li>
  <li><code>resourceGroupName</code></li>
  <li><code>type</code></li>
</ul>
