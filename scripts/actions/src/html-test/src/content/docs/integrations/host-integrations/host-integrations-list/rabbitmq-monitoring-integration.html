
<p>The New Relic RabbitMQ <a href="https://docs.newrelic.com/docs/integrations/host-integrations/getting-started/introduction-host-integrations">on-host integration</a> reports metrics and configuration data from your RabbitMQ service, including important metrics relating to the cluster, vhosts, queues, exchanges, and consumers.</p>
<p>Read on to install the integration, and to see what data we collect.</p>
<h2>Compatibility and requirements [#comp-req]</h2>
<p>Our integration is compatible with:</p>
<ul>
  <li>RabbitMQ version 3.0 or higher for Metric data.</li>
  <li>RabbitMQ version 3.7 or higher for Inventory data.</li>
</ul>
<p>Before installing the integration, make sure that you meet the following requirements:</p>
<ul>
  <li>RabbitMQ <a href="https://www.rabbitmq.com/management.html">Management Plugin</a> configured.</li>
  <li>RabbitMQ command line tool, <a href="#rabbitmqctl">rabbitmqctl</a>, in the <code>PATH</code> of the root user.</li>
  <li>If RabbitMQ is <strong>not</strong> running on Kubernetes or Amazon ECS, you must <a href="/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent-new-relic">install the infrastructure agent</a> on a host running RabbitMQ. Otherwise:
    <ul>
      <li>If running on Kubernetes, see <a href="https://docs.newrelic.com/docs/monitor-service-running-kubernetes#requirements">these requirements</a>.</li>
      <li>If running on ECS, see <a href="/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs">these requirements</a>.</li>
    </ul>
  </li>
</ul>
<h2>Install and activate [#install]</h2>
<p>To install the RabbitMQ integration, follow the instructions for your environment:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZWNzLWluc3RhbGwifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkVDUyJ9XQ==">
    <div data-prop-text="title">ECS</div>
    <p>See <a href="/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs">Monitor service running on ECS</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiazhzLWluc3RhbGwifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6Ikt1YmVybmV0ZXMifV0=">
    <div data-prop-text="title">Kubernetes</div>
    <p>See <a href="/docs/monitor-service-running-kubernetes">Monitor service running on Kubernetes</a>.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoibGludXgtaW5zdGFsbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiTGludXgifV0=">
    <div data-prop-text="title">Linux</div>
    <ol>
      <li>
        <p>Follow the instructions for <a href="/docs/install-integrations-package">installing an integration</a>, using the file name <code>nri-rabbitmq</code>.</p>
      </li>
      <li>
        <p>Change the directory to the integrations configuration folder:</p>
        <pre><code>cd /etc/newrelic-infra/integrations.d
</code></pre>
      </li>
      <li>
        <p>Copy the sample configuration file:</p>
        <pre><code>sudo cp rabbitmq-config.yml.sample rabbitmq-config.yml
</code></pre>
      </li>
      <li>
        <p>Edit the <code>rabbitmq-config.yml</code> file as described in the <a href="#config">configuration settings</a>.</p>
      </li>
      <li>
        <p><a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status">Restart the infrastructure agent</a>.</p>
      </li>
    </ol>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoid2luZG93cy1pbnN0YWxsIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJXaW5kb3dzIn1d">
    <div data-prop-text="title">Windows</div>
    <ol>
      <li>
        <p>Download the <code>nri-rabbitmq</code> .MSI installer image from:</p>
        <p><a href="http://download.newrelic.com/infrastructure_agent/windows/integrations/nri-rabbitmq/nri-rabbitmq-amd64.msi">http://download.newrelic.com/infrastructure_agent/windows/integrations/nri-rabbitmq/nri-rabbitmq-amd64.msi</a></p>
      </li>
      <li>
        <p>To install from the Windows command prompt, run:</p>
        <pre><code>msiexec.exe /qn /i PATH\TO\nri-rabbitmq-amd64.msi
</code></pre>
      </li>
      <li>
        <p>In the Integrations directory, <code>C:\Program Files\New Relic\newrelic-infra\integrations.d\</code>, create a copy of the sample configuration file by running:</p>
        <pre><code>cp rabbitmq-config.yml.sample rabbitmq-config.yml
</code></pre>
      </li>
      <li>
        <p>Edit the <code>rabbitmq-config.yml</code> configuration file using the <a href="#config">configuration settings</a>.</p>
      </li>
      <li>
        <p><a href="https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status">Restart the infrastructure agent</a>.</p>
      </li>
    </ol>
  </div>
</div>
<p>Additional notes:</p>
<ul>
  <li><strong>Advanced:</strong> Integrations are also available in <a href="/docs/integrations/host-integrations/installation/install-host-integrations-built-new-relic#tarball">tarball format</a> to allow for install outside of a package manager.</li>
  <li><strong>On-host integrations do not automatically update.</strong> For best results, regularly <a href="/docs/integrations/host-integrations/installation/update-infrastructure-host-integration-package">update the integration package</a> and <a href="/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent">the infrastructure agent</a>.</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>This integration can monitor only one RabbitMQ server instance per host.</p>
</div>
<h2>Configure the integration [#config]</h2>
<p>An integration's YAML-format configuration is where you can place required login credentials and configure how data is collected. Which options you change depend on your setup and preference.</p>
<p>There are several ways to configure the integration, depending on how it was installed:</p>
<ul>
  <li>If enabled via Kubernetes: see <a href="/docs/monitor-service-running-kubernetes">Monitor services running on Kubernetes</a>.</li>
  <li>If enabled via Amazon ECS: see <a href="/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs">Monitor services running on ECS</a>.</li>
  <li>If installed on-host: edit the config in the integration's YAML config file, <code>rabbitmq-config.yml</code>.</li>
</ul>
<p>For an example configuration, see <a href="#example-config">Example config file</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>With secrets management, you can configure on-host integrations with New Relic infrastructure's agent to use sensitive data (such as passwords) without having to write them as plain text into the integration's configuration file. For more information, see <a href="https://docs.newrelic.com/docs/integrations/host-integrations/installation/secrets-management">Secrets management</a>.</p>
</div>
<h3>Commands</h3>
<p>The configuration provides three commands:</p>
<ul>
  <li><code>all</code>: collects all performance metric data, inventory (configuration) data, and event data</li>
  <li><code>inventory</code>: collects only inventory (configuration) data</li>
  <li><code>events</code>: collects only event data</li>
</ul>
<p><strong>Cluster environments</strong></p>
<p>In cluster environments, only one node should use the <code>all</code> command; the rest should use the <code>inventory</code> command.</p>
<p>If you're running a cluster environment in Kubernetes, you need to deploy RabbitMQ as a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/">StatefulSet</a>, and configure the agent to query all the metrics from the RabbitMQ pod. Set the autodiscovery matching condition <a href="https://github.com/newrelic/nri-rabbitmq/blob/master/rabbitmq-config.yml.k8s_sample">in the config file</a> to this value:</p>
<pre><code>discovery:
  command:
    exec: /var/db/newrelic-infra/nri-discovery-kubernetes
    match:
      podName: rabbitmq-0
</code></pre>
<h3>Arguments</h3>
<p>The integration accepts the following arguments:</p>
<ul>
  <li>
    <p><code>hostname</code>: hostname or IP of the RabbitMQ management plugin. Default: localhost.</p>
  </li>
  <li>
    <p><code>port</code>: port number of the RabbitMQ management plugin. Default: 15672.</p>
  </li>
  <li>
    <p><code>username</code>: user that is connecting to RabbitMQ management plugin.</p>
  </li>
  <li>
    <p><code>password</code>: password to connect to RabbitMQ management plugin.</p>
  </li>
  <li>
    <p><code>use_ssl</code>: option to connect using SSL. Default: false.</p>
  </li>
  <li>
    <p><code>ca_bundle_dir/ca_bundle_file</code>: location of SSL certificate on the host.</p>
  </li>
  <li>
    <p><code>node_name_override</code>: overrides the local node name instead of retrieving it from RabbitMQ.</p>
  </li>
  <li>
    <p><code>config_path</code>: absolute path to the RabbitMQ configuration file.</p>
  </li>
  <li>
    <p><code>queues</code>: queue names to collect in the format of a JSON array of strings. If a queue name exactly matches (case sensitive) one of these, it will be collected.</p>
    <p>Example:</p>
    <pre><code>queues: '["myQueue1","myQueue2"]'
</code></pre>
  </li>
  <li>
    <p><code>queues_regexes</code>: queue names to collect in the format of a JSON array of REGEX strings. If a queue name matches one of these, it will be collected.</p>
    <p>Example:</p>
    <pre><code>queues_regexes: '["queue[0-9]+",".*"]'
</code></pre>
  </li>
  <li>
    <p><code>exchanges</code>: exchange names to collect in the format of a JSON array of strings. If an exchange name exactly matches (case sensitive) one of these, it will be collected.</p>
  </li>
  <li>
    <p><code>exchanges_regexes</code>: queue names to collect in the format of a JSON array of REGEX strings. If an exchange name matches one of these it will be collected.</p>
  </li>
  <li>
    <p><code>vhosts</code>: vhost names to collect in the format of a JSON array of strings. If a vhost name exactly matches (case sensitive) one of these, it will be included. This also affects only collecting entities belonging to vhosts specified.</p>
  </li>
  <li>
    <p><code>vhosts_regexes</code>: vhost names to collect in the format of a JSON array of REGEX strings. If a vhost name matches one of these the vhost and any entities belonging to this vhost will be collected.</p>
  </li>
</ul>
<h3>Labels</h3>
<p>The <code>labels</code> field accepts the following arguments:</p>
<ul>
  <li><code>env</code>: This controls the environment inventory attribute. Default: production.</li>
  <li><code>role</code>: Identifies which role is accessing the data.</li>
</ul>
<h3>Example configuration [#example-config]</h3>
<p>Here's an example configuration file:</p>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiZXhhbXBsZS1jb25maWcifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6InJhYmJpdG1xLWNvbmZpZy1zYW1wbGUueW1sIn1d">
    <div data-prop-text="title">rabbitmq-config-sample.yml</div>
    <pre><code>
integration_name: com.newrelic.rabbitmq

instances:
  - name: ADD_LUSTER_NAME
    # Available commands are "all", "metrics", and "inventory"
    command: all
    arguments:
      # Hostname or IP of RabbitMQ host
      hostname: ADD_HOSTNAME
      port: mANAGEMENT_UI_PORT
      username: MANAGEMENT_UI_USERNAME
      password: MANAGEMENT_UI_PASSWORD
      ca_bundle_dir: CA_BUNDLE_DIRECTORY
      ca_bundle_file: CA_BUNDLE_FILE
      node_name_override: LOCAL_NODE_NAME
      config_path: /path/to/config/file/rabbitmq.conf
      # Boolean value, option to connect using SSL
      use_ssl: false
      # JSON array of queue names to collect
      queues: ARRAY_OF_QUEUE_NAMES
      # JSON array of regexes, matching queue names will be collected
      queues_regexes: ARRAY_OF_QUEUE_REGEXES
      # JSON array of exchange names to collect
      exchanges: ARRAY_OF_EXCHANGE_NAMES
      # JSON array of regexes, matching exchange names will be collected
      exchanges_regexes: ARRAY_OF_EXCHANGE_REGEXES
      # JSON array of vhost names to collect
      vhosts: ARRAY_OF_VHOST_NAMES
      # JSON array of regexes, entities assigned to vhosts matching a regex
      # will be collected
      vhosts_regexes: ARRAY_OF_HOST_REGEXE
    labels:
      env: production
      role: rabbitmq

</code></pre>`
  </div>
</div>
<p>For more about the general structure of on-host integration configuration, see <a href="/docs/integrations/integrations-sdk/file-specifications/host-integration-configuration-overview">Configuration</a>.</p>
<h2>Find and use data [#find-and-use]</h2>
<p>Data from this service is reported to an <a href="/docs/integrations/new-relic-integrations/getting-started/infrastructure-integration-dashboards-charts">integration dashboard</a>.</p>
<p>Metrics are attached to these <a href="/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic">event types</a>:</p>
<ul>
  <li><a href="#vhostsample">RabbitmqVhostSample</a></li>
  <li><a href="#nodesample">RabbitmqNodeSample</a></li>
  <li><a href="#exchangesample">RabbitmqExchangeSample</a></li>
  <li><a href="#queuesample">RabbitmqQueueSample</a></li>
</ul>
<p>You can <a href="/docs/using-new-relic/data/understand-data/query-new-relic-data">query this data</a> for troubleshooting purposes or to create custom charts and dashboards.</p>
<p>For more on how to find and use your data, see <a href="/docs/infrastructure/integrations/find-use-infrastructure-integration-data">Understand integration data</a>.</p>
<h2>Metric data [#metrics]</h2>
<p>The RabbitMQ integration collects the following metric data attributes. Each metric name is prefixed with a category indicator and a period, such as queue. or node..</p>
<h3>RabbitMQ vhost sample event [#vhostsample]</h3>
<p>These attributes are attached to the <code>RabbitmqVhostSample</code> event type:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>vhost.connectionsBlocked</code></p>
      </div>
      <div>
        <p>Number of current connections in the state blocked.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>vhost.connectionsBlocking</code></p>
      </div>
      <div>
        <p>Number of current connections in the state blocking.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>vhost.connectionsClosed</code></p>
      </div>
      <div>
        <p>Number of current connections in the state closed.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>vhost.connectionsClosing</code></p>
      </div>
      <div>
        <p>Number of current connections in the state closing.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>vhost.connectionsFlow</code></p>
      </div>
      <div>
        <p>Number of current connections in the state flow.</p>
      </div>
    </div>
    <div>
      <div>
        <p>vhost.connectionsOpening</p>
      </div>
      <div>
        <p>Number of current connections in the state opening.</p>
      </div>
    </div>
    <div>
      <div>
        <p>vhost.connectionsRunning</p>
      </div>
      <div>
        <p>Number of current connections in the state running.</p>
      </div>
    </div>
    <div>
      <div>
        <p>vhost.connectionsStarting</p>
      </div>
      <div>
        <p>Number of current connections in the state starting.</p>
      </div>
    </div>
    <div>
      <div>
        <p>vhost.connectionsTotal</p>
      </div>
      <div>
        <p>Number of current connections to a given rabbitmq vhost.</p>
      </div>
    </div>
    <div>
      <div>
        <p>vhost.connectionsTuning</p>
      </div>
      <div>
        <p>Number of current connections in the state tuning.</p>
      </div>
    </div>
  </div>
</div>
<h3>RabbitMQ node sample event [#nodesample]</h3>
<p>These attributes are attached to the <code>RabbitmqNodeSample</code> event type:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>node.averageErlangProcessesWaiting</p>
      </div>
      <div>
        <p>Average number of Erlang processes waiting to run. In RabbitMQ this is seen as <code>run_queue</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.diskAlarm</code></p>
      </div>
      <div>
        <p>Node disk alarm (0 or 1). 0 shows that the alarm is not tripped and 1 shows that the alarm is tripped. In RabbitMQ this is seen as <code>disk_free_alarm</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.diskSpaceFreeInBytes</code></p>
      </div>
      <div>
        <p>Current free disk space in bytes. In RabbitMQ this is seen as <code>disk_free</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.fileDescriptorsTotalUsed</code></p>
      </div>
      <div>
        <p>The total count of file descriptors used. In RabbitMQ this is seen as <code>fd_used</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.fileDescriptorsUsedSockets</code></p>
      </div>
      <div>
        <p>Number of file descriptors used as sockets. In RabbitMQ this is seen as <code>sockets_used</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.hostMemoryAlarm</code></p>
      </div>
      <div>
        <p>Host memory alarm (0 or 1). 0 shows that the alarm is not tripped and 1 shows that the alarm is tripped. In RabbitMQ this is seen as <code>mem_alarm</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.totalMemoryUsedInBytes</code></p>
      </div>
      <div>
        <p>Memory used in bytes. In RabbitMQ this is seen as <code>mem_used</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.paritionsSeen</code></p>
      </div>
      <div>
        <p>Number of network partitions seen per node. In RabbitMQ this is seen as <code>partitions</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>node.running</code></p>
      </div>
      <div>
        <p>Node running (0 or 1). 0 shows that the node is not running and 1 shows that the node is running. In RabbitMQ this is seen as <code>running</code>.</p>
      </div>
    </div>
  </div>
</div>
<h3>RabbitMQ exchange sample event [#exchangesample]</h3>
<p>These attributes are attached to the <code>RabbitmqExchangeSample</code> event type:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>exchange.bindings</code></p>
      </div>
      <div>
        <p>Number of bindings for a specific exchange.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesDeliveredAcknowledged</code></p>
      </div>
      <div>
        <p>Count of messages delivered to clients and acknowledged per exchange.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesDeliveredAcknowledgedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages delivered to clients and acknowledged per exchange per second.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesConfirmed</code></p>
      </div>
      <div>
        <p>Count of messages confirmed per exchange.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesConfirmedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages confirmed per exchange per second.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesRedelivered</code></p>
      </div>
      <div>
        <p>Count of subset of messages in deliver_get which had the redelivered flag set per queue.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesRedeliveredPerSecond</code></p>
      </div>
      <div>
        <p>Rate of subset of messages in deliver_get which had the redelivered flag set per queue per second.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesReturnedUnroutable</code></p>
      </div>
      <div>
        <p>Count of messages returned to publisher as unroutable per exchange.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesReturnedUnroutablePerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages returned to publisher as unroutable per exchange per second.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublished</code></p>
      </div>
      <div>
        <p>Count of messages published per exchange.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublishedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages published per exchange queue per second.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublishedPerChannel</code></p>
      </div>
      <div>
        <p>Count of messages published from a channel into this exchange. In RabbitMQ this is seen as <code>message_stats.publish_in</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublishedPerChannelPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages published from a channel into this exchange per sec. In RabbitMQ this is seen as <code>message_stats.publish_in_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublishedQueue</code></p>
      </div>
      <div>
        <p>Count of messages published from this exchange into a queue. In RabbitMQ this is seen as <code>message_stats.publish_out</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>exchange.messagesPublishedQueuePerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages published from this exchange into a queue per second. In RabbitMQ this is seen as <code>message_stats.publish_out_details.rate</code>.</p>
      </div>
    </div>
  </div>
</div>
<h3>RabbitMQ queue sample event [#queuesample]</h3>
<p>These attributes are attached to the <code>RabbitmqQueueSample</code> event type:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>queue.bindings</code></p>
      </div>
      <div>
        <p>Number of bindings for a specific queue.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.countActiveConsumersReceiveMessages</code></p>
      </div>
      <div>
        <p>Number of active consumers that can immediately receive any messages sent to the queue. In RabbitMQ this is seen as <code>active_consumers</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.consumers</code></p>
      </div>
      <div>
        <p>Number of consumers per queue. In RabbitMQ this is seen as consumers.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.consumerMessageUtilizationPerSecond</code></p>
      </div>
      <div>
        <p>The ratio of time that a queue's consumers can take new messages (utilization per second). In RabbitMQ this is seen as <code>consumer_utilisation</code>.</p>
        <p>This metric is only available on RabbitMQ version 3.3 or higher.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.erlangBytesConsumedInBytes</code></p>
      </div>
      <div>
        <p>Bytes consumed by the Erlang process associated with the queue. In RabbitMQ this is seen as <code>memory</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesReadyDeliveryClients</code></p>
      </div>
      <div>
        <p>Count of messages ready to be delivered to clients. In RabbitMQ this is seen as <code>message_stats.messages_ready</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesReadyDeliveryClientsPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages ready to be delivered to clients per second. In RabbitMQ this is seen as <code>message_stats.messages_ready_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesReadyUnacknowledged</code></p>
      </div>
      <div>
        <p>Count of messages per queue delivered to clients but not yet acknowledged. In RabbitMQ this is seen as <code>message_stats.deliver_no_ack</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesReadyUnacknowledgedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages per queue delivered to clients but not yet acknowledged per second. In RabbitMQ this is seen as <code>message_stats</code>.deliver_no_ack_details.rate.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesAcknowledged</code></p>
      </div>
      <div>
        <p>Count of messages delivered to clients and acknowledged per queue. In RabbitMQ this is seen as <code>message_stats.ack</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesAcknowledgedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages delivered to clients and acknowledged per second per queue. In RabbitMQ this is seen as <code>message_stats.ack_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesDeliveredAckMode</code></p>
      </div>
      <div>
        <p>Count of messages delivered in acknowledgment mode to consumers per queue. In RabbitMQ this is seen as <code>message_stats.deliver</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesDeliveredAckModePerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages delivered in acknowledgment mode to consumers per queue per second. In RabbitMQ this is seen as <code>message_stats</code>.deliver_details.rate.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesPublished</code></p>
      </div>
      <div>
        <p>Count of messages published per queue. In RabbitMQ this is seen as <code>message_stats.publish</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesPublishedPerSecond</code></p>
      </div>
      <div>
        <p>Rate of messages published per second per queue. In RabbitMQ this is seen as <code>message_stats.publish_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesRedeliverGet</code></p>
      </div>
      <div>
        <p>Count of subset of messages in acknowledgment mode which had the redelivered flag set per queue. In RabbitMQ this is seen as <code>message_stats.redeliver</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.messagesRedeliverGetPerSecond</code></p>
      </div>
      <div>
        <p>Rate of subset of messages in acknowledgment mode which had the redelivered flag set per queue per second. In RabbitMQ this is seen as <code>message_stats.redeliver_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.sumMessagesDelivered</code></p>
      </div>
      <div>
        <p>Sum of messages delivered in acknowledgment mode to consumers, in no-acknowledgment mode to consumers, in acknowledgment mode in response to basic.get, and in no-acknowledgment mode in response to basic.get. per queue. In RabbitMQ this is seen as <code>message_stats.deliver_get</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.sumMessagesDeliveredPerSecond</code></p>
      </div>
      <div>
        <p>Rate per second of the sum of messages delivered in acknowledgment mode to consumers, in no-acknowledgment mode to consumers, in acknowledgment mode in response to basic.get, and in no-acknowledgment mode in response to basic.get per queue. In RabbitMQ this is seen as <code>message_stats.deliver_get_details.rate</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.totalMessages</code></p>
      </div>
      <div>
        <p>Count of the total messages in the queue. In RabbitMQ this is seen as <code>messages</code>.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>queue.totalMessagesPerSecond</code></p>
      </div>
      <div>
        <p>Rate of total messages in queue. In RabbitMQ this is seen as <code>messages_details.rate</code>.</p>
      </div>
    </div>
  </div>
</div>
<h2>System metadata</h2>
<p>Other metadata includes:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Name</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>version.rabbitmq</code></p>
      </div>
      <div>
        <p>The version of the RabbitMQ server. Example: 3.6.7.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>version.management</code></p>
      </div>
      <div>
        <p>The version of the RabbitMQ management plugin. For example: 3.6.7.</p>
      </div>
    </div>
  </div>
</div>
<h2>Inventory data [#inventory]</h2>
<p>The integration captures the configuration parameters of RabbitMQ in the <code>/etc/rabbitmq/rabbitmq.conf</code> file. Inventory data is only captured in <a href="http://www.rabbitmq.com/blog/2018/02/05/whats-new-in-rabbitmq-3-7/">RabbitMQ version 3.7</a> or higher; the <a href="/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data">inventory data</a> will appear on the Infrastructure <a href="/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure"><strong>Inventory</strong> page</a>, under the <code>config/rabbitmq</code> source.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>Be aware that any sensitive information that you put into the <code>rabbit.conf</code> file will appear on the Infrastructure <strong>Inventory</strong> page. This includes items such as the following from AWS:</p>
  <pre><code>cluster_formation.aws.secret_key, 
cluster_formation.aws.access_key_id
</code></pre>
</div>
<h2>Troubleshooting [#troubleshoot]</h2>
<p>Troubleshooting tips:</p>
<div data-component="CollapserGroup" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHJvdWJsZXNob290aW5nLWxpc3QifV0=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoicmFiYml0bXFjdGwtZXJyb3IifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkVycm9yIGdldHRpbmcgbG9jYWwgbm9kZSBuYW1lOiBleGVjOiBcXFwicmFiYml0bXFjdGxcXFwiOiBleGVjdXRhYmxlIGZpbGUgbm90IGZvdW5kIGluICRQQVRIIn1d">
    <div data-prop-text="title">Error getting local node name: exec: \"rabbitmqctl\": executable file not found in $PATH</div>
    <p>If you receive this error, it means that the RabbitMQ command line tool, <a href="https://www.rabbitmq.com/rabbitmqctl.8.html">rabbitmqctl</a>, is not in the PATH of the root user. To correct this issue, execute the following command:</p>
    <pre><code>find -name "rabbitmqctl"
export PATH="$PATH:&#x3C;LOCATION_TO_RABBITMQCTL>

</code></pre>
  </div>
</div>
<h2>Check the source code [#source-code]</h2>
<p>This integration is open source software. That means you can <a href="https://github.com/newrelic/nri-rabbitmq" title="Link opens in a new window.">browse its source code</a> and send improvements, or create your own fork and build it.</p>
<h2>For more help</h2>
