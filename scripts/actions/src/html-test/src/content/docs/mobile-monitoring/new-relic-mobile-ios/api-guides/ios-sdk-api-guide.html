
<p>Use the iOS SDK API for New Relic Mobile to <a href="/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile">add custom data</a>. For example:</p>
<ul>
  <li>Instrument your own code.</li>
  <li>Start and stop interaction traces from events in your mobile app.</li>
  <li>Record custom metrics.</li>
  <li>Send custom attributes and events to Insights.</li>
  <li>Track networking from libraries not supported automatically.</li>
  <li>Set a custom identifier value with <a href="#setUserId">Objective-C</a> or <a href="#setUserId-swift">Swift</a> to associate user sessions with analysis events and attributes (iOS SDK <a href="/docs/release-notes/mobile-release-notes/ios-release-notes">version 5.9.0 or higher</a>).</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJjYXV0aW9uIn1d">
  <p>Tracing is heavily optimized, but it does impose a performance overhead. Avoid instrumenting methods that are expected to be called hundreds of times.</p>
</div>
<h2>Install the SDK [#installing]</h2>
<p>Ensure you have your app instrumented with the latest New Relic Mobile SDK by using the instructions at <strong><a href="https://rpm.newrelic.com/mobile">rpm.newrelic.com/mobile</a></strong>.</p>
<p>This document contains the iOS SDK instrumentation requirements for:</p>
<ul>
  <li><a href="#objc-instrumentation">Objective C</a></li>
  <li><a href="#swift-instrumentation">Swift</a></li>
</ul>
<p>For details about the available methods for <a href="/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile">custom attributes and events you can send to to New Relic Insights</a>, see the <a href="/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api">iOS SDK API reference</a>. You can also <a href="/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/ios-agent-configuration-feature-flags">configure feature flags</a> for:</p>
<ul>
  <li>Objective-C</li>
  <li>Swift</li>
</ul>
<h2>Automatically instrumented classes and methods [#automatic-instrumentation]</h2>
<p>The following methods (for the listed classes and their sub-classes) are already instrumented by New Relic. You do not need to add custom instrumentation to trace them.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Classes</strong></p>
      </div>
      <div>
        <p><strong>Methods automatically instrumented by New Relic</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>UIViewController</code></p>
      </div>
      <div>
        <ul>
          <li><code>viewDidLoad:</code></li>
          <li><code>viewWillAppear:</code></li>
          <li><code>viewDidAppear:</code></li>
          <li><code>viewWillDisappear:</code></li>
          <li><code>viewDidDisappear:</code></li>
          <li><code>viewWillLayoutSubviews:</code></li>
          <li><code>viewDidLayoutSubviews:</code></li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>UIImage</code></p>
      </div>
      <div>
        <ul>
          <li><code>imageNamed:</code></li>
          <li><code>imageWithContentsOfFile:</code></li>
          <li><code>imageWithData:</code></li>
          <li><code>imageWithData:scale:</code></li>
          <li><code>initWithContentsOfFile:</code></li>
          <li><code>initWithData:</code></li>
          <li><code>initWithData:scale:</code></li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>NSJSONSerialization</code></p>
      </div>
      <div>
        <ul>
          <li><code>JSONObjectWithData:options:error:</code></li>
          <li><code>JSONObjectWithStream:options:error:</code></li>
          <li><code>dataWithJSONObject:options:error:</code></li>
          <li><code>writeJSONObject:toStream:options:error:</code></li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p><code>NSManagedObjectContext</code></p>
      </div>
      <div>
        <ul>
          <li><code>executeFetchRequest:error:</code></li>
          <li><code>processPendingChanges</code></li>
        </ul>
      </div>
    </div>
  </div>
</div>
<p>New Relic Mobile aggregates performance for various methods into summary metrics that appear in New Relic Mobile's <a href="/docs/mobile-monitoring/mobile-monitoring-ui/mobile-app-pages/interactions-page"><strong>Interactions</strong> page</a>. Summary categories include:</p>
<ul>
  <li><code>View loading</code></li>
  <li><code>UI layout</code></li>
  <li><code>Database</code></li>
  <li><code>Images</code></li>
  <li><code>JSON</code></li>
  <li><code>Network</code></li>
</ul>
<h2>Instrument your Objective-C code [#objc-instrumentation]</h2>
<p>To have your own Objective-C code appear in interaction code breakdowns and timelines, add a <code>_START</code> call to the beginning of your method and a <code>_STOP</code> call to the end of it.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>Always include a <code>_STOP</code> for each <code>_START</code>, and only include one set of these commands in a given method. The trace system will automatically pick up the class and method name, and report performance metrics for your method to New Relic Mobile.</p>
</div>
<pre><code>- (void)myMethod
{
  NR_TRACE_METHOD_START(0);

  // … existing code

  NR_TRACE_METHOD_STOP;
}
</code></pre>
<p>If you are not using ARC, use this version of the <code>_STOP</code> macro to avoid memory leaks:</p>
<pre><code>NR_NONARC_TRACE_METHOD_STOP;
</code></pre>
<p>If you want your method’s performance to be included in the summary data on the APM <strong>Overview</strong> page, pass one of the <code>NRTraceType</code> enum values into the <code>_START</code> macro; for example:</p>
<pre><code>NR_TRACE_METHOD_START(NRTraceTypeDatabase);
</code></pre>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoib2JqYy1pbnRlcmFjdGlvbnMifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkNyZWF0ZSBhbmQgY29tcGxldGUgaW50ZXJhY3Rpb25zIn1d">
    <div data-prop-text="title">Create and complete interactions</div>
    <p>By default, an interaction starts when a view controller is pushed. To manually start an interaction with Objective-C, use these API calls:</p>
    <pre><code>NSString* uniqueIdentifier = NR_START_NAMED_INTERACTION(@"name");

</code></pre>This macro will complete the interaction associated with the `uniqueIdentifier` if that interaction has not already completed automatically. You do not need to call this method.
    <pre><code>
NR_INTERACTION_STOP(uniqueIdentifier);

</code></pre>This macro will automatically begin tracking the `name` interaction trace from the current line. It will also complete any previously running interaction. It returns a unique identifier that can be used to complete that interaction by using this API call:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoib2JqYy1yZW5hbWluZy1kZWZhdWx0LWludGVyYWN0aW9uIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJSZW5hbWUgYSBkZWZhdWx0IGludGVyYWN0aW9uIn1d">
    <div data-prop-text="title">Rename a default interaction</div>
    <p>By default, the iOS agent will start an interaction trace when a new view controller is displayed. The interactions are named using the format <code>Display &#x3C;ViewController></code>. To change these default names with Objective-C, implement the <code>- (NSString*) customNewRelicInteractionName</code> instance method in your view controller, where the string returned becomes the interaction's name.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoib2JqYy1oMi1TZXQtYS1jdXN0b20tYXBwbGljYXRpb24tdmVyc2lvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU2V0IGEgY3VzdG9tIGFwcGxpY2F0aW9uIHZlcnNpb24ifV0=">
    <div data-prop-text="title">Set a custom application version</div>
    <p>The New Relic iOS SDK allows you to set a custom application version string with Objective-C. Instead of using the string defined in CFBundleShortVersionString, call the <code>+[NewRelic setApplicationVersion:]</code> method and pass along the custom application version before calling <code>+[NewRelic startWithApplicationToken:];</code></p>
    <pre><code>[NewRelic setApplicationVersion:(NSString*) appVersion];

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoib2JqYy1oMi1TZXQtYS1jdXN0b20tYnVpbGQtaWRlbnRpZmllciJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiU2V0IGEgY3VzdG9tIGJ1aWxkIGlkZW50aWZpZXIifV0=">
    <div data-prop-text="title">Set a custom build identifier</div>
    <p>As of version 5.1.0 of the New Relic iOS SDK, an API method allows you to set a custom build identifier that is displayed next to the application version in New Relic Mobile's <a href="/docs/mobile-monitoring/mobile-monitoring-ui/crashes/view-mobile-app-crashes"><strong>Crash details</strong> page</a>. Instead of using the <code>CFBundleVersion</code> string defined in Xcode with Objective-C, call the <code>+[NewRelic setApplicationBuild:]</code> method, and pass along the custom build identifier.</p>
    <pre><code>[NewRelic setApplicationBuild:(NSString*) buildNumber];

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoib2JqYy1jdXN0b20tbWV0cmljcyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiQ3JlYXRlIGN1c3RvbSBtZXRyaWNzIn1d">
    <div data-prop-text="title">Create custom metrics</div>
    <p>Custom metrics can help track high level events specific to your application. With the <a href="/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/recordmetric-ios-sdk-api"><code>recordMetric</code> API</a>, you can record arbitrary numerical data and named events with Objective-C and Swift. You can also use several API calls to record custom metrics that provide different levels of detail.</p>
  </div>
</div>
<h2>Objective-C: Send custom attributes and events to Insights [#objc-custom-att-events]</h2>
<p>Use methods in the <strong>NewRelic</strong> object to <a href="/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile">send custom attributes and events to New Relic Insights</a>. For details about the available methods for custom attributes and events with Objective-C, see the <a href="/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api">iOS SDK API reference</a>.</p>
<p>Methods that return <code>BOOL</code> results return <code>YES</code> if they succeed, or <code>NO</code> if the operation did not complete. These methods are available in versions 5.0.0 or higher of the New Relic iOS SDK.</p>
<p>The SDK can store up to 128 user-defined <a href="/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition">custom attributes</a> at a time. If you attempt to store more than 128 attributes, the SDK returns <code>NO</code>.</p>
<p>Custom attributes names should use the simplest format needed, and New Relic recommends single word attributes, containing no spaces. Attribute <strong>phrases</strong> can be formatted in camel case, so <code>My Custom Attribute</code> is better specified as <code>myCustomAttribute</code>. As with custom metrics:</p>
<ul>
  <li>Avoid using the characters <code>/ ] [ | *</code> when naming things.</li>
  <li>Avoid multi-byte characters.</li>
</ul>
<h2>Objective-C: Track custom network requests [#custom-identifier]</h2>
<p>If you can express a transactional network request in terms similar to an HTTP request, you can track it in New Relic Mobile. Use URLs that are well-formed and do not include highly variable paths or hostnames.</p>
<p>For requests that <strong>complete</strong>, use this method:</p>
<pre><code>[NewRelic noticeNetworkRequestForURL:(NSURL*)url
                          httpMethod:(NSString*)httpMethod
                           withTimer:(NRTimer *)timer
                     responseHeaders:(NSDictionary *)headers
                          statusCode:(NSInteger)httpStatusCode
                           bytesSent:(NSUInteger)bytesSent
                       bytesReceived:(NSUInteger)bytesReceived
                        responseData:(NSData *)responseData
                           andParams:(NSDictionary *)params];
</code></pre>
<p>Parameters include:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Parameter</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>url</code></p>
      </div>
      <div>
        <p>The URL of the request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpMethod</code></p>
      </div>
      <div>
        <p>The method type of the request; for example, POST, GET, etc.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>timer</code></p>
      </div>
      <div>
        <p>An <code>NRTimer</code> that timed the network request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>headers</code></p>
      </div>
      <div>
        <p>A dictionary containing the HTTP response headers, if available</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpStatusCode</code></p>
      </div>
      <div>
        <p>The response status code</p>
        <p>If the <code>httpStatusCode</code> is greater than or equal to 400, New Relic Mobile will record a server error and may capture the <code>responseData</code> body if provided.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bytesSent</code></p>
      </div>
      <div>
        <p>The size of the request body</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bytesReceived</code></p>
      </div>
      <div>
        <p>The size of the responseBody</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>responseData</code></p>
      </div>
      <div>
        <p>The response body data, captured if New Relic Mobile records server error params</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>params</code></p>
      </div>
      <div>
        <p>Additional parameters included in an HTTP error metric if the HTTP transaction is an error</p>
      </div>
    </div>
  </div>
</div>
<p>For requests that <strong>fail</strong> due to a socket or operating system error, use this method:</p>
<pre><code>[NewRelic noticeNetworkFailureForURL:(NSURL *)url
                          httpMethod:(NSString*)httpMethod
                           withTimer:(NRTimer *)timer
                      andFailureCode:(NSInteger)iOSFailureCode];
</code></pre>
<p>Parameters include:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Parameter</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>url</code></p>
      </div>
      <div>
        <p>The URL of the request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpMethod</code></p>
      </div>
      <div>
        <p>The method type of the request; for example, POST, GET, etc.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>timer</code></p>
      </div>
      <div>
        <p>An <code>NRTimer</code> that timed the network request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>iOSFailureCode</code></p>
      </div>
      <div>
        <p>The failure code</p>
        <p>Failure codes are interpreted as <code>NSURLError*</code> code. To view a complete list of the codes that New Relic Mobile supports, see <strong>NRConstants.h</strong>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Instrument your Swift code [#swift-instrumentation]</h2>
<p>To have your own Swift code appear in interaction code breakdowns and timelines:</p>
<ul>
  <li>Add a <code>startTracingMethod()</code> call to the beginning of your method.</li>
  <li>Add a <code>endTracingMethodWithTimer()</code> call to the end of it.</li>
  <li>Always include an <code>endTracingMethodWithTimer()</code> call for each <code>startTracingMethod()</code> reference.</li>
  <li>Include only one set of these commands in a given method.</li>
</ul>
<pre><code>func myMethod(){
      	let timer = NRTimer();
      	NewRelic.startTracingMethod(#selector(MyClass.myMethod),
        		object: self,
        		timer: timer,
        		category: NRTraceTypeNone)
      	// … existing code
      	NewRelic.endTracingMethodWithTimer(timer)
      }
</code></pre>
<p>If you want your method’s performance to be included in the summary data on the APM <strong>Overview</strong> page, pass one of the <code>NRTraceType</code> enum values into the <code>startTracingMethod()</code> macro; for example:</p>
<pre><code>NewRelic.startTracingMethod(#selector(MyClass.myMethod),
            object: self,
            timer: timer,
            category: NRTraceTypeDatabase)
</code></pre>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3dpZnQtaW50ZXJhY3Rpb25zIn0seyJ0eXBlIjoibWR4QXR0cmlidXRlIiwibmFtZSI6InRpdGxlIiwidmFsdWUiOiJDcmVhdGUgYW5kIGNvbXBsZXRlIFN3aWZ0IGludGVyYWN0aW9ucyJ9XQ==">
    <div data-prop-text="title">Create and complete Swift interactions</div>
    <p>By default, an interaction starts when a view controller is pushed. To manually start an interaction, use these API calls:</p>
    <pre><code>let uniqueIdentifier = NewRelic.startInteraction(withName: "My Interaction")

</code></pre>This method will complete the interaction associated with the `uniqueIdentifier` if that interaction has not already completed automatically. You do not need to call this method.
    <pre><code>
NewRelic.stopCurrentInteraction(uniqueIdentifier)

</code></pre>This call will automatically begin tracking an interaction trace named `My Interaction` from the current line. It will also complete any previously running interaction. It returns a unique identifier that can be used to complete that interaction by using this API call:
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3dpZnQtcmVuYW1pbmctZGVmYXVsdC1pbnRlcmFjdGlvbiJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiUmVuYW1lIGEgZGVmYXVsdCBTd2lmdCBpbnRlcmFjdGlvbiJ9XQ==">
    <div data-prop-text="title">Rename a default Swift interaction</div>
    <p>By default, the iOS agent will start an interaction trace when a new view controller is displayed. The interactions are named using the format <code>Display &#x3C;ViewController></code>. To change these default names, implement the <code>@objc func customNewRelicInteractionName() -> String</code> method in your view controller, where the string returned becomes the interaction's name.</p>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3dpZnQtaDItU2V0IGEtY3VzdG9tLWFwcGxpY2F0aW9uLXZlcnNpb24ifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlNldCBhIGN1c3RvbSBhcHBsaWNhdGlvbiB2ZXJzaW9uIHdpdGggU3dpZnQifV0=">
    <div data-prop-text="title">Set a custom application version with Swift</div>
    <p>The New Relic iOS SDK allows you to set a custom application version string. Instead of using the string defined in CFBundleShortVersionString, call the <code>NewRelic.setApplicationVersion()</code> method, and pass along the custom application version before calling <code>NewRelic.startWithApplicationToken();</code>.</p>
    <pre><code>NewRelic.setApplicationVersion(String appVersion)

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3dpZnQtaDItU2V0LWEtY3VzdG9tLWJ1aWxkLWlkZW50aWZpZXIifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IlNldCBhIGN1c3RvbSBidWlsZCBpZGVudGlmaWVyIHdpdGggU3dpZnQifV0=">
    <div data-prop-text="title">Set a custom build identifier with Swift</div>
    <p>As of version 5.1.0 of the New Relic iOS SDK, an API method allows you to set a custom build identifier that is displayed next to the application version in New Relic Mobile's <a href="/docs/mobile-monitoring/mobile-monitoring-ui/crashes/view-mobile-app-crashes"><strong>Crash details</strong> page</a>. Instead of using the <code>CFBundleVersion</code> string defined in Xcode, call the <code>NewRelic.setApplicationBuild()</code> method, and pass along the custom build identifier.</p>
    <pre><code>NewRelic.setApplicationBuild(buildNumber)

</code></pre>
  </div>
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic3dpZnQtY3VzdG9tLW1ldHJpY3MifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkNyZWF0ZSBjdXN0b20gbWV0cmljcyB3aXRoIFN3aWZ0In1d">
    <div data-prop-text="title">Create custom metrics with Swift</div>
    <p>Custom metrics can help track high level events specific to your application. With the <a href="/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/recordmetric-ios-sdk-api"><code>recordMetric</code> API</a>, you can record arbitrary numerical data and named events with Objective-C and Swift. You can also use several API calls to record custom metrics that provide different levels of detail.</p>
  </div>
</div>
<h2>Swift: Send custom attributes and events to Insights [#swift-custom-att-events]</h2>
<p>Use methods in the <strong>NewRelic</strong> object to <a href="/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile">send custom attributes and events to New Relic Insights</a>. For details about the available methods for custom attributes and events with Swift, see the <a href="/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api">iOS SDK API reference</a>.</p>
<p>Methods that return <code>BOOL</code> results return <code>YES</code> if they succeed, or <code>NO</code> if the operation did not complete. These methods are available in versions 5.0.0 or higher of the New Relic iOS SDK.</p>
<p>The SDK can store up to 128 user-defined <a href="/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition">custom attributes</a> at a time. If you attempt to store more than 128 attributes, the SDK returns <code>NO</code>.</p>
<p>Custom attributes names should use the simplest format needed, and New Relic recommends single word attributes, containing no spaces. Attribute <strong>phrases</strong> can be formatted in camel case, so <code>My Custom Attribute</code> is better specified as <code>myCustomAttribute</code>. As with custom metrics:</p>
<ul>
  <li>Avoid using the characters <code>/ ] [ | *</code> when naming things.</li>
  <li>Avoid multi-byte characters.</li>
</ul>
<h2>Swift: Track custom network requests [#swift-track-custom-network]</h2>
<p>If you can express a transactional network request in terms similar to an HTTP request, you can track it in New Relic Mobile. Use URLs that are well-formed and do not include highly variable paths or hostnames.</p>
<p>For requests that <strong>complete</strong>, use this method:</p>
<pre><code>NewRelic.noticeNetworkRequestForURL(url: NSURL!,
			httpMethod: String!,
    			withTimer: NRTimer!,
    			responseHeaders:[NSObject : AnyObject]!,
    			statusCode: Int,
    			bytesSent: UInt,
    			bytesReceived: UInt,
    			responseData: NSData!,
    			andParams: [NSObject : AnyObject]!)
</code></pre>
<p>Parameters include:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Parameter</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>url</code></p>
      </div>
      <div>
        <p>The URL of the request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpMethod</code></p>
      </div>
      <div>
        <p>The method type of the request; for example, POST, GET, etc.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>timer</code></p>
      </div>
      <div>
        <p>An <code>NRTimer</code> that timed the network request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>headers</code></p>
      </div>
      <div>
        <p>A dictionary containing the HTTP response headers, if available</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpStatusCode</code></p>
      </div>
      <div>
        <p>The response status code</p>
        <p>If the <code>httpStatusCode</code> is greater than or equal to 400, New Relic Mobile will record a server error and may capture the <code>responseData</code> body if provided.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bytesSent</code></p>
      </div>
      <div>
        <p>The size of the request body</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>bytesReceived</code></p>
      </div>
      <div>
        <p>The size of the responseBody</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>responseData</code></p>
      </div>
      <div>
        <p>The response body data, captured if New Relic Mobile records Server error params</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>params</code></p>
      </div>
      <div>
        <p>Additional parameters included in an HTTP error metric if the HTTP transaction is an error</p>
      </div>
    </div>
  </div>
</div>
<p>For requests that <strong>fail</strong> due to a socket or operating system error, use this method:</p>
<pre><code>NewRelic.noticeNetworkFailureForURL(url: NSURL!,
				httpMethod: NSString!,
				withTimer: NRTimer!,
				andFailureCode: Int)
</code></pre>
<p>Parameters include:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Parameter</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>url</code></p>
      </div>
      <div>
        <p>The URL of the request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>httpMethod</code></p>
      </div>
      <div>
        <p>The method type of the request; for example, POST, GET, etc.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>timer</code></p>
      </div>
      <div>
        <p>An <code>NRTimer</code> that timed the network request</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>iOSFailureCode</code></p>
      </div>
      <div>
        <p>The failure code</p>
        <p>Failure codes are interpreted as <code>NSURLError*</code> code. To view a complete list of the codes that New Relic Mobile supports, see <strong>NRConstants.h</strong>.</p>
      </div>
    </div>
  </div>
</div>
