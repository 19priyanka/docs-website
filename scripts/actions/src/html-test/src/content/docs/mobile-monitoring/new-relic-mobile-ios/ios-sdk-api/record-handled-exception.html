
<h2>Syntax</h2>
<pre><code>recordHandledException:(NSException* __nonnull)exception withAttributes:(NSDictionary* __nullable)attributes;
</code></pre>
<p>Records a handled exception. Optionally takes map with additional attributes showing context.</p>
<h2>Requirements</h2>
<p>Agent <a href="/docs/release-notes/mobile-release-notes/ios-release-notes">version 5.15.0 or higher</a>.</p>
<h2>Description</h2>
<p>The <code>recordHandledException</code> API is useful for crash analysis; the captured events will help you understand how often your application is throwing exceptions and under what conditions. In addition to associated custom attributes, the events will also have associated <a href="/docs/insights/insights-data-sources/default-attributes/mobile-default-attributes-insights">session attributes</a>.</p>
<p>This API takes an instance of an <code>NSException</code> and an optional <code>NSDictionary</code> attribute dictionary, then creates a <code>recordHandledException</code> event. You can view event data both in Insights and in New Relic Mobile's UI, in the <a href="https://docs.newrelic.com/docs/mobile-monitoring/mobile-monitoring-ui/crashes/mobile-crash-event-trail">Crash event trail</a>.</p>
<p>For context on how to use this API, see the documentation about sending custom attributes and events to Insights for:</p>
<ul>
  <li><a href="/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#objc-custom-att-events">Objective-C</a></li>
</ul>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$exception</code></p>
        <p><em>NSException</em></p>
      </div>
      <div>
        <p>Required. The exception object that was thrown.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$attributesâ€‹</code></p>
        <p><em>NSDictionary</em></p>
      </div>
      <div>
        <p>Optional. Dictionary of attributes that give context.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>true</code> if the handled exception was recorded successfully, or <code>false</code> if not.</p>
<h2>Examples</h2>
<h3>Objective-C [#obj-c]</h3>
<p><strong>Method:</strong></p>
<pre><code>+ (BOOL) recordHandledException:(NSException* __nonnull)exception withAttributes:(NSDictionary* __nullable)attributes;

+ (BOOL) recordHandledException:(NSException* __nonnull)exception;
</code></pre>
<p><strong>Examples:</strong></p>
<p>Simple Objective-C example:</p>
<pre><code>@try {
       @throw [NSException exceptionWithName:@"versionException"
                                      reason:@"App version no longer supported"
                                    userInfo:nil];
     } @catch (NSException* e) {
       [NewRelic recordHandledException:e];
     }
</code></pre>
<p>Objective-C example with dictionary:</p>
<pre><code>NSException *exception = [NSException exceptionWithName:@"MyException" reason:@"I have my reason" userInfo:nil];
    
    NSDictionary* dictionary = @{@"int": @1,
                                 @"Test Group" : @"A | B"};
    
    [NewRelic recordHandledException:exception withAttributes:dictionary];
</code></pre>
