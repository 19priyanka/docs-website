
<h2>Syntax</h2>
<pre><code>NewRelic.recordHandledException(Exception $exceptionToHandle)
NewRelic.recordHandledException(Exception $exceptionToHandle, Map of String, Object $exceptionAttributes)
</code></pre>
<p>Records a handled exception. Optionally takes map with additional attributes showing context.</p>
<h2>Requirements</h2>
<p>Agent <a href="/docs/release-notes/mobile-release-notes/android-release-notes">version 5.15.0 or higher</a>.</p>
<h2>Description</h2>
<p>Use <code>recordHandledException()</code> within a <code>try{...} catch(){...}</code> block to help understand how often your application is throwing exceptions, and under what conditions.</p>
<ol>
  <li>
    <p>Import the New Relic SDK API for Android:</p>
    <pre><code>import com.newrelic.agent.android.NewRelic;
</code></pre>
  </li>
  <li>
    <p>Record an exception in your app code, and optionally pass in a map of contextual attributes:</p>
    <pre><code>NewRelic.recordHandledException(Exception $exceptionToHandle, Map of String, Object $exceptionAttributes);
</code></pre>
  </li>
</ol>
<p>In addition to associated custom attributes, the events will also have associated <a href="/docs/insights/insights-data-sources/default-attributes/mobile-default-attributes-insights">session attributes</a>. You can view event data both in Insights and in New Relic Mobile's UI, in the <a href="https://docs.newrelic.com/docs/mobile-monitoring/mobile-monitoring-ui/crashes/mobile-crash-event-trail">Crash event trail</a>.</p>
<p>For general information on using the New Relic Android SDK API, see the <a href="/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api">usage guide</a>.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$exceptionToHandle</code></p>
        <p><em>Exception</em></p>
      </div>
      <div>
        <p>Required. The exception object that was thrown.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$exceptionAttributes</code></p>
        <p><em>Map of String,Object</em></p>
      </div>
      <div>
        <p>Optional. Map of attributes that give context.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>true</code> if the handled exception was recorded successfully, or <code>false</code> if not.</p>
<h2>Examples</h2>
<h3>Record handled exception on button press [#exception-button]</h3>
<p>An example of recording a <code>ClassCastException</code> from within an on-click listener:</p>
<pre><code>public class MainActivity extends Activity {
  ...
  coolButton.setOnClickListener(new View.OnClickListener() {
            Map myMap = new HashMap&#x3C;>();
            @Override
            public void onClick(View view) {
                try {
                    myMap.put("Key", "Value");
                    Integer stringVar = (Integer) myMap.get("Key"); //throws ClassCastException
                } catch (Exception e) {
                    NewRelic.recordHandledException(e, myMap);
                }
            }
        });
  ...
}
</code></pre>
