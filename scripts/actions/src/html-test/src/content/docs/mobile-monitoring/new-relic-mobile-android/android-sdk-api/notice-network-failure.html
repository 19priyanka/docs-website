
<h2>Syntax</h2>
<pre><code>NewRelic.noticeNetworkFailure(string $url, string $httpMethod, long $startTime, long $endTime, exception $exception OR enum $networkFailure)
</code></pre>
<p>Records network failures.</p>
<h2>Requirements</h2>
<p>Compatible with all agent versions.</p>
<h2>Description</h2>
<p>The New Relic Android SDK API provides several methods to <a href="/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/noticehttptransaction-android-agent-api">track network requests</a>. If a network request fails, you can record details about the failure with <code>noticeNetworkFailure</code>. In most cases, place this call inside exception handlers, such as catch blocks.</p>
<p>For general info on using the New Relic Android SDK API, see the <a href="/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api">usage guide</a>.</p>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Parameter</strong></p>
      </div>
      <div>
        <p><strong>Description</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <pre><code>NewRelic.noticeNetworkFailure(string $url, string $httpMethod, long $startTime, long $endTime, exception $exception OR $networkFailure)

</code></pre>
      </div>
    </div>
    <div>
      <div>
        <p><code>$url</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The URL of the request.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$httpMethod</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Required. The HTTP method used, such as GET or POST.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$startTime</code></p>
        <p><em>long</em></p>
      </div>
      <div>
        <p>Required. The start time of the request in milliseconds since the epoch.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$endTime</code></p>
        <p><em>long</em></p>
      </div>
      <div>
        <p>Required. The end time of the request in milliseconds since the epoch.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$exception</code></p>
        <p><em>string</em></p>
      </div>
      <div>
        <p>Either this or <code>$failure</code> parameter is required. This is the exception that occurred. New Relic Mobile can automatically translate many common exceptions into network failure types.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$failure</code></p>
        <p><em>enum</em></p>
      </div>
      <div>
        <p>Either this or <code>$exception</code> parameter is required. The type of network failure that occurred. If an exception cannot be resolved to a network failure automatically, this method can be used to categorize the failure accurately. The values are defined by the <code>NetworkFailure</code> enum. Valid values include <code>Unknown</code>, <code>BadURL</code>, <code>TimedOut</code>, <code>CannotConnectToHost</code>, <code>DNSLookupFailed</code>, <code>BadServerResponse</code>, and <code>SecureConnectionFailed</code>.</p>
      </div>
    </div>
  </div>
</div>
<h2>Examples</h2>
<h3>Record network failure</h3>
<p>Here’s an example of an error listener that uses an error as part of the noticed network failure to New Relic:</p>
<pre><code>new Response.ErrorListener() {
                            @Override
                            public void onErrorResponse(Error error) {
                                NewRelic.noticeNetworkFailure(badUrl, "GET", System.nanoTime(), System.nanoTime(), NetworkFailure.exceptionToNetworkFailure(error));
                            }
</code></pre>
