
<p>New Relic Mobile is compliant with standard application stores, including Google Play Store, Amazon Appstore, and others. Before you <a href="/docs/mobile-monitoring/new-relic-mobile-android/install-configure">install and configure New Relic Mobile functionality</a> with your Android applications, follow these guidelines for compatibility and other requirements.</p>
<h2>Foreground monitoring [#foreground]</h2>
<p>New Relic Mobile for Android only monitors your app while it is in the foreground. The agent does not monitor background services while the app is closed. For more information, see our <a href="/docs/mobile-monitoring/new-relic-mobile/get-started/security-mobile-apps">Mobile data privacy and security documentation</a>.</p>
<h2>Android compatibility [#compatibility]</h2>
<p>Make sure your Android app meets these requirements for New Relic Mobile.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Component</p>
      </div>
      <div>
        <p>Application requirements</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>Operating system</p>
      </div>
      <div>
        <p>Android 2.3 or higher</p>
        <p>For Android 2.2 support, <a href="/docs/mobile-monitoring/mobile-monitoring-installation/android/installing-android-apps-android-22-support">use legacy version 4.244.0</a>.</p>
      </div>
    </div>
    <div>
      <div>
        <p>API/SDK</p>
      </div>
      <div>
        <p>HttpURLConnection, OkHttp2 (except versions 2.0 and 2.4), OkHttp (versions 2.8, 3.5+, 4.0+), OkIO (version 1.11), AndroidHttpClient, Volley (version 1.0.0), and Apache HTTP Client networking APIs</p>
        <p>Build with Android SDK Tools version 21 or higher and the following as appropriate:</p>
        <ul>
          <li>
            <p>Android Studio</p>
          </li>
          <li>
            <p>Gradle 3.3</p>
          </li>
          <li>
            <p>Gradle plugin 2.3.0</p>
          </li>
          <li>
            <p>Proguard 5.0</p>
          </li>
          <li>
            <p>DexGuard 7.2.04</p>
            <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
              <p>As of January 2021, our Android agent will discontinue support for Android Gradle Plugin version 2. For more information, see our <a href="https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-across-browser-php-python-mobile-and-android-agents/123951">Explorers Hub post</a>.</p>
            </div>
            <p>Upgrade to the most recent version before installing New Relic Mobile.</p>
            <p>For OkHttp 1.6 support, <a href="/docs/mobile-monitoring/mobile-monitoring-installation/android/installing-android-apps-android-22-support">use legacy version 4.244.0</a>.</p>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>Languages</p>
      </div>
      <div>
        <p>Java 1.7 or higher</p>
      </div>
    </div>
    <div>
      <div>
        <p>Devices</p>
      </div>
      <div>
        <p>Any Android compatible device (smartphones, tablets, etc.)</p>
      </div>
    </div>
    <div>
      <div>
        <p>File sizes</p>
      </div>
      <div>
        <p>New Relic Mobile adds less than 500KB to your release APK.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Architectures</p>
      </div>
      <div>
        <p>ARM, Intel Atom</p>
      </div>
    </div>
    <div>
      <div>
        <p>Signature validation</p>
      </div>
      <div>
        <p>The agent cannot instrument JARs that use <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation">signature validation</a> during signing. JARs with manifests containing <code>SHA1-Digest</code> or <code>SHA-256-Digest</code> attributes will not be modified.</p>
      </div>
    </div>
  </div>
</div>
<h2>Agent and Gradle compatibility [#agent-gradle]</h2>
<p>The following are compatible versions of the New Relic Android agent, Gradle, and the <a href="https://developer.android.com/studio/releases/gradle-plugin">Android Gradle plugin</a>.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJpbXBvcnRhbnQifV0=">
  <p>As of January 2021, our Android agent will discontinue support for Android Gradle Plugin version 2. For more information, see our <a href="https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-across-browser-php-python-mobile-and-android-agents/123951">Explorers Hub post</a>.</p>
</div>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Android Gradle plugin</p>
      </div>
      <div>
        <p>New Relic Android agent compatibility</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><a href="https://developer.android.com/studio/releases/gradle-plugin#2-3-0">2.3</a></p>
      </div>
      <div>
        <p><a href="/docs/release-notes/mobile-release-notes/android-release-notes/android-5252">5.25</a> - <a href="/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0">5.26</a> are not supported</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="https://developer.android.com/studio/releases/gradle-plugin#3-0-0">3.0</a> - <a href="https://developer.android.com/studio/releases/gradle-plugin#3-5-0">3.5</a></p>
      </div>
      <div>
        <p>Any</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="https://developer.android.com/studio/releases/gradle-plugin#3-6-0">3.6</a></p>
      </div>
      <div>
        <p><a href="/docs/release-notes/mobile-release-notes/android-release-notes/android-5252">5.25</a> and higher</p>
      </div>
    </div>
    <div>
      <div>
        <p><a href="https://developer.android.com/studio/releases/gradle-plugin#4-0-0">4.+</a></p>
      </div>
      <div>
        <p><a href="/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0">5.26</a> and higher</p>
      </div>
    </div>
  </div>
</div>
<h2>Kotlin and Kotlin DSL [#kotlin]</h2>
<p>You can also use <a href="https://kotlinlang.org/docs/reference/using-gradle.html">Kotlin projects with Gradle</a> and New Relic's Android agent.</p>
<h3>Kotlin DSL support by Android agent version [#Kotlin-DSL-support-by-Android-agent-version]</h3>
<p>With the exception of incompatibilities noted with <a href="#agent-gradle">Android Gradle</a>, New Relic's Android agent is compatible with versions <strong>1.3 - 1.4</strong> of the Kotlin Gradle Plugin.</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Kotlin DSL version</p>
      </div>
      <div>
        <p>New Relic Android agent compatibility</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>1.2</p>
      </div>
      <div>
        <p>Unsupported</p>
      </div>
    </div>
    <div>
      <div>
        <p>1.3</p>
      </div>
      <div>
        <ul>
          <li><strong>5.24 and lower:</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>5.25:</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>5.26:</strong> Unsupported in Android agent versions 5.26.0 through 5.28.0</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>1.4</p>
      </div>
      <div>
        <ul>
          <li><strong>5.24 and lower:</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>5.25:</strong> Supported</li>
          <li><strong>5.26:</strong> Unsupported in Android agent versions 5.26.0 through 5.28.0</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h3>Kotlin DSL support by AGP version [#kotlin-andoid-gradle]</h3>
<p>Kotlin DSL support was officially added to Android Gradle Plugin in version 4.1, but many developers are already using it in place of Groovy.</p>
<div data-component="Table" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoiS290bGluLURTTC1zdXBwb3J0LWJ5LUFuZHJvaWQtYWdlbnQtdmVyc2lvbiJ9XQ==">
  <div>
    <div>
      <div>
        <p>Kotlin DSL version</p>
      </div>
      <div>
        <p>Android Gradle Plugin and Android Gradle compatibility</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>1.3</p>
      </div>
      <div>
        <ul>
          <li><strong>3.2 (AGP), 4.6 (Gradle) :</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>3.3 (AGP), (5.1.1 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>3.4 (AGP), 5.1.1 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>3.5 (AGP), 5.4.1 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.10 or higher</li>
          <li><strong>3.6 (AGP), 5.6.4 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.40 or higher</li>
          <li><strong>4.0 (AGP), 6.1.1 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.40 or higher</li>
          <li><strong>4.1 (AGP), 6.5 Gradle):</strong> Requires Kotlin Gradle Plugin version 1.3.40 or higher</li>
        </ul>
      </div>
    </div>
    <div>
      <div>
        <p>1.4</p>
      </div>
      <div>
        <ul>
          <li><strong>3.2 (AGP), 4.6 (Gradle) :</strong> Requires Gradle 5.3</li>
          <li><strong>3.3 (AGP), (5.1.1 Gradle):</strong> Requires Gradle 5.3</li>
          <li><strong>3.4 (AGP), 5.1.1 Gradle):</strong> Supported</li>
          <li><strong>3.5 (AGP), 5.4.1 Gradle):</strong> Supported</li>
          <li><strong>3.6 (AGP), 5.6.4 Gradle):</strong> Supported</li>
          <li><strong>4.0 (AGP), 6.1.1 Gradle):</strong> Supported</li>
          <li><strong>4.1 (AGP), 6.5 Gradle):</strong> Supported</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<h2>Unit testing not supported [#testing]</h2>
<p>Our New Relic mobile agents are designed and tested to work in a normal app lifecycle. We do not support running any testing environment on applications with the agent. Testing can cause conflicts and unpredictable behavior.</p>
