
<h2>Syntax</h2>
<pre><code>recordError:(NSError* _Nonnull)error attributes:(NSDictionary* _Nullable)attributes;
NewRelic.recordError(error: $Error, map $eventAttributes);
</code></pre>
<p>Records Swift errors and NSErrors as MobileHandledException events. Optionally takes map with additional attributes showing context.</p>
<h2>Requirements</h2>
<p>Agent <a href="https://docs.newrelic.com/docs/release-notes/mobile-release-notes/ios-release-notes/ios-agent-600">version 6.0.0 or higher</a>.</p>
<h2>Description</h2>
<p>You can use the <code>recordError</code> API call for crash analysis. Review the captured events to help you understand how often your app is throwing errors and under what conditions. In addition to any <a href="/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile">custom attributes</a> that you added, the events will also have associated <a href="/docs/insights/insights-data-sources/default-attributes/mobile-default-attributes-insights">session attributes</a>.</p>
<p>This API takes an instance of an <code>NSError</code> and an optional <code>NSDictionary</code> attribute dictionary, then creates a <code>recordHandledException</code> event. You can view event data both in Insights and in the New Relic Mobile UI, including the <a href="/docs/mobile-monitoring/mobile-monitoring-ui/crashes/handled-exceptions-analyze-trends-prevent-crashes"><strong>Handled exceptions</strong> page</a> and the <a href="/docs/mobile-monitoring/mobile-monitoring-ui/crashes/mobile-crash-event-trail"><strong>Crash events</strong> trail</a>.</p>
<p>For context on how to use this API, see the documentation about sending custom attributes and events to Insights for:</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#objc-custom-att-events">Objective-C</a></li>
  <li><a href="/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#swift-custom-att-events">Swift</a></li>
</ul>
<h2>Parameters</h2>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Parameter</p>
      </div>
      <div>
        <p>Description</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p><code>$error</code></p>
        <p><em>NSError, Error</em></p>
      </div>
      <div>
        <p>Required. The error object that was thrown.</p>
      </div>
    </div>
    <div>
      <div>
        <p><code>$attributesâ€‹</code></p>
        <p><em>NSDictionary, [AnyHashable, Any]?</em></p>
      </div>
      <div>
        <p>Optional. Dictionary of attributes that give context.</p>
      </div>
    </div>
  </div>
</div>
<h2>Return values</h2>
<p>Returns <code>true</code> if the error was recorded successfully, or <code>false</code> if not.</p>
<h2>Examples</h2>
<h3>Objective-C [#obj-c]</h3>
<p><strong>Method:</strong></p>
<pre><code>+ (void) recordError:(NSError* _Nonnull)error attributes:(NSDictionary* _Nullable)attributes;

+ (void) recordError:(NSError* _Nonnull)error;
</code></pre>
<p><strong>Examples:</strong></p>
<p>Simple Objective-C example:</p>
<pre><code>[NSJSONSerialization JSONObjectWithData:data
                                options:opt
                                  error:error];
if (error) {
    [NewRelic recordError:error];
}
</code></pre>
<p>Objective-C example with dictionary:</p>
<pre><code>[NSJSONSerialization JSONObjectWithData:data
                                options:opt
                                  error:error];
if (error) {
    [NewRelic recordError:error withAttributes:@{@"int": @1,
                                                 @"Test Group" : @"A | B"}];
}
</code></pre>
<h3>Swift</h3>
<p><strong>Method</strong>:</p>
<pre><code>func recordError(error: Error)

func recordError(error: Error, attributes: [ AnyHashable : Any]?)
</code></pre>
<p><strong>Examples:</strong></p>
<p>Simple Swift example:</p>
<pre><code>do {
    try method()
} catch {
    NewRelic.recordError(error)
}
</code></pre>
<p>Swift example with dictionary:</p>
<pre><code>do {
    try method()
} catch {
    NewRelic.recordError(error, attributes: [ "int" : 1, "Test Group" : "A | B" ])
}
</code></pre>
