
<h2>Summary</h2>
<p>A security update for the Python agent to to improve SQL obfuscation with SQLite.</p>
<p><strong>Release date:</strong> Jan 9, 2018</p>
<p><strong>Vulnerability identifier:</strong> NR18-02</p>
<p><strong>Priority:</strong> Medium</p>
<h2>Affected software [#affected]</h2>
<p>The following New Relic agent versions are affected:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Name</strong></p>
      </div>
      <div>
        <p><strong>Affected version</strong></p>
      </div>
      <div>
        <p><strong>Notes</strong></p>
      </div>
      <div>
        <p><strong>Remediated version</strong></p>
      </div>
    </div>
    <div>
      <div>
        <p>Python Agent</p>
      </div>
      <div></div>
      <div>
        <p>SQLite Obfuscation</p>
      </div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/python-release-notes">2.100.0.84</a></p>
      </div>
    </div>
  </div>
</div>
<h2>Vulnerability information [#vuln-info]</h2>
<p>The New Relic Python agent should obfuscate SQL query parameters. This fixes an issue in SQLite transaction tracing. If the query parameters were passed with double quoted strings, the agent was not properly obfuscating these parameters.</p>
<h3>Mitigating factors [#factors]</h3>
<ul>
  <li>Generally, all SQL query parameter strings should be string literals and passed in single quotes. However, the Python SQLite API allows developers to use double quoted strings in some cases.</li>
</ul>
<h2>Workarounds</h2>
<p>If you are unable to upgrade the agent, you may be able to take the following actions to ensure you do not send any SQLite query parameters.</p>
<ul>
  <li>Use single quote string literals with SQLite.</li>
  <li>Disable SQL collection by configuring <a href="https://docs.newrelic.com/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-settings">transaction_tracer.record_sql</a> to <code>off</code>.</li>
</ul>
<h2>Report security vulnerabilities to New Relic [#report]</h2>
<p>New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see <a href="/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities">Reporting security vulnerabilities</a>.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:.</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/agents/python-agent/installation-configuration/upgrade-python-agent">Upgrade the Python Agent</a></li>
  <li><a href="https://newrelic.com/why-new-relic/security" title="Link opens in a new window.">NR Security</a></li>
</ul>
