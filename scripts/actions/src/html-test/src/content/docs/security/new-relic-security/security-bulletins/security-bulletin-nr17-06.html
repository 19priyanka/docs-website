
<h2>Summary</h2>
<p>A security update for New Relic's .NET agent fixes a vulnerability where the agent could unintentionally capture query parameters from external HTTP requests during a transaction trace.</p>
<p><strong>Release date:</strong> Dec 18, 2017</p>
<p><strong>Vulnerability identifier:</strong> NR17-06</p>
<p><strong>Priority:</strong> Medium</p>
<h2>Affected software [#affected]</h2>
<p>The following New Relic agent versions are affected:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Name</strong></p>
      </div>
      <div>
        <p><strong>Affected version</strong></p>
      </div>
      <div>
        <p><strong>Notes</strong></p>
      </div>
      <div>
        <p><strong>Remediated version</strong></p>
      </div>
    </div>
    <div>
      <div>
        <p>.NET agent</p>
      </div>
      <div>
        <p>5.11.0 - 6.19.330</p>
      </div>
      <div>
        <p>Transaction Trace</p>
      </div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/net-release-notes">6.20.166.0</a></p>
      </div>
    </div>
  </div>
</div>
<h2>Vulnerability information [#vuln-info]</h2>
<p>New Relic’s .NET agent captures a transaction trace to get detailed information about a single transaction including function calls, database calls, and external calls. By default, the agent should not collect the details of external calls (HTTP requests). Previous versions of the agent will collect the external http request parameters which may contain sensitive information. This release fixes the default behavior of the .NET agent to not collect the request parameters of external HTTP requests.</p>
<h3>Mitigating factors [#factors]</h3>
<ul>
  <li>Query parameters used in external HTTP requests made using <a href="https://msdn.microsoft.com/en-us/library/system.net.http.httpclient.aspx">HttpClient</a>, <a href="https://msdn.microsoft.com/en-us/library/system.net.webrequest.aspx">WebRequest</a>, or other library that uses these calls.</li>
  <li>Transaction Trace enabled (default setting)</li>
</ul>
<h2>Workarounds</h2>
<p>Disable <a href="https://docs.newrelic.com/docs/agents/net-agent/configuration/net-agent-configuration#transaction_tracer">transaction trace</a> in the .NET agent configuration.</p>
<h2>Report security vulnerabilities to New Relic [#report]</h2>
<p>New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see <a href="/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities">Reporting security vulnerabilities</a>.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:.</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/agents/net-agent/installation/update-net-agent">Upgrade the .NET agent</a></li>
  <li><a href="https://newrelic.com/why-new-relic/security" title="Link opens in a new window.">NR Security</a></li>
</ul>
