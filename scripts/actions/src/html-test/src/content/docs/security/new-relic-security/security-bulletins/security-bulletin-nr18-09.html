
<h2>Summary</h2>
<p>A security update for the Java agent corrects an issue where the agent may not properly obfuscate all SQL query information when <code>record_sql</code> is set to <code>off</code>.</p>
<p><strong>Release date:</strong> May 2, 2018</p>
<p><strong>Vulnerability identifier:</strong> NR18-09</p>
<p><strong>Priority:</strong> Low</p>
<h2>Affected software [#affected]</h2>
<p>The following New Relic agent versions are affected:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Name</strong></p>
      </div>
      <div>
        <p><strong>Affected versions</strong></p>
      </div>
      <div>
        <p>Remediated Version</p>
      </div>
    </div>
    <div>
      <div>
        <p>Java agent</p>
      </div>
      <div>
        <p>All</p>
      </div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/java-release-notes">4.1.0</a></p>
      </div>
    </div>
  </div>
</div>
<h2>Vulnerability information [#vuln-info]</h2>
<p>The New Relic Java agent runs explain plans for <a href="https://docs.newrelic.com/docs/apm/applications-menu/monitoring/viewing-slow-query-details">slow transaction traces</a> and slow SQL queries. When a customer has set <code>record_sql</code> to <code>off</code>, is running PostgreSQL, and has an explain plan run, the agent may not properly obfuscate all information in the query.</p>
<h2>Workarounds</h2>
<p>Disable <code>explain</code> plans with <code>transaction_tracer</code> in the <a href="/docs/agents/java-agent/configuration/java-agent-configuration-config-file#h2-Transaction-tracer">Java agent configuration</a>.</p>
<h2>Report security vulnerabilities to New Relic [#report]</h2>
<p>New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see <a href="/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities">Reporting security vulnerabilities</a>.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:.</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/agents/java-agent/installation/upgrade-java-agent">Upgrade the Java agent</a></li>
  <li><a href="https://newrelic.com/why-new-relic/security" title="Link opens in a new window.">NR Security</a></li>
</ul>
