
<h2>Summary</h2>
<p>A security update for New Relic's .NET agent fixes a vulnerability where the agent could unintentionally capture service request parameters from WCF applications.</p>
<p><strong>Release date:</strong> May 4, 2017</p>
<p><strong>Vulnerability identifier:</strong> NR17-04</p>
<p><strong>Priority:</strong> Medium</p>
<h2>Affected software [#affected]</h2>
<p>The following New Relic agent versions are affected:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Name</strong></p>
      </div>
      <div>
        <p><strong>Affected version</strong></p>
      </div>
      <div>
        <p><strong>Notes</strong></p>
      </div>
      <div>
        <p><strong>Remediated version</strong></p>
      </div>
    </div>
    <div>
      <div>
        <p>.NET agent</p>
      </div>
      <div>
        <p>6.8.172.0 (and greater)</p>
      </div>
      <div>
        <p>With WCF</p>
      </div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/net-release-notes">6.11.613.0</a></p>
      </div>
    </div>
  </div>
</div>
<h2>Vulnerability information [#vuln-info]</h2>
<p>New Relicâ€™s .NET Agent version <strong>6.8.172.0</strong> added visibility into Error Analytics. By default the agent will capture error events, and with WCF applications this is captured as event type <strong>TransactionError</strong>. New Relic has found that the <strong>service.request.*</strong> attributes may contain sensitive information that should not be sent to New Relic. A fix has been made to disable the collection of these parameters during the error collection. Customers are encouraged to upgrade to the latest version of the .NET agent.</p>
<h3>Mitigating factors [#factors]</h3>
<ul>
  <li>Only .NET agents with Error Analytics and WCF applications are affected.</li>
  <li>All service request attributes are disabled in High Security Mode.</li>
</ul>
<h2>Workarounds</h2>
<p>Users who are affected and unable to upgrade may choose to manually configure the .NET agent to not capture service request parameters. Users can exclude <strong>service.request.*</strong> attributes from the <strong>errorCollector</strong> stanza in their newrelic.config file.</p>
<pre><code>&#x3C;attributes enabled="true">
     &#x3C;exclude > service.request.*&#x3C;/exclude>
 &#x3C;/attributes>
</code></pre>
<p>For details please refer to our <a href="https://docs.newrelic.com/docs/agents/net-agent/installation-configuration/net-agent-configuration#error_collector">.NET agent Error Collector configuration</a></p>
<h2>Report security vulnerabilities to New Relic [#report]</h2>
<p>New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see <a href="/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities">Reporting security vulnerabilities</a>.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:.</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/agents/net-agent/installation-configuration/upgrade-net-agent">Upgrade the .NET agent</a></li>
  <li><a href="https://docs.newrelic.com/docs/agents/net-agent/installation-configuration/net-agent-configuration#error_collector">.NET agent Error Collector configuration</a></li>
  <li><a href="https://msdn.microsoft.com/en-us/library/dd456779(v=vs.110).aspx">MSDN: Windows Communication Foundation</a></li>
  <li><a href="https://newrelic.com/why-new-relic/security" title="Link opens in a new window.">NR Security</a></li>
</ul>
