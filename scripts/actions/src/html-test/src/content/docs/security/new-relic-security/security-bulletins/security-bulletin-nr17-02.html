
<h2>Summary</h2>
<p>A security update for New Relic's .NET agent fixes a vulnerability that made it possible for the agent to send sensitive information to New Relic during an error trace by capturing query parameters from the referer header.</p>
<p><strong>Release date:</strong> January 12, 2017</p>
<p><strong>Vulnerability identifier:</strong> NR17-02</p>
<p><strong>Priority:</strong> Medium</p>
<h2>Affected software [#h2_code]</h2>
<p>The following New Relic agent versions are affected:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Name</strong></p>
      </div>
      <div>
        <p><strong>Affected version</strong></p>
      </div>
      <div>
        <p><strong>Notes</strong></p>
      </div>
      <div>
        <p><strong>Remediated version</strong></p>
      </div>
    </div>
    <div>
      <div>
        <p>.NET agent</p>
      </div>
      <div>
        <p>5.11 - 5.23</p>
      </div>
      <div>
        <p>Only when Async is enabled</p>
      </div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/net-release-notes/net-agent-6650">6.6</a></p>
      </div>
    </div>
    <div>
      <div>
        <p>.NET agent</p>
      </div>
      <div>
        <p>6.0 - 6.5</p>
      </div>
      <div></div>
      <div>
        <p><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/net-release-notes/net-agent-6650">6.6</a></p>
      </div>
    </div>
  </div>
</div>
<h2>Vulnerability information [#vuln-info]</h2>
<p>New Relic's .NET agent collects the request headers during an error trace to help determine the root cause of problems. The referer header is the URI that identifies the address of the webpage that linked to the resource being requested. It is possible that the referer URI may contain sensitive information in the request query parameters. New Relic has found that the query parameters are not properly stripped during the error trace. This update fixes this by stripping the query parameters from the referer in the request header before sending this data to New Relic.</p>
<h3>Mitigating factors</h3>
<ul>
  <li>Async is disabled by default in .NET agent versions 5.11.0 - 5.23.0.</li>
  <li>Best practices recommend not using query parameters to pass sensitive data.</li>
</ul>
<h2>Workarounds</h2>
<p>New Relic has not identified any workarounds for this vulnerability.</p>
<h2>Report security vulnerabilities to New Relic [#report]</h2>
<p>New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see <a href="/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities">Reporting security vulnerabilities</a>.</p>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="https://docs.newrelic.com/docs/release-notes/agent-release-notes/net-release-notes">.NET agent release notes</a></li>
  <li><a href="https://newrelic.com/why-new-relic/security" title="Link opens in a new window.">New Relic security</a></li>
</ul>
