
<p>The streaming alerts platform checks for violations based on data thatâ€™s present or missing in the stream of data coming into New Relic. The stream of data that comes into New Relic is called a <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#signal">signal</a>. You can control what part of the signal is alerted on through <a href="https://docs.newrelic.com/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language">NRQL</a> conditions. These NRQL condition alerts are processed by the <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#streaming-algorithm">streaming algorithm</a>.</p>
<p>The NRQL query provides the <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#signal-filter">signal filter</a> for all of your incoming data.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>You can read more about the streaming alerts platform in <a href="https://discuss.newrelic.com/t/announcing-new-relic-one-streaming-alerts-for-nrql-conditions/115361">this Explorers Hub post</a>.</p>
</div>
<h2>Why it matters [#why]</h2>
<p>Alerts violations are easy when they're caused by a specific event happening, but trickier when looking for events not happening.</p>
<p>
  <img src="./images/streaming_alerts.png" alt="streaming_alerts.png" title="streaming_alerts.png">
</p>
<p>Only data that matches the conditions of the NRQL WHERE clause is alerted on.</p>
<p>As data streams into New Relic, it's filtered by the NRQL condition. Before data is evaluated, it must meet the criteria defined by the <a href="/docs/query-your-data/nrql-new-relic-query-language/get-started/nrql-syntax-clauses-functions#sel-where">NRQL query's <code>WHERE</code> clause</a>. Instead of evaluating that data immediately for violations, the NRQL alert conditions collect the data over a period of time known as the aggregation window. An additional offset delay allows for slower data to come through before it's processed.</p>
<p>Once the aggregation window plus the offset time have elapsed, New Relic groups the aggregated data into a single data point. Alerts then evaluates the data point using the NRQL condition in order to determine whether it meets the violation threshold criteria.</p>
<p>Even if a data point meets the criteria for a violation, a violation isn't triggered. A violation is only triggered when data points consistently meet the threshold criteria over a period of time. This is the threshold duration. If the data points are in violation for an entire threshold duration, we'll send you a notification based on your policy settings.</p>
<p>All of these configurable delays give you more control over how you're alerted on sporadic and missing data.</p>
<h2>Streaming alerts tools</h2>
<p>Streaming alerts provide a set of tools you can use to more effectively alert on your streaming data, giving you greater control and reducing the number of false alerts notifications. They are:</p>
<ul>
  <li>Loss of signal detection</li>
  <li>Gap filling</li>
  <li>Aggregation window duration customization</li>
  <li>Offset evaluation</li>
</ul>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>This article covers these tools at a conceptual level. You'll find direct instructions on how to use these tools in <a href="https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions">Create NRQL alert conditions</a>.</p>
</div>
<h3>Loss of signal detection [#signal-loss]</h3>
<p>Loss of signal occurs when no data matches the NRQL condition over a specific period of time. A loss of signal is caused by different things. The <code>WHERE</code> clause in your NRQL query can filter out data before it's evaluated for violations. It could also mean a service or entity is offline or a periodic job has failed to run and no data is being sent to New Relic.</p>
<p>In order to avoid unnecessary notifications, you can choose how long to wait before you're notified by a loss of signal violation. You can use loss of signal detection to open violations and be notified when a signal is lost. Alternately, you can use a loss of signal to close violations for ephemeral services or sporadic data, such as error counts.</p>
<h3>Gap filling</h3>
<p>Gap filling lets you customize the values to use when your signals don't have any data. You can fill gaps in your data streams with None, the last value received, or a static value. The default is <code>None</code>.</p>
<p>Gaps in streaming data can be caused by network or host issues, a signal may be sparse, or some signals, such as error counts, may only have data when something is wrong. By filling the gaps with known values, the alert evaluation process can process those gaps and determine how they should affect the loss of signal evaluation.</p>
<h3>Aggregation window</h3>
<p>In order to make loss of signal detection more effective and to reduce unnecessary notifications, you can customize aggregation windows to the duration that you need.</p>
<p>An <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#aggregation-window">aggregation window</a> is a specific block of time. Alerts gathers data points together in an aggregation window, before using the <a href="/docs/using-new-relic/welcome-new-relic/get-started/glossary#aggregation-function">aggregation function</a> to evaluate the data. A longer aggregation window gives straggling data points more time to arrive before evaluating that data. When a data point arrives, its timestamp is used to put it in the proper aggregation window.</p>
<p>You can set your aggregation window to anything between 1 second and 15 minutes. The default is <code>1</code> minute.</p>
<h3>Offset evaluation</h3>
<p>For data that consistently takes longer to arrive, you can use offset evaluation to consistently delay the NRQL condition evaluation. Waiting longer increases accuracy, but also increases latency.</p>
<p>The offset time value is the number of aggregation windows you want to use. The duration for each window is set in the Aggregation window field. For example, if your aggregation window is 1 minute and your Offset evaluation is 3, then a straggling data point will have about 3 minutes to arrive before it might be dropped. In other words, streaming alerts will always keep 3 aggregation windows in the queue, waiting 1 minute before evaluating each window and adding a new one.</p>
<p>The current default is <code>3</code>.</p>
