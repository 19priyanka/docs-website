
<p>In a policy, a <a href="/docs/alerts/new-relic-alerts/configuring-alert-policies/define-alert-conditions">condition</a> identifies what triggers an alert. You can use the REST API to disable and enable conditions. You can also <a href="/docs/alerts/new-relic-alerts/updating-alert-policies/disable-or-delete-alert-policies-conditions#condition-on-off">disable and enable conditions in New Relic One</a>.</p>
<p><a href="/docs/alerts/new-relic-alerts/updating-alert-policies/disable-or-delete-alert-policies-conditions#disable-policy">Policies can't be enabled or disabled</a>, whether via the API or the UI. Policies can only be created, deleted, or have their conditions changed.</p>
<h2>Requirements</h2>
<p>Modifying any attribute in a condition using the API requires:</p>
<ul>
  <li>An <a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key">API key</a> and permissions to manage Alerts</li>
  <li>The condition's <code>id</code> (available from <a href="https://rpm.newrelic.com/api/explore/alerts_condition/list" title="Link opens in a new window.">API Explorer:</a> <strong>Alerts Conditions > GET > List</strong>)</li>
  <li>If your account hosts data in the EU data center, ensure you are using the proper <a href="/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints">API endpoints for EU region accounts</a>.</li>
</ul>
<h2>Enable and disable a condition</h2>
<p>The process for disabling or enabling a condition is the same general process for changing any attribute in a condition. A more detailed example comes after this general procedure:</p>
<ol>
  <li>
    <p>Find the ID for the policy that contains the condition you want to change.</p>
    <p>If the policy's ID is unknown, use the policy's name or type to make an API call and find the policy's ID. For more on this process, see <a href="/docs/alerts/alert-policies/rest-api-alert-policies/list-policies-v2#single_policy">List a single policy</a>.</p>
  </li>
  <li>
    <p>With the policy ID, make an API call that returns the conditions associated with that policy. There are four different condition categories. If you don't know the category, this may require making up to four API calls in order to find the condition.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidHlwZXMtY29uZGl0aW9ucy1BUEkifSx7InR5cGUiOiJtZHhBdHRyaWJ1dGUiLCJuYW1lIjoidGl0bGUiLCJ2YWx1ZSI6IkRldGFpbHMgb24gc2VhcmNoaW5nIGZvciBjb25kaXRpb24gSUQifV0=">
        <div data-prop-text="title">Details on searching for condition ID</div>
        <p>If you don't know the category of the condition you want to change, you must search for it by making API calls using the four condition categories. Here are the different API call formats for the various condition categories.</p>
        <ul>
          <li><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#conditions-list">APM, Browser, and Mobile</a><br>Conditions available: <code>apm_app_metric</code>, <code>apm_kt_metric</code>, <code>browser_metric</code>, and <code>mobile_metric</code><br><a href="https://rpm.newrelic.com/api/explore/alerts_conditions/list">API Explorer link Get>List</a></li>
          <li><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#ext-conditions-list">External services</a><br>Conditions available: <code>apm_external_service</code>, <code>mobile_external_service</code><br><a href="https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list">API Explorer link Get>List</a></li>
          <li><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#synthetics-conditions-list">Synthetic monitoring</a><br><a href="https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list">API Explorer link Get>List</a></li>
          <li><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#plugins-conditions-list">Plugins</a><br><a href="https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/list">API Explorer link Get>List</a></li>
        </ul>
      </div>
    </div>
  </li>
  <li>
    <p>For the returned JSON, find the JSON object of the condition you want to change.</p>
  </li>
  <li>
    <p>Copy and paste the condition's JSON in a text editor of your choice and edit the JSON. To enable the condition, set <code>"enabled"</code> to <code>true</code>. To disable the condition, set <code>"enabled"</code> to <code>false</code>.</p>
  </li>
  <li>
    <p>Update the condition by submitting your edited JSON via an Update API request. Our different products require different API requests.</p>
    <div data-component="CollapserGroup" data-prop="W10=">
      <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoidXBkYXRlLWFwaS1yZXF1ZXN0cyJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRGV0YWlscyBvbiBVcGRhdGUgQVBJIHJlcXVlc3RzIn1d">
        <div data-prop-text="title">Details on Update API requests</div>
        <p>Use the Update API request that corresponds to the product in question:</p>
        <ul>
          <li>
            <p><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#conditions-update">Conditions for APM, Browser, and Mobile</a><br>Conditions available: <code>apm_app_metric</code>, <code>apm_kt_metric</code>, <code>browser_metric</code>, and <code>mobile_metric</code><br><a href="https://rpm.newrelic.com/api/explore/alerts_conditions/update">API Explorer PUT>Update link</a></p>
          </li>
          <li>
            <p><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#ext-conditions-update">Conditions for external services</a><br>Conditions available: <code>apm_external_service</code>, <code>mobile_external_service</code><br><a href="https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/update">API Explorer PUT>Update</a></p>
          </li>
          <li>
            <p><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#synthetics-conditions-update">Conditions for Synthetic monitoring</a>)<br><a href="https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/update">API Explorer PUT>Update</a></p>
          </li>
          <li>
            <p><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#plugins-conditions-update">Conditions for Plugins</a><br><a href="https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/update">API Explorer PUT>Update</a></p>
            <div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
              <p>An Update API request can only change one condition at a time, it cannot update a vector of objects. For example, to change three conditions, you will have to make three separate requests.</p>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </li>
</ol>
<h2>Example: Disable an APM condition [#example]</h2>
<p>The following example shows how to disable a condition for an <code>apm_app_metric</code> condition. With the exception of the types of API calls required, the process is similar to the process for changing other condition types.</p>
<ol>
  <li>
    <p>Obtain the <strong>policy_id</strong> of the policy you want to update. For an imaginary policy named <code>Logjam Alert</code>, the command would be:</p>
    <pre><code>curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
     -H 'Api-Key:$API_KEY' -i \
     -G --data-urlencode 'filter[name]= Logjam Alert'    &#x3C;---&#x3C;&#x3C;&#x3C;  {policy_name}
</code></pre>
    <p>The output for this request might look like:</p>
    <pre><code>{
  "policies": [
    {
      "id": 85,      &#x3C;---&#x3C;&#x3C;&#x3C;  $POLICY_ID
      "incident_preference": "PER_POLICY",
      "name": "Logjam Alert",
      "created_at": 1461176510393,
      "updated_at": 1461176510393
    }
  ]
}
</code></pre>
  </li>
  <li>
    <p>List all of this policy's conditions and locate the <code>{condition_id}</code>:</p>
    <pre><code>curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \
     -H 'X-Api-Key:$API_KEY' -i \
     -G -d 'policy_id=85'
</code></pre>
    <p>The output for this request might look like:</p>
    <pre><code>{
  "conditions": [
    {
      "id": 12345,       &#x3C;---&#x3C;&#x3C;&#x3C; $CONDITION_ID
      "type": "apm_app_metric",
      "name": "Apdex (Low)",
      "enabled": true,    &#x3C;---&#x3C;&#x3C;&#x3C; Note the condition is enabled
      "entities": [
        "8288171"
      ],
      "metric": "apdex",
      "terms": [
        {
          "duration": "5",
          "operator": "below",
          "priority": "critical",
          "threshold": "1",
          "time_function": "any"
        }
      ]
    },
    {
      "id": 2468,       &#x3C;---&#x3C;&#x3C;&#x3C; another condition_id
      "type": "apm_app_metric",
      "name": "Throughput (Low)",
      ...
    }
  ]
}
</code></pre>
  </li>
  <li>
    <p>Copy the JSON for only the condition in question and paste it in a text editor. Change <code>"enabled": true</code> to <code>"enabled": false</code>. The edited JSON would look like:</p>
    <pre><code>curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/12345.json' \
     -H 'X-Api-Key:$API_KEY' -i \
     -H 'Content-Type: application/json' \
     -d \
'{
  "condition": {
    "type": "apm_app_metric",
    "name": "Apdex (Low)",
    "enabled": false,       &#x3C;---&#x3C;&#x3C;&#x3C;  Changed to false
    "entities": [
      "8288171"
    ],
    "metric": "apdex",
    "terms": [
      {
        "duration": "5",
        "operator": "below",
        "priority": "critical",
        "threshold": "1",
        "time_function": "any"
      }
    ]
  }
}'
</code></pre>
  </li>
  <li>
    <p>Update the condition by submitting the edited condition JSON via an Update API request. For this specific condition, you would follow the steps in <a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#conditions-update">Update conditions for APM policies</a>. Other product conditions would have other API requests, as detailed in <a href="#update-api-requests">Update API requests</a>.</p>
  </li>
</ol>
<h2>For more help [#more_help]</h2>
<p>Additional documentation resources include:</p>
<ul>
  <li><a href="/docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts#alert-entity-conditions">API calls for alerts</a> (list of all API calls available)</li>
  <li><a href="/docs/apm/apis/api-explorer-v2/using-api-explorer">Using the API Explorer</a> (using the API Explorer's user interface to get data in and data out of New Relic)</li>
  <li><a href="/docs/apm/apis/api-explorer-v2/parts-api-explorer">Parts of the API Explorer</a> (a quick reference for how to use each section of the API Explorer)</li>
</ul>
