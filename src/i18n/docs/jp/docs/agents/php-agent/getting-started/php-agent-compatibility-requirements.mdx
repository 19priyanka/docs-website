---
title: PHPエージェントの互換性と要件
contentType: page
template: basicDoc
topics:
  - Agents
  - PHP agent
  - Getting started
japaneseVersion: >-
  https://docs.newrelic.co.jp/docs/agents/php-agent/getting-started/php-agent-compatibility-requirements
---

PHP用のNew Relicを[インストール](/docs/agents/php-agent/installation)する前に、システムが該当する要件を満たしていることを確認してください。

## PHPのリリース [#php-release]

New RelicはPHPのバージョン5.3、5.4、5.5、5.6、7.0、7.1、7.2、7.3、7.4をサポートしています。

* New RelicはPHPの[サポートされたリリース](http://php.net/supported-versions.php)、特に7.3と7.4の使用を推奨しています。
* PHP 5.1のサポートはPHPエージェントのリリース4.0で非推奨となり、リリース4.5で廃止されました。
* PHP 5.2のサポートはPHPエージェントのリリース6.8で非推奨となり、リリース7.0で廃止されました。

## アクセス権限 [#permissions]

* インストレーション：ほとんどのインストレーションにはroot権限が[必要です](/docs/agents/php-agent/troubleshooting/determing-permissions-requirements)。
* 実行：root権限は[必要ありません](/docs/agents/php-agent/troubleshooting/determing-permissions-requirements)。

## ライセンスキー [#license_key]

インストレーションの際には、必ずNew Relicの[ライセンスキー](/docs/subscriptions/license-key)が必要です。ライセンスキーは40文字の16進数の文字列で構成され、[サインアップ](/docs/subscriptions/creating-your-new-relic-account)時にNew Relicから提供されます。詳しくは、PHP[インストールスクリプト](/docs/php/the-newrelic-install-script)とPHP INIファイルの[ライセンスキー設定](/docs/php/php-agent-phpini-settings#inivar-license)をご覧ください。

## プロセッサタイプ [#processor]

* Intel（および互換）プラットフォームのみ
* SSE2命令のサポートが必須

## オペレーティングシステム [#operating-systems]

<Callout variant="important">
  Windowsオペレーティングシステムはサポートされていません。
</Callout>

<Table>
  <thead>
    <tr>
      <th width={200}>
        **オペレーティングシステム**
      </th>

      <th>
        **New RelicのPHPエージェントによりサポート**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Linux（x86とx86_64）
      </td>

      <td>
        * AWS Linux 2
        * Red Hat Enterprise Linux（RHEL）5以降
        * CentOS 5.5以降（5.6は除く）
        * Debian 5.0（"lenny"）以降
        * Ubuntu 9.10（"Karmic Koala"）以降
        * 以下を搭載した、その他すべてのLinuxディストリビューション：

          * Kernelバージョン2.6.13以降（2.6.26以降を強く推奨）
          * [NPTL](https://en.wikipedia.org/wiki/Native_POSIX_Thread_Library)のサポートを含むglibc 2.5以降、またはmusl libcバージョン1.1以降
      </td>
    </tr>

    <tr>
      <td>
        macOS（x86_64のみ）
      </td>

      <td>
        MacOS 10.6以降（[MacOSに関する注意](/docs/agents/php-agent/troubleshooting/known-php-limitations#osx)を参照）

        MacOSの最近のバージョンでは32ビットアプリケーションを実行できないため、New RelicではPHPエージェントリリース4.6による32ビットMacOSのサポートを削除しました。
      </td>
    </tr>

    <tr>
      <td>
        FreeBSD（x64）
      </td>

      <td>
        最新のエージェントは最新のプロダクションリリースをサポートしています。
      </td>
    </tr>

    <tr>
      <td>
        SmartOSとSolaris（**x64）\*\***（非推奨）\*\*
      </td>

      <td>
        * SolarisとSmartOSに対してサポートされている最後のPHPエージェントバージョンは[8.1](https://docs.newrelic.co.jp/docs/release-notes/agent-release-notes/php-release-notes/php-agent-810209)です
        * SmartOS：すべてのバージョン
        * OpenSolaris 10：snv_134b以降
        * i86pcアーキテクチャを使用する必要があります。SPARCアーキテクチャはサポートされていません。
      </td>
    </tr>
  </tbody>
</Table>

## ウェブサーバー [#webserver]

* `mod_php`経由のApache 2.2または2.4
* PHP-FPMを使いFastCGIをサポ―トする任意のウェブサーバー

## フレームワーク [#frameworks]

以下は対応しているPHPフレームワークです。

<Table>
  <thead>
    <tr>
      <th
        colSpan={2}
        style={{ textAlign: "center" }}
      >
        フレームワーク
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        CakePHP 1.2、1.3、2.x
      </td>

      <td>
        MediaWiki
      </td>
    </tr>

    <tr>
      <td>
        CodeIgniter 2.x
      </td>

      <td>
        Silex 1.x and 2.x
      </td>
    </tr>

    <tr>
      <td>
        [Drupal 6.x、7.x、8.x、9.x](/docs/agents/php-agent/frameworks-libraries/drupal-specific-functionality)
      </td>

      <td>
        Slim 2.x、3.x、および4.x
      </td>
    </tr>

    <tr>
      <td>
        Joomla 1.5、1.6、2.x、3.x
      </td>

      <td>
        Symfony 1.x、2.x、3.x、4.x、5.x
      </td>
    </tr>

    <tr>
      <td>
        Kohana 3.2、3.3
      </td>

      <td>
        [Wordpress](/docs/agents/php-agent/installation/wordpress-users-new-relic)
      </td>
    </tr>

    <tr>
      <td>
        Laravel 4.x、5.x、6.x、および7.x
      </td>

      <td>
        Yii 1.x
      </td>
    </tr>

    <tr>
      <td>
        Magento 1.xおよび2.x、CEおよびEE
      </td>

      <td>
        Zend Framework 1.x、2.x、3.x
      </td>
    </tr>
  </tbody>
</Table>

PHPエージェントのフレームワークの数は増え続けています。お使いのフレームワークがこのリストに無い場合でも、PHPエージェントがアプリケーションについて役立つ情報を提供できる可能性があります。

詳しくは、[PHPフレームワーク：New Relicのサポートの統合](/docs/php/framework-developers-integrated-support-for-new-relic)をご覧ください。ポピュラーなPHPフレームワークのサポートを推奨したい場合、[Explorers Hub](https://discuss.newrelic.com/tags/phpagent)にアクセスしてFeature Ideaを作成してください。

## データベースとライブラリ [#databases]

サポートされているデータベースとライブラリ：

<Table>
  <thead>
    <tr>
      <th
        colSpan={2}
        style={{ textAlign: "center" }}
      >
        データベースとライブラリ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Firebird
      </td>

      <td>
        Oracle
      </td>
    </tr>

    <tr>
      <td>
        [Guzzle](https://docs.newrelic.co.jp/docs/agents/php-agent/frameworks-libraries/guzzle)
      </td>

      <td>
        [PHPUnit](https://docs.newrelic.co.jp/docs/agents/php-agent/frameworks-libraries/analyze-phpunit-test-data-insights)
      </td>
    </tr>

    <tr>
      <td>
        Informix
      </td>

      <td>
        PDO
      </td>
    </tr>

    <tr>
      <td>
        Memcached
      </td>

      <td>
        Postgres
      </td>
    </tr>

    <tr>
      <td>
        MongoDB
      </td>

      <td>
        [Predis](/docs/agents/php-agent/frameworks-libraries/predis)
      </td>
    </tr>

    <tr>
      <td>
        Microsoft SQL Server
      </td>

      <td>
        Redis
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        SQLite
      </td>
    </tr>

    <tr>
      <td>
        ODBC
      </td>

      <td>
        Sybase
      </td>
    </tr>
  </tbody>
</Table>

## その他のAPMソフトウェア [#other-monitoring-software]

アプリケーションが当社のモニターソフトウェアのほかに他社のアプリケーションパフォーマンスモニタリング (APM)ソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニタリングソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。

## インスタンスの詳細 [#instance-details]

New Relicは[様々なデータベースとデータベースドライバを対象にインスタンスの詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMにおいて個々のインスタンスおよびデータベース情報の種類が見えるかどうかは、New Relicエージェントのバージョンによって異なります。

New Relic PHPエージェントの[バージョン6.8以降](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-680177)は、次のインスタンスの詳細をサポートします。

<Table>
  <thead>
    <tr>
      <th>
        データベース
      </th>

      <th>
        エクステンション
      </th>

      <th>
        エージェントの最小バージョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [MongoDB](https://www.mongodb.com/)
      </td>

      <td>
        [mongodb](https://github.com/mongodb/mongo-php-library)
      </td>

      <td>
        7.1
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [mysql](http://php.net/manual/en/book.mysql.php)
      </td>

      <td>
        6.8
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [mysqli](http://php.net/manual/en/book.mysqli.php)
      </td>

      <td>
        6.8
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [pdo_mysql](http://php.net/manual/en/ref.pdo-mysql.php)
      </td>

      <td>
        6.8
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pgsql](http://php.net/manual/en/book.pgsql.php)
      </td>

      <td>
        6.9
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pdo_pgsql](http://php.net/manual/en/ref.pdo-pgsql.php)
      </td>

      <td>
        6.9
      </td>
    </tr>

    <tr>
      <td>
        [Redis](https://redis.io/)
      </td>

      <td>
        [predis](https://github.com/nrk/predis)
      </td>

      <td>
        7.1
      </td>
    </tr>

    <tr>
      <td>
        [Redis](https://redis.io/)
      </td>

      <td>
        [redis](https://pecl.php.net/package/redis)
      </td>

      <td>
        7.1
      </td>
    </tr>
  </tbody>
</Table>

ホスト情報の収集を無効にするには、次のいずれかのオプションを使用します。

* `newrelic.ini`で、`newrelic.datastore_tracer.instance_reporting.enabled`を`false`に設定します。
* `newrelic.datastore_tracer.database_name_reporting.enabled = false`でデータベース名を削除します。

現在New Relicエージェントにリストされてないデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)までお問い合わせください。

## メッセージキューイング [#queuing]

* HTTP
* [PHPエージェント6.6.0.169リリース](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-660169)の実験的な機能として利用可能なLaravelキューイングは、[PHPエージェント8.0.0.204](https://docs.newrelic.co.jp/docs/release-notes/agent-release-notes/php-release-notes/php-agent-800204)以降ではデフォルトで有効化されています。

## セキュリティ要件 [#security-requirements]

標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリケーションサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。

## エージェントを他のNew Relic機能に接続する [#digital-intelligence-platform]

PHPエージェントは他のNew Relic機能と統合して、エンドツーエンドの可視性を提供します。

<Table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザをモニター](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        [自動インストゥルメンテーションを有効化](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)した場合、PHPエージェントは自動的にBrowserエージェントのJSコードを挿入します。Browserインジェクションを有効化したあと、[APMの**概要**ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でBrowserデータを見ることや、特定のアプリケーションに対してAPMとBrowserデータを素早く切り替えることが可能です。設定オプションと手動インストゥルメンテーションについては、[BrowserモニタリングとPHPエージェント](/docs/agents/php-agent/features/page-load-timing-php)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        InfrastructureとAPMエージェントを同じホストにインストールすると、それぞれが自動的にお互いを検出します。その後APM UIでホストのリストを見て、Infrastructure UIでAPMアプリを基準にInfrastructureホストをフィルタリングできます。詳しくは、[インフラストラクチャモニターにおけるAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [New Relicのダッシュボード](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights)
      </td>

      <td>
        PHPエージェントはNRQLクエリを実行するため、[デフォルトのイベントと属性](/docs/insights/insights-data-sources/default-events-attributes/apm-default-event-attributes)を送ります。高度な分析のために[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することも可能です。
      </td>
    </tr>

    <tr>
      <td>
        [合成モニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [Syntheticトランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)はSyntheticsモニターからのリクエストを基になるAPMトランザクションに結びつけます。
      </td>
    </tr>
  </tbody>
</Table>

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
