---
title: サーバーサイドのエージェント設定
tags:
  - Agents
  - Manage APM agents
  - Configuration
---

サーバーサイドコンフィグレーションは、一部のコア設定を言語エージェントの設定ファイルから[New Relicコレクター](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector)に移します。言語エージェントに応じて、以下の設定を利用できます。

* トランザクショントレース
* SQLレコードとロギング
* SQLクエリプラン
* エラー収集
* スレッドプロファイリング
* クロスアプリケーショントレーシング

## 一元化とセキュリティ [#features]

サーバーサイドコンフィグレーションでは、New Relic UIから設定を容易に管理できます。環境設定の一元化は、標準への準拠とセキュリティ管理にも役立ちます。

たとえすべてのNew Relic APMエージェントが複数のホストにまたがる場合でも、変更は全エージェントに自動的に適用されます。エージェントはUIから利用できない設定については[ローカル設定](/docs/agents/manage-apm-agents/configuration/configure-agent)に従います。

## サーバーサイドコンフィグレーションの優先順位 [#precedence]

この機能の便利なところは、デプロイメントや再起動を行わなくてもNew Relic UI内で直接環境設定を管理できる点です。設定変更のオプションと、環境変数その他の設定オプションを利用するときの優先順位は、使用している言語エージェントによります。

設定の階層については、詳しくは個々のエージェントの図をご覧ください。

* [C SDKの設定](/docs/agents/c-sdk/install-configure/c-sdk-configuration)：設定値はAPIの呼び出しからもたらされるため、階層は適用できません。また、サーバーサイドコンフィグレーションにも対応していません。しかし、[UI](/docs/agents/c-sdk/install-configure/c-sdk-configuration#change-ui)またはC SDKの[構成設定](/docs/agents/c-sdk/install-configure/c-sdk-configuration#change-app-name)からアプリケーション名を変更できます。
* [Goのヒエラルキー](/docs/agents/go-agent/instrumentation/go-agent-configuration#options)
* [Java階層](/docs/agents/java-agent/configuration/java-agent-configuration-config-file#config-options-precedence)
* [.NET階層](/docs/agents/net-agent/installation-configuration/net-agent-configuration#config-options-precedence)
* [Node.js階層](/docs/agents/nodejs-agent/installation-configuration/configuring-nodejs#hierarchy)
* [PHP階層](/docs/agents/php-agent/configuration/php-agent-configuration#config-options-precedence)（サーバーサイドコンフィグレーションは不可）
* [Python階層](/docs/agents/python-agent/installation-configuration/python-agent-configuration#options)
* [Ruby階層](/docs/agents/ruby-agent/installation-configuration/ruby-agent-configuration#Options)

## サーバーサイドコンフィグレーションの有効化 [#enable-ssc]

<Callout variant="tip">
  **オーナー、管理者、または[アドオン管理者](/docs/accounts-partnerships/accounts/account-setup/add-roles-permissions)**
</Callout>

C SDKとPHPエージェントはサーバーサイドコンフィグレーションに対応していません。他のNew Relicエージェントを使うアプリケーションに対しサーバーサイドコンフィグレーションを有効化するには、次の手順に従ってください。

1. **[rpm.newrelic.com/apm](https://rpm.newrelic.com/apm)> （アプリケーションの選択） > Settings > Application > Server-side agent configuration**に移動します。

   または

   **[rpm.newrelic.com/apm](https://rpm.newrelic.com/apm)**にアクセスします。次に、[アプリケーションのインデックス](/docs/apm/applications-menu/monitoring/view-your-applications-index) からアプリケーションの歯車<Icon name="fe-settings"/>
   アイコンを選択し、**View settings > Server-side agent configuration**を選択します。
2. **サーバーサイドコンフィグレーションの有効化**トグルを**On**に設定します。
3. **サーバーサイドコンフィグレーションの保存**を選択します。

サーバーサイドコンフィグレーションを有効化した後、UI経由で設定を表示、変更できるようになります。

## サーバーサイドコンフィグレーションの表示または変更 [#customize-ssc]

<Callout variant="tip">
  **オーナー、管理者、または[アドオン管理者](/docs/accounts-partnerships/accounts/account-setup/add-roles-permissions)**
</Callout>

サーバーサイドコンフィグレーションを使用する場合は、`license_key`および`app_name`を引き続きローカル設定ファイルに含める必要があります。これらの設定は、エージェントがNew Relicコレクターとやり取りするのに必要です。

C SDKとPHPエージェントはサーバーサイドコンフィグレーションに対応していません。他のNew Relicエージェントを使うアプリケーションに対し、UIを通して利用可能なサーバーサイドコンフィグレーション設定を表示または変更するには：

1. **[rpm.newrelic.com/apm](https://rpm.newrelic.com/apm)> （アプリケーションの選択） > Settings > Application > Server-side agent configuration**に移動します。

   または

   **[rpm.newrelic.com/apm](https://rpm.newrelic.com/apm)**にアクセスします。次に、[アプリケーションのインデックス](/docs/apm/applications-menu/monitoring/view-your-applications-index) からアプリケーションの歯車<Icon name="fe-settings"/>
   アイコンを選択し、**View settings > Server-side agent configuration**を選択します。
2. エージェントの環境設定を表示または変更します。
3. 変更する場合は**サーバーサイドコンフィグレーションの保存**を選択します。

UIからこれらのオプションをどれか設定すると、[エージェントの設定ファイル](#precedence)内の矛盾するオプションは上書きされます。

## サーバーサイドコンフィグレーションの無効化 [#disable-ssc]

アカウントのサーバーサイド設定を有効にすると、サーバーサイド設定は[New Relic Support](http://support.newrelic.com)からの支援なしにオフにできません。無効化は、ローカル環境に戻る必要がある場合に、環境設定の矛盾によって生じる問題を軽減するのに役立ちます。

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
