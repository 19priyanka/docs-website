---
title: Rubyエージェントの要件とサポート対象のフレームワーク
tags:
  - Agents
  - Ruby agent
  - Getting started
---

[New RelicのRubyエージェントをインストールする](/docs/agents/ruby-agent/installation-and-configuration/ruby-agent-installation)前に、互換OSに対する要件、セキュリティ要件、およびサポート対象のフレームワークを満たしていることを確認してください。

## オペレーティングシステム [#os]

Rubyエージェントは、Linux、Solaris、FreeBSD、macOSといったUNIX系のオペレーティングシステムをサポートします。

## セキュリティ要件 [#security]

標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリケーションサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。

## Rubyバージョン [#ruby_versions]

New Relic Rubyエージェントは、実験的なバージョンをサポートしません。RubyエージェントがサポートするRubyバージョンは以下のとおりです。

<Table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Rubyバージョン
      </th>

      <th style={{ width: "150px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        JRuby
      </td>

      <td>
        * 9.0.x
        * 9.1.x
      </td>

      <td>
        * 1.7.x以前：最後にサポートされたエージェントは3.18.1.330です。
      </td>
    </tr>

    <tr>
      <td>
        MRI
      </td>

      <td>
        * 2.0.x
        * 2.1.x
        * 2.2.x
        * 2.3.x
        * 2.4.x
        * 2.5.x
        * 2.6.x
        * 2.7.x
      </td>

      <td>
        * 1.8.7、1.9.2、1.9.3：最後にサポートされたエージェントは3.18.1.330です。
        * 1.8.6：最後にサポートされたエージェントは、3.6.8.168です。
      </td>
    </tr>
  </tbody>
</Table>

## ウェブサーバー [#web_servers]

Rubyエージェントでサポートされるウェブサーバーは以下のとおりです。

<Table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        ウェブサーバー
      </th>

      <th>
        サポート対象
      </th>

      <th style={{ width: "150px" }}>
        非推奨
      </th>

      <th style={{ width: "150px" }}>
        実験的
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Passenger
      </td>

      <td>
        * 2.2.x
        * 3.0.x
        * 4.0.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Puma
      </td>

      <td>
        * 2.0.x
      </td>

      <td>
        * 1.0.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Rainbows!
      </td>

      <td/>

      <td/>

      <td>
        * 4.5.0
      </td>
    </tr>

    <tr>
      <td>
        Thin
      </td>

      <td>
        * 1.0.x
      </td>

      <td/>

      <td/>
    </tr>

    <tr>
      <td>
        Unicorn
      </td>

      <td>
        * 4.0.x
      </td>

      <td>
        * 1.0.x
        * 2.0.x
        * 3.0.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Webrick
      </td>

      <td>
        Rubyのエージェントをサポートする全バージョンがサポート対象
      </td>

      <td/>

      <td/>
    </tr>
  </tbody>
</Table>

## ウェブフレームワーク [#web_frameworks]

Rubyエージェントは、実験的なバージョンをサポートしません。Rubyエージェントがサポートするウェブフレームワークは以下のとおりです。

<Table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        ウェブフレームワーク
      </th>

      <th style={{ width: "200px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Grape
      </td>

      <td>
        * 0.2.0
        * 1.2
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Padrino
      </td>

      <td>
        * 0.14.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Rack
      </td>

      <td>
        * 1.1.0以降
      </td>

      <td>
        * 1.0.x
      </td>
    </tr>

    <tr>
      <td>
        Rails
      </td>

      <td>
        * 3.0.x
        * 3.1.x
        * 3.2.x
        * 4.0.x
        * 4.1.x
        * 4.2.x
        * 5.0.x
        * 5.1.x
        * 5.2.x
        * 6.0.x
      </td>

      <td>
        * 2.1.x、2.2.x、2.3.x：最後にサポートされたエージェントは3.18.1.330です。
        * 2.0.x：最後にサポートされたエージェントは、3.6.8.168です。
      </td>
    </tr>

    <tr>
      <td>
        Sinatra
      </td>

      <td>
        * 1.2.x
        * 1.3.x
        * 1.4.x
        * 2.0.x
      </td>

      <td/>
    </tr>
  </tbody>
</Table>

## データベース [#databases]

Rubyエージェントは、実験的なバージョンをサポートしません。Rubyエージェントがサポートするデータベースは以下のとおりです。

<Table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        データベース
      </th>

      <th style={{ width: "150px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ActiveRecord
      </td>

      <td>
        * 3.0.x
        * 3.1.x
        * 3.2.x
        * 4.0.x
        * 4.1.x
        * 4.2.x
        * 5.0.x
        * 5.1.x
        * 5.2.x
        * 6.0.x
      </td>

      <td>
        * 2.1.x、2.2.x、2.3.x：最後にサポートされたエージェントは3.18.1.330です。
        * 2.0.x：最後にサポートされたエージェントは3.6.8.168です。
      </td>
    </tr>

    <tr>
      <td>
        DataMapper
      </td>

      <td>
        * 1.0
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Mongo
      </td>

      <td>
        * 1.8.x
        * 2.1.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Redis
      </td>

      <td>
        * 3.x
        * 4.0.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Sequel
      </td>

      <td>
        * 3.37.x
        * 4.0.x
        * 5.5.x
      </td>

      <td/>
    </tr>
  </tbody>
</Table>

## その他のAPMソフトウェア [#other-monitoring-software]

アプリケーションが当社のモニターソフトウェアのほかに他社のアプリケーションパフォーマンスモニタリング (APM)ソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニタリングソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。

## インスタンスの詳細 [#instance_details]

New Relicは[様々なデータベースとデータベースドライバを対象にインスタンスの詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMにおいて個々のインスタンスおよびデータベース情報の種類が見えるかどうかは、New Relicエージェントのバージョンによって異なります。

New RelicのRubyエージェント[バージョン3.17.0以降](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-3170325)は、以下のORMデータベースをサポートします。

<Table>
  <thead>
    <tr>
      <th>
        ORM
      </th>

      <th>
        データベース
      </th>

      <th>
        アダプター名
      </th>

      <th>
        エージェントの最小バージョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td rowSpan={2}>
        ActiveRecord 5以降
      </td>

      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pg](https://rubygems.org/gems/pg)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql2](https://rubygems.org/gems/mysql2)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td rowSpan={3}>
        ActiveRecord 2.1～4
      </td>

      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pg](https://rubygems.org/gems/pg)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql](https://rubygems.org/gems/mysql)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql2](https://rubygems.org/gems/mysql2)
      </td>

      <td>
        3.17.0
      </td>
    </tr>
  </tbody>
</Table>

Rubyエージェントも、次の`gem`データベースをサポートします：

<Table>
  <thead>
    <tr>
      <th>
        Gemデータベース
      </th>

      <th>
        Gem名
      </th>

      <th>
        gemの最低バージョン
      </th>

      <th>
        エージェントの最小バージョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [Memcached](https://memcached.org/)
      </td>

      <td>
        [Dalli](https://rubygems.org/gems/dalli)
      </td>

      <td>
        2.6.4
      </td>

      <td>
        3.17.1
      </td>
    </tr>

    <tr>
      <td>
        [Mongo DB](https://www.mongodb.com/)
      </td>

      <td>
        [mongo](https://rubygems.org/gems/mongo)
      </td>

      <td>
        2.1.0
      </td>

      <td>
        3.17.1
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [redis-rb](https://rubygems.org/gems/redis)
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.17.1
      </td>
    </tr>
  </tbody>
</Table>

現在New Relicエージェントにリストされてないデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)までお問い合わせください。

## バックグラウンドジョブ [#background_jobs]

New Relic Rubyエージェントがサポートするバックグラウンドジョブは以下のとおりです。

<Table>
  <thead>
    <tr>
      <th>
        バックグラウンドジョブ
      </th>

      <th>
        サポート対象
      </th>

      <th>
        非推奨
      </th>

      <th>
        実験的
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Delayed_Job
      </td>

      <td>
        * 2.0.x
        * 3.0.x
        * 4.0.x
        * 4.1.x
      </td>

      <td/>

      <td/>
    </tr>

    <tr>
      <td>
        Rake
      </td>

      <td>
        * 12.x
        * 13.x
      </td>

      <td>
        * 10.x
        * 11.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Resque
      </td>

      <td>
        * 1.23.x
      </td>

      <td>
        * 1.22.x
      </td>

      <td>
        * 2.0以降
      </td>
    </tr>

    <tr>
      <td>
        Sidekiq
      </td>

      <td>
        * 2.8.x
        * 3.4.2.x
        * 4.0.x
        * 4.1.x
        * 5.0.x
      </td>

      <td/>

      <td/>
    </tr>
  </tbody>
</Table>

## HTTPクライアント [#http_clients]

RubyエージェントがサポートするHTTPクライアントは以下のとおりです。

* Net::HTTP&#x3A; Rubyの[エージェントをサポート](/docs/agents/ruby-agent/features/http-client-tracing-ruby)する全バージョンがサポート対象
* Curb: 0.8.1以降
* Excon: 0.10.1以降
* HttpClient: 2.2.0以降
* HttpRb: 0.9.9以降
* Typhoeus: 0.5.3以降

## メッセージキューイング [#http_clients]

[メッセージキューのインストゥルメンテーション](https://docs.newrelic.co.jp/docs/agents/ruby-agent/features/message-queues)は、[Rubyエージェントのバージョン4.3.0以降](https://docs.newrelic.co.jp/docs/release-notes/agent-release-notes/ruby-release-notes)でのみ利用可能です。現在サポートされているメッセージブローカー：

* RabbitMQ

## その他 [#other]

APMのRubyエージェントは以下の項目もサポートします。

* ActiveMerchant:1.25.0以降
* Acts_as_Solr
* authlogic
* [Bunny](/docs/agents/ruby-agent/features/message-queues): 2.0以降
* Dalli
* Memcache-Client
* Sunspot

## エージェントを他のNew Relicパーツに接続する [#digital-intelligence-platform]

Rubyエージェントは他のNew Relic製品と統合して、エンドツーエンドの可視性を提供します。

<Table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        機能
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザをモニター](/docs/browser/new-relic-browser/getting-started/introduction-browser-monitoring)
      </td>

      <td>
        [自動インストゥルメンテーションを有効にする](/docs/browser/new-relic-browser/installation/install-browser-monitoring-agent#select-apm-app)と、Rubyエージェントは自動的にBrowser JavaScriptエージェントを注入します。Browserインジェクションを有効化したあと、[APMの概要ページ](https://docs.newrelic.co.jp/docs/apm/applications-menu/monitoring/apm-overview-page-view-transaction-apdex-usage-data)でBrowserデータを見ることや、特定のアプリケーションに対してAPMとBrowserデータを素早く切り替えることが可能です。設定オプションと手動インストゥルメンテーションについては、[BrowserとRubyエージェントのドキュメント](https://docs.newrelic.co.jp/docs/agents/ruby-agent/features/new-relic-browser-ruby-agent)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](https://docs.newrelic.co.jp/docs/infrastructure/infrastructure-monitoring/get-started/get-started-infrastructure-monitoring)
      </td>

      <td>
        InfrastructureとAPMエージェントを同じホストにインストールすると、それぞれが自動的にお互いを検出します。その後APM UIでホストのリストを見て、Infrastructure UIでAPMアプリを基準にInfrastructureホストをフィルタリングできます。詳しくは、[インフラストラクチャモニターにおけるAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [合成モニタリング](/docs/synthetics/synthetic-monitoring/getting-started/get-started-new-relic-synthetic-monitoring)
      </td>

      <td>
        [Syntheticトランザクショントレース](/docs/synthetics/synthetic-monitoring/using-monitors/collect-synthetic-transaction-traces)はSyntheticsモニターからのリクエストを基になるAPMトランザクションに結びつけます。
      </td>
    </tr>
  </tbody>
</Table>

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
