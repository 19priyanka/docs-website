---
title: アラートについてのREST APIコール
tags:
  - Alerts and Applied Intelligence
  - New Relic Alerts
  - REST API alerts
---

当社のREST API （v2）を使用すれば、アラートを設定できます。[APIエクスプローラー](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer)には、使用可能なAPIコールごとにcurlリクエストフォーマット、使用可能なパラメーター、取りうるレスポンス状態コード、JSONレスポンス構造も含まれます。[UIでもアラート条件を作成](/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions)できます。

<Callout variant="important">
  Infrastructureのアラートについては、[InfrastructureモニタリングアラートのREST API](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts)を参照してください。
</Callout>

## APIで使用可能なデータと機能 [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **REST API関数**
      </th>

      <th>
        **コメント**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アカウントデータを表示
      </td>

      <td>
        一般的に、どの[ロール](/docs/accounts-partnerships/accounts/account-setup/users-roles)もアカウントの[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[個人用 APIキー](#personal-api-key)と **GET > List**機能を使用して、アラートデータを**表示**できます。アカウントの所有者 (オーナー)と管理者は、自身のAPI キーを使用できます。

        リストの出力には[ページ番号](/docs/apis/rest-api-v2/requirements/pagination-api-output)が付けられることに注意してください。使用可能な機能：

        * [アラートポリシー](#policies-list)
        * [通知チャネル](#channels-list)
        * [APM、Browser、Mobile](#conditions-list)の条件 （[いくつかの制限が適用されます。](#excluded)）
        * [外部サービス](#ext-conditions-list)の条件
        * [Syntheticモニタリング](#)の条件
        * [プラグイン](#plugins-conditions-list)の条件
        * NRQLの条件 （[いくつかの制限が適用されます。](#excluded)）
        * [イベント](#events)
        * [違反](#violations)
        * [インシデント](#incidents)
      </td>
    </tr>

    <tr>
      <td>
        アカウントデータのメンテナンス
      </td>

      <td>
        **POST > Create**、**PUT > Add**、**PUT > Update**、**DELETE**を含むメンテナンス機能を使用するには、アカウントのオーナーまたはアドミンロール**および**[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)を使用するか**または**アラートを管理するためのアクセス許可を付与するカスタムロール**および**[パーソナル APIキー](#personal-api-key)が必要になります。
      </td>
    </tr>
  </tbody>
</table>

## REST APIから除外される条件 [#excluded]

以下の条件には、APIで使用可能なエンドポイントはありません。

* APM：ウェブトランザクションのパーセンタイル、条件ターゲティングラベル、ベースライン
* NRQL：ベースライン

## パーソナル APIキーと REST API を使用する [#excluded]

以下に示すいずれかの例で[パーソナル APIキー](#personal-api-key)を使用するには、'X-Api-Key： <var>&#x7B;api_key}</var> ' を 'Api-Key： <var>&#x7B;personal_api_key}</var> ' に置き換えます。

## アラートポリシー

これらのAPI関数には、[ポリシー](/docs/alerts/new-relic-alerts-beta/getting-started/best-practices-alert-policies)を簡単に作成、削除、リストすることができるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="policies-create"
    title="新しいポリシーを作成する"
  >
    新しいポリシーを追加するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)を使用して、APIコールに以下の2つの値を含めます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            **必須の値**
          </th>

          <th>
            **定義**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            インシデント`incident_preference`
          </td>

          <td>
            Alertsが[インシデントを作成し、違反をグループ化する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY`（デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)別のロールアップ。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)別のロールアップ。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)ごとにロールアップします。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシーの`name`（名前）](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            ポリシーの`name`（名前）は必須です。変更しないままにすると、<var>string</var>（文字列）というポリシーが作成されます。
          </td>
        </tr>
      </tbody>
    </table>

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/create) **Alerts Policies > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-update"
    title="ポリシーを更新する"
  >
    このAPIを使用して、既存のポリシーの`name`と`incident_preference`を更新します。[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)が必要になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            **必須の値**
          </th>

          <th>
            **定義**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            必須。ポリシーのIDを確認するには、以下のオプションのいずれかを使用します。

            * UIを使用する場合：ポリシーのUIページで、ポリシー名の下にあるIDを検索します。
            * APIの場合：[リストポリシーAPI](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用します。
          </td>
        </tr>

        <tr>
          <td>
            インシデント`incident_preference`
          </td>

          <td>
            アラートが[インシデントを作成し、違反をグループ化する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY`（デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)別のロールアップ。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)別のロールアップ。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)ごとにロールアップします。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシーの`name`（名前）](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            **必須**：名前を変更しない場合は、<var>string</var>というポリシーにデフォルト設定されます。

            [List policies API](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用して、ポリシーの正確な名前を確認します。
          </td>
        </tr>
      </tbody>
    </table>

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/create) **Alerts Policies > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-delete"
    title="既存のポリシーを削除する"
  >
    既存のポリシーを削除するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](https://rpm.newrelic.com/api/explore/alerts_policies/list)を使用し、[policy_id](#personal-api-key)を含めます（`APIエクスプローラー：`から取得可能（**Alerts Policies > GET > List**から使用可能）をAPIコールに含めます。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/delete) **Alerts Policies > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="policies-list"
    title="既存のポリシーをリストする"
  >
    アカウントの既存ポリシーのリストを表示するには、[APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)を使用して以下のオプションの値をAPIコールに含めます。

    * オプションのポリシー`name`フィルター
    * オプションの[ページ番号付け](/docs/apis/rest-api-v2/requirements/pagination-api-output)の値

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```
  </Collapser>
</CollapserGroup>

## 通知チャネル [#channels]

このAPI関数には、Alertsの[通知チャネル](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/notification-channels-controlling-where-send-alerts)を作成、削除、リストアップできるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="channels-create"
    title="新しい通知チャネルを作成する"
  >
    新しい通知チャネルを追加するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)[パーソナル APIキー](#personal-api-key)を使用して、以下の値をAPIコールに含めます。

    * 新しいチャネルの名前
    * [チャネルのタイプ](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/notification-channels-controlling-where-send-alerts#channel-types)
    * 設定値

    APIエクスプローラーには、通知チャネルのタイプごとに必要な設定値のフォーマットが表示されます。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/create) **Alerts Channels > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_channels.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "channel": {
        "name": "string",
        "type": "string",
        "configuration": "hash"
      }
    }'
    ```

    この例の`"hash"`プレースホルダは、適切な値が置換された次のJSONブロックの1つと置き換える必要があります：

    <CollapserGroup>
      <Collapser
        id="email_channel"
        title="電子メールチャネル"
      >
        ```
        {
          "recipients" : "test@google.com",
          "include_json_attachment" : true
        }
        ```
      </Collapser>

      <Collapser
        id="opsgenie_channel"
        title="OpsGenieチャネル"
      >
        ```
        {
          "api_key": "abc123",
          "teams": "team1",
          "tags": "tag1",
          "recipients": "me@me.com"
        }
        ```
      </Collapser>

      <Collapser
        id="slack_channel"
        title="Slackチャネル"
      >
        ```
        {
          "url": "http://test.com",
          "channel": "channel1"
        }
        ```
      </Collapser>

      <Collapser
        id="victorops_channel"
        title="VictorOpsチャネル"
      >
        ```
        {
          "key": "mykey",
          "route_key": "theroute"
        }
        ```
      </Collapser>

      <Collapser
        id="pagerduty_channel"
        title="PagerDutyチャネル"
      >
        ```
        {
          "service_key": "myservicekey"
        }
        ```
      </Collapser>

      <Collapser
        id="webhook_json_channel"
        title="Webhook （json） チャネル"
      >
        この例では、デフォルトの`payload`を挿入しています。（`payload`属性は任意です。）

        `payload`は、表示しているキーと異なるキーを持つようにカスタマイズでき、`$`のプレフィックスが付いた属性は配信の前に補完されて送信されます。

        <Callout variant="important">
          `condition_id`は非推奨です。代わりに、`condition_family_id`を使用してください。
        </Callout>

        ```
        {
          "base_url": "http://test.com",
          "auth_username": "username",
          "auth_password": "password",
          "payload_type": "application/json",
          "headers": {
            "header1": "test", 
            "header2": "test"
          }
          "payload": {
            "account_id": "$ACCOUNT_ID",
            "account_name": "$ACCOUNT_NAME",
            "closed_violations_count_critical": "$CLOSED_VIOLATIONS_COUNT_CRITICAL",
            "closed_violations_count_warning": "$CLOSED_VIOLATIONS_COUNT_WARNING",
            "condition_family_id": "$CONDITION_FAMILY_ID",
            "condition_id": "$CONDITION_ID",
            "condition_name": "$CONDITION_NAME",
            "current_state": "$EVENT_STATE",
            "details": "$EVENT_DETAILS",
            "duration": "$DURATION",
            "event_type": "$EVENT_TYPE",
            "incident_acknowledge_url": "$INCIDENT_ACKNOWLEDGE_URL",
            "incident_id": "$INCIDENT_ID",
            "incident_url": "$INCIDENT_URL",
            "open_violations_count_critical": "$OPEN_VIOLATIONS_COUNT_CRITICAL",
            "open_violations_count_warning": "$OPEN_VIOLATIONS_COUNT_WARNING",
            "owner": "$EVENT_OWNER",
            "policy_name": "$POLICY_NAME",
            "policy_url": "$POLICY_URL",
            "runbook_url": "$RUNBOOK_URL",
            "severity": "$SEVERITY",
            "targets": "$TARGETS",
            "timestamp": "$TIMESTAMP",
            "violation_callback_url": "$VIOLATION_CALLBACK_URL",
            "violation_chart_url": "$VIOLATION_CHART_URL"
          }
        }
        ```
      </Collapser>

      <Collapser
        id="webhook_urlencoded_channel"
        title="Webhook （x-www-form-urlencoded）チャネル"
      >
        この例では、デフォルトの`payload`を挿入しています。（`payload`属性は任意です。）

        `payload`は、表示しているキーと異なるキーを持つようにカスタマイズでき、`$`のプレフィックスが付いた属性は配信の前に補完されて送信されます。

        <Callout variant="important">
          `condition_id`は非推奨です。代わりに、`condition_family_id`を使用してください。
        </Callout>

        ```
        {
          "base_url": "http://test.com",
          "auth_username": "username",
          "auth_password": "password",
          "payload_type": "application/x-www-form-urlencoded",
          "headers": {
            "header1": "test", 
            "header2": "test"
          },
          "payload": { 
            "account_id": "$ACCOUNT_ID", 
            "account_name": "$ACCOUNT_NAME", 
            "closed_violations_count_critical": "$CLOSED_VIOLATIONS_COUNT_CRITICAL", 
            "closed_violations_count_warning": "$CLOSED_VIOLATIONS_COUNT_WARNING", 
            "condition_family_id": "$CONDITION_FAMILY_ID", 
            "condition_id": "$CONDITION_ID", 
            "condition_name": "$CONDITION_NAME", 
            "current_state": "$EVENT_STATE", 
            "details": "$EVENT_DETAILS", 
            "duration": "$DURATION", 
            "event_type": "$EVENT_TYPE", 
            "incident_acknowledge_url": "$INCIDENT_ACKNOWLEDGE_URL", 
            "incident_id": "$INCIDENT_ID", 
            "incident_url": "$INCIDENT_URL", 
            "open_violations_count_critical": "$OPEN_VIOLATIONS_COUNT_CRITICAL", 
            "open_violations_count_warning": "$OPEN_VIOLATIONS_COUNT_WARNING", 
            "owner": "$EVENT_OWNER", 
            "policy_name": "$POLICY_NAME", 
            "policy_url": "$POLICY_URL", 
            "runbook_url": "$RUNBOOK_URL", 
            "severity": "$SEVERITY", 
            "targets": "$TARGETS", 
            "timestamp": "$TIMESTAMP", 
            "violation_callback_url": "$VIOLATION_CALLBACK_URL", 
            "violation_chart_url": "$VIOLATION_CHART_URL" 
          }
        }
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="channels-delete"
    title="既存の通知チャネルを削除する"
  >
    既存の通知チャネルを削除するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)を使用して、`channel_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/list)から取得可能）を含めます。（**Alerts Channels > GET > List**）をAPIコールに含めます。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/delete) **Alerts Channels > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_channels/{channel_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="channels-list"
    title="既存の通知チャネルをリストする"
  >
    アカウントの既存の通知チャネルのリストを表示するには、[REST APIキー、アドミンユーザーの APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールのオプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/list) **Alerts Channels > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_channels.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="policy-channels-update"
    title="ポリシーに関連する通知チャネルを更新する"
  >
    New Relics Alertsでは、[1つ以上の通知チャネルにポリシーを関連付ける](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/add-or-remove-policy-channels)ことができます。また、通知チャネルを1つ以上のポリシーに関連付けることもできます。ポリシーに通知チャネルを追加するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)と、以下の値をAPIコールを使用します。

    * `policy_id`値（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policy/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * カンマまたは改行で区切られた、配列内の1つ、または複数の`channel_id`値（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/list)から取得可能**Alerts Channels > GET > List**で使用可能）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policy_channels/update) **Alerts Policy Channels > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policy_channels.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -G -d 'policy_id=policy_id&channel_ids=channel_id'
    ```
  </Collapser>

  <Collapser
    id="policy-channels-delete"
    title="ポリシーに関連する通知チャネルを削除する"
  >
    New Relics Alertsでは、[1つ以上の通知チャネルにポリシーを関連付ける](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/add-or-remove-policy-channels)ことができます。また、通知チャネルを1つ以上のアラートポリシーに関連付けることもできます。

    チャネルからポリシーを削除するか、またはポリシーからチャネルを削除するには、[アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)と、APIコールの以下の値を使用します。

    * `policy_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policy/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * `channel_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_channels/list)から取得可能**Alerts Channels > GET > List**で使用可能）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policy_channels/delete) **Alerts Policy Channels > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policy_channels.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -d 'channel_id={channel_id}&policy_id={policy_id}'
    ```
  </Collapser>
</CollapserGroup>

## APM、Browser、Mobileの条件 [#conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。こうしたコールは、以下のタイプのエンティティ向け条件となります：

* APM：アプリとキートランザクション
* ブラウザ：アプリとキートランザクション
* モバイル：モバイルアプリ

**例外:** 次のAPMの条件は、このAPIエンドポイントからは**入手できません** 。

* 条件ターゲティングラベル（ダイナミックターゲティング）
* ウェブトランザクションのパーセンタイル条件
* ベースライン条件

<Callout variant="important">
  APIエクスプローラーは、[外部サービス](#ext-services-conditions) （APMおよびMobile）、[プラグイン](#plugins-conditions)、[Syntheticsモニター](#)を含む、**別々のエンドポイント**を使用して他のタイプの条件に関する情報を提供します。検索または更新中にすべてのタイプのアラート条件を考慮します。お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="conditions-create"
    title="ポリシーの条件を作成する"
  >
    ポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `policy_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/create) **Alerts Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "condition": {
        "type": "string",
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "metric": "string",
        "gc_metric": "string",
        "condition_scope": "string",
        "violation_close_timer": integer,
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "user_defined": {
          "metric": "string",
          "value_function": "string"
        }
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list)から条件`id`を表示することもできます**Alerts Conditions > GET > List**から表示することもできます。
  </Collapser>

  <Collapser
    id="conditions-update"
    title="ポリシーの条件を更新する"
  >
    ポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件の`id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_condition/list)から取得可能**Alerts Conditions > GET > List**）
    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/update) **Alerts Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/{id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "condition": {
        "type": "string",
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "metric": "string",
        "metric": "string",
        "gc_metric": "string",
        "condition_scope": "string",
        "violation_close_timer": integer,
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "user_defined": {
          "metric": "string",
          "value_function": "string"
        }
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="conditions-delete"
    title="ポリシーから条件を削除する"
  >
    ポリシーから条件を削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `condition_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list)から取得可能**Alerts Conditions > GET > List**）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/update) **Alerts Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/{condition_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="conditions-list"
    title="ポリシーの既存の条件をリストする"
  >
    ご利用のポリシーに対する既存条件の一覧を表示するには、[REST APIキーまたはアドミンユーザーのAPI キー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールの関連[`policy_id`](#policies-list)を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -d 'policy_id={policy_id}'
    ```
  </Collapser>
</CollapserGroup>

## NRQLの条件 [#conditions-nrql]

このAPI関数には、ポリシーのNRQL[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。

**例外:** NRQLベースラインの条件は、このエンドポイントからは**入手できません**。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="create-nrql-conditions"
    title="ポリシーのNRQL条件を作成する"
  >
    **推奨事項**：NRQLデータの集計方法上、`nrql[since_value]` を`3`以上に設定して誤検出を防いでください。これは、Alerts Condition UIの評価オフセット値と同じです。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/create) **Alerts Nrql Conditions > POST > Create**

    ポリシーのNRQL条件を作成する：

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "name": "string",
        "runbook_url": "string",
        "enabled": boolean,
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "value_function": "string",
        "nrql": {
            "query": "string",
            "since_value": "string"
        }
      }
    }'
    ```

    `nrql[since_value]` を`3`に、また`nrql[query]` を`SELECT count FROM myEvent`に設定する場合、New Relicは1分間に1回の頻度で`terms[threshold]`値に対する次のクエリを評価します：

    ```
    SELECT count FROM myEvent SINCE 3 minutes ago UNTIL 2 minutes ago
    ```

    `type`を`outlier`として設定すると、`value_function`を省略できます。ただし、次の2つの追加フィールドが必須となります：`expected_groups`および`ignore_overlap`です。詳細に付いては、[アラート条件APIフィールド名](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/alerts-conditions-api-field-names)をご覧ください。

    `type`を除外するか`static`と設定すると、標準的なNRQLアラートにデフォルト設定されます。
  </Collapser>

  <Collapser
    id="update-nrql-conditions"
    title="ポリシーのNRQL条件を更新する"
  >
    **推奨事項**：NRQLデータの集計方法上、`nrql[since_value]` を`3`以上に設定して誤検出を防いでください。これよって、3分間のデータ集計が可能となり、Alerts Condition UIの評価オフセット値と同じになります。

    ポリシーのNRQL条件を更新するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件の`id`（[APIエクスプローラー： <Icon name="fe-external-link"/>
      ](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")**Alerts Nrql Conditions > GET > List** から取得可能）
    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/update) **Alerts Nrql Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/{id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "name": "string",
        "runbook_url": "string",
        "enabled": boolean,
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "value_function": "string",
        "nrql": {
            "query": "string",
            "since_value": "string"
        }
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="delete-nrql-conditions"
    title="ポリシーのNRQL条件を削除する"
  >
    ポリシーからNRQL条件を削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件の`id`（[APIエクスプローラー： <Icon name="fe-external-link"/>
      ](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")**Alerts Nrql Conditions > GET > List** から取得可能）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/delete) **Alerts Nrql Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/{condition_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="list-nrql-conditions"
    title="ポリシーの既存のNRQL条件をリストする"
  >
    ご利用のアラートポリシーに対する既存条件の一覧を表示するには、[REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールの関連[`policy_id`](#policies-list)を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) **Alerts Nrql Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -d 'policy_id={policy_id}'
    ```
  </Collapser>
</CollapserGroup>

## 外部サービスの条件 [#ext-services-conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。以下のコールは外部サービスの条件です。APIコールは、APMやMobileアプリと共に使用できます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="ext-conditions-create"
    title="外部サービス：ポリシーの条件を作成する"
  >
    APMまたはMobileアプリを有するポリシーの外部サービスに条件を追加するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `policy_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/create) **Alerts External Service Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "external_service_condition": {
        "type": "string",
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "external_service_url": "string",
        "metric": "string",
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ]
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list)から条件`id`を表示することもできます**Alerts External Service Conditions > GET > List**。
  </Collapser>

  <Collapser
    id="ext-conditions-update"
    title="外部サービス：ポリシーの条件を更新する"
  >
    APMまたはMobileアプリを有するポリシーの外部サービスの条件を更新するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 外部サービス条件の`id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list)から取得可能**Alerts External Service Conditions > GET > List**）
    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/update) **Alerts External Service Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/{id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "external_service_condition": {
        "type": "string",
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "external_service_url": "string",
        "metric": "string",
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ]
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="ext-conditions-delete"
    title="外部サービス：ポリシーから条件を削除する"
  >
    APMまたはMobileアプリを有するポリシーの外部サービスの条件を削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `condition_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list)から取得可能**Alerts External Service Conditions > GET > List**）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/delete) **Alerts External Service Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/{condition_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="ext-conditions-list"
    title="外部サービス：ポリシーの既存の条件をリストする"
  >
    外部サービスアプリ（APMまたはMobile）でポリシーの既存条件の一覧を表示するには、[REST API キー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールの関連[`policy_id`](#policies-list)を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) **Alerts External Service Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -d 'policy_id={policy_id}'
    ```
  </Collapser>
</CollapserGroup>

## Syntheticモニタリングの条件 [#synthetics-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、Syntheticsモニタリングと共に使用できます。

<CollapserGroup>
  <Collapser
    id="synthetics-conditions-create"
    title="Synthetics：ポリシーの条件を作成する"
  >
    Syntheticsモニタリングのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `policy_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * APIコールで必須とされる`synthetics_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create) **Alerts Synthetics Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "synthetics_condition": {
        "name": "string",
        "monitor_id": "string",
        "runbook_url": "string",
        "enabled": boolean
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list)から条件`id`を表示することもできます**Alerts Synthetics Conditions > GET > List**。
  </Collapser>

  <Collapser
    id="synthetics-conditions-update"
    title="合成モニタリング：ポリシーの条件を更新する"
  >
    Syntheticsモニタリングのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件`id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list)から取得可能**Alerts Synthetics Conditions > GET > List**）
    * APIコールで必須とされる`synthetics_condition`値（[Synthetics 用のアラート条件の作成](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create)のためのAPIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/update) **Alerts Synthetics Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/{id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "synthetics_condition": {
        "name": "string",
        "monitor_id": "string",
        "runbook_url": "string",
        "enabled": boolean
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-delete"
    title="合成モニタリング：ポリシーから条件を削除する"
  >
    Syntheticsモニタリングのポリシーの条件を削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `condition_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list)から取得可能**Alerts Synthetics Conditions > GET > List**）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/delete) **Alerts Synthetics Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/{condition_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-list"
    title="合成モニタリング：ポリシーの既存の条件をリストする"
  >
    Syntheticsモニタリングの既存のポリシー条件の一覧を表示するには、[REST APIキー、アドミンユーザーのAPI キー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールの関連[`policy_id`](#policies-list)を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) **Alerts Synthetics Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -d 'policy_id=policy_id'
    ```
  </Collapser>
</CollapserGroup>

## プラグインの条件 [#plugins-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、[New Relicのプラグインセントラル](/docs/plugins/plugins-new-relic/getting-started/welcome-plugin-central)のプラグインと共に使用できます。

<CollapserGroup>
  <Collapser
    id="plugins-conditions-create"
    title="プラグイン：ポリシーの条件を作成する"
  >
    プラグインのコンポーネントまたはインスタンスのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `policy_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_policies/list)から取得可能**Alerts Policies > GET > List**で使用可能）
    * APIコールで必須とされる`plugins_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/create) **Alerts Plugins Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_plugins_conditions/policies/{policy_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "plugins_condition": {
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "metric_description": "string",
        "metric": "string",
        "value_function": "string",
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "plugin": {
          "id": "string",
          "guid": "string"
        }
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/list)から条件`id`を表示することもできます**Alerts Plugins Conditions > GET > List**。
  </Collapser>

  <Collapser
    id="plugins-conditions-update"
    title="プラグイン：ポリシーの条件を更新する"
  >
    プラグインのコンポーネントまたはインスタンスのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件`id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/list)から取得可能**Alerts Plugins Conditions > GET > List**）
    * APIコールで必須とされる`plugins_condition`値（[プラグイン用のアラート条件の作成](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/create)のためのAPIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/update) **Alerts Plugins Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_plugins_conditions/{id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "plugins_condition": {
        "name": "string",
        "enabled": boolean,
        "entities": [
          integer
        ],
        "metric_description": "string",
        "metric": "string",
        "value_function": "string",
        "runbook_url": "string",
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "plugin": {
          "id": "string",
          "guid": "string"
        }
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="plugins-conditions-delete"
    title="プラグイン：ポリシーから条件を削除する"
  >
    プラグインのコンポーネントまたはインスタンスのポリシーから条件を削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 条件`id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/list)から取得可能**Alerts Plugins Conditions > GET > List**）

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/delete) **Alerts Plugins Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_plugins_conditions/{condition_id}.json' \
         -H 'X-Api-Key:{admin_api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="plugins-conditions-list"
    title="プラグイン：ポリシーの既存の条件をリストする"
  >
    プラグインコンポーネントまたはインスタンスで、ポリシーに対する既存の条件を表示するには、[REST APIキー、アドミンユーザーのAPI キー](/docs/apis/rest-api-v2/requirements/rest-api-key)、または[パーソナル APIキー](#personal-api-key)と、APIコールの関連[`policy_id`](#policies-list)を使用します。

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_plugins_conditions/list) **Alerts Plugins Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_plugins_conditions.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -d 'policy_id={policy_id}'
    ```
  </Collapser>
</CollapserGroup>

## アラートのアクティビティ：イベント、違反、インシデント [#alert-activity]

こうしたAPI関数には、アラートポリシーのイベント、違反、インシデントに関する情報を表示できるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="events"
    title="イベントのリスト"
  >
    APM、Browser、Mobile、Plugins、Syntheticsモニタリング、Alertsが監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)の[イベント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#event)を表示するには、以下の値をAPI コールに含めます：

    * [REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * フィルターとして使用するその他のオプションの値（[APIエクスプローラーページに記載](https://rpm.newrelic.com/api/explore/alerts_events/list)）は、製品のタイプ（ブラウザモニタリング、モバイルモニタリングなど）、エンティティ（APMのアプリやキートランザクション、Syntheticsのモニタリングなど）、イベントのタイプ（通知、デプロイメント、インストゥルメンテーションなど）によって異なります。
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_events/list) **Alerts Events > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_events.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="violations"
    title="違反のリスト"
  >
    アカウントについて監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)の[違反](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-violation)を表示するには、以下の値をAPIコールに含めます：

    * [REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 現在オープンの違反のみを表示するオプションのフラグ
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_violations/list) **Alerts Violations > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_violations.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```

    <Callout variant="tip">
      ポリシー、条件、インシデントの情報を検索するには：`violations`プロパティの`links`セクションにあるIDを取得し、それらをペイロードの外部`links`プロパティに含まれるURLに配置します。
    </Callout>
  </Collapser>

  <Collapser
    id="incidents"
    title="インシデントのリスト"
  >
    アカウントについて監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)の[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)を表示するには、以下の値をAPIコールに含めます：

    * [REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * 現在オープンのインシデントのみを表示するオプションのフラグ
    * 応答から違反データを除外するオプションのフラグ
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_incidents/list) **アラートインシデント > GET > リスト**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_incidents.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="incidents"
    title="インシデントの表示"
  >
    アカウントに関連付けられた単一の[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)を表示するには、以下の値をAPIコールに含めます：

    * [REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * インシデントID

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_incidents/show) **アラートインシデント > GET > 表示**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_incidents/{id}.json' \
         -H 'X-Api-Key:{api_key}' -i
    ```
  </Collapser>

  <Collapser
    id="incidents"
    title="インシデントの認識"
  >
    アカウントに関連付けられた[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)を認識するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)。
    * インシデントID

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_incidents/acknowledge) **アラートインシデント > PUT > 認識**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/acknowledge.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -H 'Content-Type: application/json'
    ```
  </Collapser>

  <Collapser
    id="incidents"
    title="インシデントのクローズ"
  >
    アカウントに関連付けられた[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)をクローズするには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)。
    * インシデントID

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_incidents/close) **アラートインシデント > PUT > クローズ**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/{id}/close.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -H 'Content-Type: application/json'
    ```
  </Collapser>
</CollapserGroup>

## アラートエンティティ条件 [#alert-entity-conditions]

こうしたAPI関数には、アラートポリシーに対する条件のエンティティをリスト、追加、削除できるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="list-condition-by-entity"
    title="エンティティ別に条件をリストする"
  >
    [APM、Browser、Mobile、キートランザクション、Pluginsにおいて、](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition)エンティティ[が一部となる](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)条件を表示するには、以下の値をAPIコールに含めます：

    * [REST APIキー、アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `entity_id`は、監視されることになる特定の[エンティティ（アラートターゲット）](https://docs.newrelic.co.jp/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。
    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション
      * プラグイン

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/list) **Alerts Entity Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/{entity_id}.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -G -d 'entity_type={entity_type}'
    ```
  </Collapser>

  <Collapser
    id="add-entity"
    title="条件にエンティティを追加する"
  >
    条件に[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を追加するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `entity_id`は、監視されることになる[エンティティ（アラートターゲット）](https://docs.newrelic.co.jp/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、プラグイン、キートランザクション、モバイルアプリの数値IDです。
    * `condition_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list)から取得可能**Alerts Conditions > GET > List**）
    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション
      * プラグイン

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/add) **Alerts Entity Conditions > PUT > Add**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/{entity_id}.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -H 'Content-Type: application/json' \
         -G -d 'entity_type={entity_type}&condition_id={condition_id}'
    ```
  </Collapser>

  <Collapser
    id="remove_entity"
    title="エンティティを条件から削除する"
  >
    監視している[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を条件から削除するには、以下の値をAPIコールに含めます：

    * [アドミンユーザーのAPIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[パーソナル APIキー](#personal-api-key)
    * `entity_id`は、削除されることになる特定の監視対象[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、プラグイン、キートランザクション、モバイルアプリの数値IDです。
    * `condition_id`（[APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_conditions/list)から取得可能**Alerts Conditions > GET > List**）
    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション
      * プラグイン

    [APIエクスプローラー：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/remove) **Alerts Entity Conditions > DELETE > Remove**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/{entity_id}.json' \
         -H 'X-Api-Key:{api_key}' -i \
         -G -d 'entity_type={entity_type}&condition_id={condition_id}'
    ```
  </Collapser>
</CollapserGroup>

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
