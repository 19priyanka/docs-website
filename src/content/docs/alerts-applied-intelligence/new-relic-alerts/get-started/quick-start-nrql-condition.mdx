---
title: Write your first NRQL alerts condition
tags:
  - Alerts and Applied Intelligence
  - New Relic Alerts
  - Alert conditions
  - NRQL
metaDescription: How to start writing NRQL alerts conditions with a step-by-step user case.
---

Use [NRQL queries](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/) to create alerts conditions with ease. That way, you can define what you need to be notified about.

Your condition only needs two attributes: a query and a threshold. Your query determines what you want to be notified about, and the threshold determines when you’ll be notified. In our example, an alerts condition is created to see each host's CPU usage (query) and notified when usage is above 70% (threshold).

Follow these steps to write your first alerts condition using the NRQL query builder. Once you're done, you'll have a working alerts condition.

## Prerequisites [#pre-nrql]

- If you haven't already, [create a New Relic account](https://newrelic.com/signup) before you start. It's free, forever. 
- Send your data into New Relic to query. 
- Policies also hold alerts conditions. You can either create a [policy](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/create-edit-or-find-alert-policy/) before starting a query or while filling out the **Create Alert** form used later.
- Become familiar with our New Relic query language (NRQL). Similar to SQL, NRQL lets you write queries on any entity and its attributes. See [NRQL syntax](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/#syntax).

## Step 1: Write your query [#step1-nrql]

Determine what alerts condition you want to query before continuing. You can create an alerts condition from any valid NRQL query. Find the NRQL query builder at the top of the New Relic One platform.

![A screenshot showing where you can find the NRQL query builder in New Relic One.](./images/find-builder.png 'A screenshot showing where you can find the NRQL query builder in New Relic One.')

<figcaption>
  Once you've written a valid query, you can create an alert from it.
</figcaption>

In our example, the condition shows us each host’s CPU utilization. Use this NRQL query, or something relevant to what you're monitoring, to create an alerts condition.

![A screenshot of a NRQL query.](./images/nrql-query.png 'A screenshot of a NRQL query.')

<figcaption>
  This query finds the average CPU utilization from a system and then breaks it
  down (facets) by individual host names.
</figcaption>

Once you create a valid NRQL query, click the **Create alert** button.

![A screenshot of a NRQL query with an arrow pointing at the "Create alert" button.](./images/create-alert-button.png 'A screenshot of a NRQL query with an arrow pointing at the "Create alert button". It's the third button located beneath the query editor.')

## Step 2: Name and revise your NRQL condition [#step2-nrql]

On the NRQL condition creation page, name your condition and tweak your condition if necessary. The visualization of your query is shown automatically.

In our example, the query shows how each host’s average CPU utilization is performing. A violation will open if any host’s average CPU utilization is over 70% and can alert us.

![A screenshot of the New Relic One platform visualizing NRQL query.](./images/show-nrql-graph.png 'A screenshot of the New Relic One platform visualizing NRQL query.')

<figcaption>
  The above screenshot shows the critical and warning threshold lines. These
  will appear once you define your thresholds in step 3.
</figcaption>

## Step 3: Set your condition thresholds [#step3-nrql]

Set thresholds to determine when you’re alerted. In this example, our critical threshold (red) checks for any hosts with CPU utilization over 70% for at least 5 minutes. A warning threshold (yellow) is also added showing when any host's CPU utilization goes over 67% for at least 5 minutes.

![A screenshot of the New Relic One platform. A data visualization of the NRQL query with critical and warning threshold lines.](./images/nrql-set-threshold.png 'A screenshot of the New Relic One platform. A data visualization of the NRQL query with critical and warning threshold lines.')

<figcaption>
  This image is the **Set your condition thresholds** section on the form for creating an alert.
</figcaption>

At least one critical threshold is required for your alerts condition. Warning thresholds are optional and can be added as desired. 

It's important to note that warning thresholds will **not** create an incident or notify you like the critical threshold will. If a critical threshold opens an incident and notifies you, warning threshold violations will be included in that report.

## What's next? [#nextsteps-nrql]

Now that you've created your first alerts condition, set up your [incident preferences](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents/) and [notification channels](/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/notification-channels-control-where-send-alerts/). 

For a detailed, comprehensive overview of NRQL conditions, see [Create NRQL alert conditions](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/)
