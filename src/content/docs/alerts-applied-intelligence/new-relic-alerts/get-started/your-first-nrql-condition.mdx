---
title: Write your first NRQL alerts condition
tags:
  - Alerts and Applied Intelligence
  - New Relic Alerts
  - Alert conditions
  - NRQL
metaDescription: How to start writing NRQL alerts conditions with a step-by-step user case.
---

Use our [New Relic query language (NRQL)](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/) to create alerts conditions with ease. The query defines the data that's important to you and the condition describes what you want to be notified about.

Your condition only requires two attributes: a query and a threshold. The query determines what you want to be notified about and the threshold determines when you’ll be notified. 

Follow these steps to write your first alerts condition using a NRQL query and a threshold. Once you're done, you'll have a working alerts condition.

## Step 1: Write your query [#step1-nrql]

In the example, an alerts condition is created for each host's CPU utilization (query) that will create a notification when the CPU utilization is above 70% (threshold).

Determine what alerts condition you want to query before continuing. You can create an alerts condition from any valid NRQL query. Find the NRQL query builder at the top of the UI.

![A screenshot showing where you can find the NRQL query builder button in New Relic One.](./images/find-builder.png 'A screenshot showing where you can find the NRQL query builder button in New Relic One.')

<figcaption>
  Click the **Query your data** button to open the query builder and start writing a NRQL query. Once you've written a valid query, you can create an alert condition from it.
</figcaption>

The condition shows each host’s CPU utilization. Use this NRQL query, or something similar that's relevant to what you're monitoring, to create an alerts condition.

![A screenshot of a NRQL query that finds the average CPU utilization faceted by hostname.](./images/nrql-query.png 'A screenshot of a NRQL query that finds the average CPU utilization faceted by hostname.')

<figcaption>
  This query finds the average CPU utilization from a system and then breaks it
  down (facets) by individual host names.
</figcaption>

Once you've created a valid NRQL query, click the **Create alert** button.

Learn more about the [NRQL syntax](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/#syntax) to create a variety of queries.

## Step 2: Name and revise your NRQL condition [#step2-nrql]

Give your NRQL alerts condition a name that's meaningful to you. Your query's visualization is shown automatically.

![The query's visualization shows each host’s average CPU utilization.](./images/show-nrql-graph.png 'The query's visualization shows each host’s average CPU utilization.')

<figcaption>
  The query's visualization shows each host’s average CPU utilization. A critical violation will open if any host’s average CPU utilization is over 70%. A warning threshold is met at 67%.
</figcaption>

## Step 3: Set your condition thresholds [#step3-nrql]

Set critical and warning thresholds to determine when you’re notified about your system's performance. 

In this example, our critical threshold (red) checks for any hosts with CPU utilization over 70% for at least 5 minutes. A warning threshold (yellow) is also added showing when any host's CPU utilization goes over 67% for at least 5 minutes.

![A visualization of the NRQL query with critical and warning threshold lines.](./images/nrql-set-threshold.png 'A visualization of the NRQL query with critical and warning threshold lines.')

<figcaption>
  Use the **Set your condition thresholds** section to set the critical and warning thresholds for your condition.
</figcaption>

At least one critical threshold is required for your alerts condition. Warning thresholds are optional. 

Warning thresholds do not create an incident or notify you like the critical threshold. If a critical threshold opens an incident and notifies you, warning threshold violations will be included in that report.

## Step 4: Create a policy

Finally, you can add your condition to an existing policy or create a new one.

![A screenshot of the Policy section for the Create alert form.](./images/nrql-create-policy.png 'A screenshot of the Policy section for the Create alert form.')

<figcaption>
  When you create a new policy, you can group your violations by policy, condition, or by violation. These [incident preferences](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents/) settings determine how frequently you're notified when there's a violation.
</figcaption>

## What's next? [#nextsteps-nrql]

Now that you've created your first alerts condition, set up your [incident preferences](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents/) and [notification channels](/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/notification-channels-control-where-send-alerts/). 

For a detailed, comprehensive overview of NRQL conditions, see [Create NRQL alert conditions](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/)
