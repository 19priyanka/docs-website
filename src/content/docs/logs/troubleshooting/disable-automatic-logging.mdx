---
title: Disable automatic logging
type: troubleshooting
tags:
  - Logs
  - Log management
  - Troubleshooting
metaDescription: How to disable automatic logging when necessary for agents using APM logs in context.
---

This troubleshooting procedure applies to agents using [APM logs in context](/docs/apm/new-relic-apm/getting-started/get-started-logs-context) as of April 2022, including:

* Java [v7.6.0 or higher](/docs/release-notes/agent-release-notes/java-release-notes/)
* .NET [v9.7.0.0 or higher](/docs/release-notes/agent-release-notes/net-release-notes/)
* Ruby [v8.6.0 or higher](/docs/release-notes/agent-release-notes/ruby-release-notes/)

## Problem [#problem]

By default, New Relic automatically forwards agent log data with APM logs in context. You want to disable this at the account level; for example, when this automatic functionality:

* Breaks your security or compliance expectations.
* Increases your bill too much.
* Increases your systems' overhead to an unacceptable degree.

Automatic logs collection is not applicable if your agent has [high security mode](/docs/apm/agents/manage-apm-agents/configuration/high-security-mode/) enabled.

## Solution [#solution]

You can disable automatic log forwarding for **all** APM agents on your account so that no logs will be forwarded. Use the **Data management hub** in the New Relic UI or use NerdGraph, our GraphQL Explorer to disable or enable log forwarding for individual accounts. If you need assistance with updating multiple accounts (for example, a parent account with multiple child accounts), contact your New Relic account representative.

After you disable via the New Relic UI, it may take several minutes for the agent to restart and stop automatic log forwarding. If you disable via the NerdGraph API, automatic log forwarding should stop instantly.

### Disable via UI [#disable-ui]

Repeat this procedure for each account you want to disable or enable automatic logging.

1. From the [account dropdown](/docs/glossary/glossary/#account-dropdown) in the New Relic UI, click **Manage your data > Log settings**.
2. Click the three dots menu **...** at the right side of the account's row.
3. Click the confirmation button to enable or disable automatic logging.


For more information about managing your data in New Relic, see our [data ingest documentation](/docs/data-apis/manage-data/manage-data-coming-new-relic).

### Disable via API [#disable-api]

Use the `dataManagementUpdateFeatureSettings` in [**api.newrelic.com/graphiql**](https://api.newrelic.com/graphiql). Refer to the populated example and related documentation in the GraphiQL UI.

**Query example:**

```
{
  actor {
    account(id: <ACCOUNT_ID_HERE>) {
      dataManagement {
        featureSettings {
          enabled
          key
          name
        }
      }
    }
  }
}
```

**Mutation example:**

Use this mutation to update each account individually.

```
mutation {
  dataManagementUpdateFeatureSettings(accountId: <ACCOUNT_ID_HERE>, setting: {enabled: false, featureSetting: {key: "apm_log_forwarding"}}) {
    enabled
    key
    name
  }
}
```

### Disable via agent configuration [#disable-config]

If you want to disable automatic log forwarding for some agents and enable it for other agents, you can adjust each agent's client-side configuration settings. The agents will never instrument the log data in the first place; instead, they will completely remove the logs. This will lower overhead.

Client-side configuration settings work completely independently of server-side configuration and will take precedence. Only the agents that read the changed config file will be impacted.

For more information, see the procedures for the specific agent:

* [Java](/docs/logs/logs-context/java-configure-logs-context-all#2-decorate)
* [.NET](/docs/logs/logs-context/net-configure-logs-context-all#2-decorate)
* [Ruby](/logs/logs-context/configure-logs-context-ruby#2-decorate)


## Frequently asked questions [#FAQs]

<CollapserGroup>
  <Collapser
    id="disable-before-install"
    title="Can I turn off logs from agents prior to installing any language agents?"
  >
    Yes.
  </Collapser>

  <Collapser
    id="install-after-disable"
    title="What happens if more agents are added after making this change?"
  >
    All APM language agents that can send logs will have logging turned off going forward.
  </Collapser>

  <Collapser
    id="overhead-impact"
    title="What impact does this have on client overhead?"
  >
    Turning off APM logs means no log data will be forwarded; all other aspects of log inspection remain the same. To completely disable all logging related activity in the agent, change the agent's [client-side configuration](#disable-config) to disable logs.
  </Collapser>

  <Collapser
    id="billing-impact"
    title="How does my billable ingested data change by disabling automatic log forwarding?"
  >
    There will be no change in APM data ingest, but log data ingest will drop.
  </Collapser>
</CollapserGroup>

**Reviewer: Anything else they need to do or that we should mention in this doc?**
