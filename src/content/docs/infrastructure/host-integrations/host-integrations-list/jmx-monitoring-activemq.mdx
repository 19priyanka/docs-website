---
title: JMX monitoring with ActiveMQ
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
  - ActiveMQ dashboard
  - ActiveMQ with New Relic
metaDescription: 'Get a tour of our quickstarts and dashboards that take JMX-scraped data from your favorite automation software and houses it in the New Relic platform.'
--- 

import activemqLandingPage from 'images/activemqLandingPage.png'

import accessDashboards from 'images/Access_dashboards.png' 

With our ActiveMQ dashboard, you can easily track your ActiveMQ logs, keep an eye on your critical brokers, and get a total overview of all components of your messaging system. Built with our Linux infrastructure agent and our JMX integration, ActiveMQ dashboards take advantage of JMX scraping so you can view all your most important data, all in one place.

<img
  src={activemqLandingPage}
  title="ActiveMQ dashboard landing page"
  alt="A screenshot of a dashboard with ActiveMQ metrics. The dashboard ."
/>

## Set up the JMX integration [#setup]

Before getting ActiveMQ data into New Relic, first install our infrastructure agent, then expose your metrics by installing the JMX integration. If you haven't already:

* Follow our [guided install](https://one.newrelic.com/nr1-core?account=3501165&state=ff641d8b-e722-855e-4c4a-c50c23969dc3) to instrument your system with the Linux infrastructure agent. Or, if you prefer, [install the Linux infrastructure agent](/docs/infrastructure/install-infrastructure-agent/linux-installation/install-infrastructure-monitoring-agent-linux) via the command line.
* Install the [JMX monitoring integration](/docs/infrastructure/host-integrations/host-integrations-list/jmx-monitoring-integration).

## Get ActiveMQ metrics in a dashboard [#send]

Our ActiveMQ dashboard takes data scraped from your JMX integration and translates it into a collection of premade graphs and charts. Housing all your data in the New Relic Platform gives you a full overview of your system's health and critical business points. 

<img
  title="Access_dashboards.png"
  alt="A screenshot that identifies where to find the Dashboards tab in the top nav."
  src={accessDashboards}
/>
<figcaption>
**[one.newrelic.com](https://one.newrelic.com)** > Hover to the top navigation > Click **Dashboards**: After installation, you can find your dashboards in the New Relic platform. 
</figcaption> 

<CollapserGroup>
    <Collapser
    id="step1"
    title="Step 1. Update the `jmx-config.yml` file"
  >
The below YAML snippet connects your ActiveMQ metrics via `CONNECTION_URL` to jconsole, a Java tool that makes those metrics readable. If you're following along with the JMX integration install, this step corresponds with the configuration step. 

To update: 

1. Go to file path: `/etc/newrelic-infra/integrations.d/jmx-config.yml`
2. Add this snippet:

```yml
integrations:
- name: nri-jmx
  env:
    COLLECTION_FILES: "/etc/newrelic-infra/integrations.d/jmx-config.yml"
    JMX_HOST: 127.0.0.1
    JMX_PASS: admin
    JMX_PORT: 8161
    JMX_user: admin
    CONNECTION_URL: "service:jmx:rmi://127.0.0.1:1098/jndi/rmi://127.0.0.1:1099/jmxrmi"
    REMOTE_MONITORING: "true"
  interval: 15s
  labels:
    env: staging
```
  </Collapser>
  <Collapser
    id="step2"
    title="Step 2. Update the `jvm-metrics` with ActiveMQ metric names"
  >
This step organizes your metrics to be human readable once inside the New Relic platform. To update `jvm metrics`:

1. Go to file path `/etc/newrelic-infra/integrations.d/jvm-metrics.yml`
2. Add this snippet:

```yml
collect:
  - domain: java.lang
  event_type: JVMSampleActiveMQ
  beans:
    - query: type=GarbageCollector,name=*
      attributes:
        - CollectionCount
        - CollectionTime
    -query: type=Memory
      attributes:
        - HeapMemoryUsage.Committed
        - HeapMemoryUsage.Init
        - HeapMemoryUsage.Max
        - HeapMemoryUsage.Used
        - NonHeapMemoryUsage.Committed
        - NonHeapMemoryUsage.Init
        - NonHeapMemoryUsage.Max
        - NonHeapMemoryUsage.Used
    - query: type=Threading
      attributes:
        - ThreadCount
        - TotalStartedThreadCount
    - query: type=ClassLoading
      attributes:
        - LoadedClassCount
    - query: type=Compilation
      attributes:
        - TotalCompilationTime
```
  </Collapser>
  <Collapser
    id="step3"
    title="Step 3. Forward your ActiveMQ logs"
  >
With your monitoring environment set up, forward your ActiveMQ logs to the New Relic Platform. To forward logs:

1. Go to your ActiveMQ `logging.yml` file.
2. Add this snippet anywhere to the file:

```yml
- name: activemq.log
  file: /opt/activemq/data/activemq.log
  attributes:
    logtype: activemq-log
- name: activemq_audit.log
  file: /opt/activemq/data/activemq.log
  attributes:
    logtype: activemq-audit-log
```
  </Collapser>
</CollapserGroup>

## What's next?

To learn more about building NRQL queries and generating dashboards, check out these docs:

* [Introduction to the query builder](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder) to create basic and advanced queries.
* [Introduction to dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards) to customize your dashboard and carry out different actions.
* [Manage your dashboard](/docs/query-your-data/explore-query-data/dashboards/manage-your-dashboard) to adjust your dashboards display mode, or to add more content to your dashboard. 
