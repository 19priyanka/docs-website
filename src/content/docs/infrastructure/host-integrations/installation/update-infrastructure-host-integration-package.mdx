---
title: Update infrastructure on-host integrations
tags:
  - Integrations
  - On-host integrations
  - Installation
metaDescription: 'Update the New Relic infrastructure agent for your on-host integration on Amazon Linux, CentOS, Debian, Redhat, or Ubuntu.'
redirects:
  - /docs/integrations/host-integrations/installation/update-infrastructure-host-integration-package
  - /docs/infrastructure/host-integrations/installation/upgrade-infrastructure-host-integration-package
---

import agentsAndNrImg288Img29 from 'images/Agents-and-NR-\_288_29.png'

import kubernetesLogo from 'images/kubernetes-logo.png'

import ecs from 'images/ecs.png'

import otherlinux from 'images/otherlinux.png'

import suseIcon from 'images/suse-icon.png'

import redHatNew2 from 'images/red-hat-new2.png'

import centosIcon from 'images/centos-icon.png'

import amazonLinux from 'images/amazon-linux.png'

import ubuntuIcon from 'images/ubuntu-icon.png'

import debian from 'images/Debian.png'

import windows from 'images/windows.png'


Infrastructure on-host integrations do not update themselves automatically. To update them, use your package manager to update the programs and their dependencies to the latest version. We recommend that you keep both the [infrastructure agent](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) and the integration files up to date.

## Find on-host integration versions [#check-version]

Use either of these options to check whether your infrastructure on-host integration is up to date:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Option**
      </th>

      <th>
        **Comments**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        New Relic UI
      </td>

      <td>
        To use the Infrastructure UI to check for on-host integrations versions:

        1. Go to **[one.newrelic.com](http://one.newrelic.com) > Infrastructure**.
        2. In the search bar, type the name of the integration file that was installed (for example, `nri-cassandra`).
        3. Select the relevant dropdown to see the agent versions.
      </td>
    </tr>

    <tr>
      <td>
        Server
      </td>

      <td>
        To manually check for on-host integration versions, connect to a server. Then invoke the OS package manager and grep the integration's file name (for example, `nri-cassandra`):

        * **Debian** or **Ubuntu**:

          ```
          dpkg -l | grep <var>INTEGRATION_FILE_NAME</var>
          ```
        * **Amazon Linux, CentOS, SLES, or RHEL**:

          ```
          rpm -qa | grep <var>INTEGRATION_FILE_NAME</var>
          ```
      </td>
    </tr>
  </tbody>
</table>

To find the file name for a specific integration, see the [integration documentation](/docs/infrastructure/host-integrations).

## Pick your update method based on your environment [#install]

Your services may be running on a single physical host, on a VM, or in a container orchestrated by Kubernetes or ECS. Whatever the setup, our on-host integrations can adapt to your environment and send data to New Relic; all you have to do is choose the appropriate update method.

### You're running services in orchestrated environments [#orchestrated]

If you are running services in containerized, orchestrated environments, choose your update scenario:

* <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="Kubernetes" alt="Kubernetes" src={kubernetesLogo}/> [Install on-host integrations on Kubernetes](/docs/integrations/kubernetes-integration/link-apps-services/monitor-services-running-kubernetes)
* <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="ECS" alt="ECS" src={ecs}/> [Install on-host integrations on Amazon ECS](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs) (EC2 launch type)

Our on-host integrations and the ECS and Kubernetes integration can run together; see [Intro to Kubernetes integration](/docs/integrations/kubernetes-integration/get-started/introduction-kubernetes-integration) and [Intro to ECS integration](/docs/integrations/elastic-container-service-integration/get-started/introduction-amazon-ecs-integration) to learn more.

### You're running services on-premises or on single VMs [#standard]

If you are running services without orchestration or on-premises, choose your scenario:

<CollapserGroup>
  <Collapser
    id="windows"
    title={<>Install using MSI files (<img src={windows} title="Windows Server" alt="Windows Server" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/> Windows Server)</>}
  >
    Here are two approaches, depending on the integration you're using.

    **Microsoft Windows services integration** [#ms-services]

    The Microsoft Windows services integration is bundled with the New Relic infrastructure agent, so to update the integration, you need to upgrade the infrastructure agent. See [Update the infrastructure agent](/docs/infrastructure/install-infrastructure-agent/update-or-uninstall/update-infrastructure-agent).

    **All other on-host integrations** [#ms-all-others]

    You can update integrations for services running on Windows Server with our .MSI installer or the official zip files. We recommend the MSI installation.

    1. Download the latest .MSI installer image [from our repository](http://download.newrelic.com/infrastructure_agent/windows/integrations/).
    2. In an admin account, run the install script using an absolute path.

      ```
      msiexec.exe /qn /i <var>PATH\TO\INSERT_THE_INTEGRATION_NAME.msi</var>
      ```
    3. Change `C:\Program Files\New Relic\newrelic-infra\integrations.d\integration-name-config.yml.sample` to `integration-name-config.yml`, and edit according to your needs.
    4. [Restart the infrastructure agent](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status).

    </Collapser>
  </CollapserGroup>

3. [Restart](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux) the infrastructure agent.
  </Collapser>

  <Collapser
    id="apt"
    title={<>Install with apt (<img src={debian} title="Debian icon" alt="Debian.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Debian, <img src={ubuntuIcon} title="ubuntu icon" alt="ubuntu icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Ubuntu)</>}
  >
    **Recommendation:** [Update](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) the infrastructure agent ([version 1.0.703 or higher](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)).

    To update the on-host integration using `apt-get`:

    1. From the command line, run:

      ```
      sudo apt-get update
      ```
    2. Run this command using the integration file name (for example, `nri-cassandra`):

      ```
      sudo apt-get install --only-upgrade <var>INSERT_THE_INTEGRATION_FILE_NAME</var>
      ```
    3. [Restart](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux) the infrastructure agent.
  </Collapser>

  <Collapser
    id="yum"
    title={<>Install with yum (<img src={amazonLinux} title="amazon linux.png" alt="amazon linux.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Amazon Linux, <img src={centosIcon} title="centos icon" alt="centos icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>CentOS, <img src={redHatNew2} title="redhat icon" alt="redhat icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>RHEL)</>}
  >

    **Recommendation:** [Update](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) the infrastructure agent ([version 1.0.703 or higher](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)).

    To update the on-host integration using `yum`:

    1. From the command line, run this command using the integration file name (for example, `nri-cassandra`):

      ```
      sudo yum update <var>INTEGRATION_FILE_NAME</var> -y
      ```
    2. [Restart](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux) the infrastructure agent.
  </Collapser>

  <Collapser
    id="zypper"
    title={<>Install with zypper (<img src={suseIcon} title="suse icon" alt="suse icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>SLES)</>}
  >
    **Recommendation:** [Update](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) the infrastructure agent ([version 1.0.703 or higher](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)).

    To update the on-host integration using Zypper:

    1. From the command line, run this command using the integration file name (for example, `nri-cassandra`):

      ```
      sudo zypper update <var>INTEGRATION_FILE_NAME</var> -y
      ```
    2. [Restart](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux) the infrastructure agent.
  </Collapser>

