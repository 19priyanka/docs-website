---
title: .NET agent 9.x to 10.x migration guide
tags:
  - Agents
  - NET agent
  - Migration guides
metaDescription: 'This guide helps New Relic .NET agent users migrate from 9.x versions to 10.x'
redirects:
  - /docs/agents/net-agent/getting-started/9x-to-10x-agent-migration-guide
---

This guide outlines the major changes between the 8.x and 9.x versions of the .NET agent, issues that you may encounter while upgrading, and how to migrate successfully to version 9.x.

Main changes include:

* The .NET agent no longer support EOLed Frameworks
* Removal of deprecated scriptatable installer 
* Removal of deprecated instrumentation
* Linux installer packages name change

## The .NET agent no longer support EOLed Frameworks

Microsoft has announced .NET Framework \<= 4.6.1 and .NET Core \<= 3.0 reached End of Support. Maintaining support for EOLed frameworks keeps us from using the latest technologies; therefore, the .NET agent version 10.0 and later will stop instrumenting applications that are built with these frameworks.

It is recommended that customers should migrate their applications to use the supported framework versions. In the event where framework migration isn't an option, customers can still instrument their applications with the 9.x .NET agent.

## Removal of deprecated scriptatable installer

Starting from v10.x, we will stop providing scriptatable installers from our download site.

## Linux installer packages name change

Starting from v10.x, the name of the agent install packages for Linux is changing from `newrelic-netcore20-agent` to `newrelic-dotnet-agent`. We feel that the name `netcore20` has been confusing since we have supported versions of .NET Core greater than 2.0 as they have been released, and as of agent version 10.0 we no longer support versions of .NET Core older than 3.1.

The new `newrelic-dotnet-agent` packages are marked as conflicting with and replacing (DEB) or obsoleting (RPM) the older `newrelic-netcore20-agent` packages. Your system's package manager will not allow both to be installed at the same time.

### Upgrading from `newrelic-netcore20-agent` to `newrelic-dotnet-agent`

<Callout variant="important">
  The upgrade process will migrate your `newrelic.config` and any XML custom instrumentation files from the previous agent installation in `/usr/local/newrelic-netcore20-agent` to the new installation location in `/usr/local/newrelic-dotnet-agent`. Log files and any other custom data will **not** automatically be migrated.
</Callout>

1. For safety, you should make a backup copy of all files in `/usr/local/newrelic-netcore20-agent` before continuing to the next step.
2. Shut down any .NET applications currently being monitored.
3. Follow the instructions for the package manager appropriate for your Linux system:

   <CollapserGroup>
     <Collapser
       id="clamshell_debian_ubuntu_mint_aptget"
       title="Upgrade with apt (Debian, Linux Mint, or Ubuntu)"
     >
       1. Update the local package list:

          ```
          sudo apt update
          ```
       2. Upgrade the agent:

          ```
          sudo apt install newrelic-dotnet-agent
          ```
     </Collapser>

     <Collapser
       id="clamshell_debian_ubuntu_mint_dpkg"
       title="Upgrade with dpkg (Debian, Linux Mint, or Ubuntu)"
     >
       1. Go to **[download.newrelic.com/dot_net_agent/latest_release](https://download.newrelic.com/dot_net_agent/latest_release/)**, and copy the URL that corresponds to your [architecture](/docs/agents/net-agent/getting-started/compatibility-requirements-net-agent#architecture) and to the latest `newrelic-dotnet-agent` .deb package.
       2. Download the package with `wget`, replacing `https://LINK_TO_PACKAGE` with the full URL of the package:

          ```
          wget -L https://<var>LINK_TO_PACKAGE</var>
          ```
       3. Upgrade the agent, replacing `VERSION` with the current version:

          ```
          sudo dpkg -i newrelic-dotnet-agent_<var>VERSION</var>_<var>ARCHITECTURE</var>.deb
          ```
     </Collapser>

     <Collapser
       id="clamshell_centos_rhel_oracle_yum"
       title="Upgrade with yum (CentOS, Oracle Linux, or RHEL)"
     >
       <Callout variant="important">
         New Relic does not currently offer Linux rpm packages for ARM64. Instead, [leverage the tarball to install](#clamshell_tarball) on these platforms.
       </Callout>

       1. Upgrade the agent:

          ```
          sudo yum install newrelic-dotnet-agent
          ```
     </Collapser>

     <Collapser
       id="clamshell_centos_rhel_oracle_rpm"
       title="Upgrade with rpm (CentOS, Oracle Linux, or RHEL)"
     >
       <Callout variant="important">
         New Relic does not currently offer Linux rpm packages for ARM64. Instead, [leverage the tarball to install](#clamshell_tarball) on these platforms.
       </Callout>

       1. Go to [download.newrelic.com/dot_net_agent/latest_release](https://download.newrelic.com/dot_net_agent/latest_release/), and copy the URL that corresponds to your [architecture](/docs/agents/net-agent/getting-started/compatibility-requirements-net-agent#architecture) and to the latest `newrelic-dotnet-agent` .rpm package.
       2. Download the package with `wget`, replacing `https://LINK_TO_PACKAGE` with the full URL of the package:

          ```
          wget -L https://<var>LINK_TO_PACKAGE</var>
          ```
       3. Upgrade the agent, replacing `VERSION` with the current version:

          ```
          sudo rpm -U newrelic-dotnet-agent_<var>VERSION</var>.x86_64.rpm
          ```
     </Collapser>
   </CollapserGroup>

4. Update the profiling environment variables. How to do this, exactly, depends on how you previously set these variables for your monitored application's environment at startup.

```
CORECLR_ENABLE_PROFILING="1" \
CORECLR_PROFILER="{36032161-FFC0-4B61-B559-F6C5D41BAE5A}" \
CORECLR_NEWRELIC_HOME="/usr/local/newrelic-dotnet-agent" \
CORECLR_PROFILER_PATH="/usr/local/newrelic-dotnet-agent/libNewRelicProfiler.so"
```

5. Start your monitored applications and verify that data appears in New Relic as you expect.

6. Once you are satisfied that the migration is successful, perform the following steps to clean up remaining artifacts from the previous `newrelic-netcore20-agent` installation:

  <Callout variant="important">
    It is important to perform these cleanup steps in order to prevent subsequent upgrades to newer versions of `newrelic-dotnet-agent` from re-migrating your `newrelic.config` and any custom instrumentation XML from `/usr/local/newrelic-netcore20-agent`.
  </Callout>

  1. If you are on a Debian-based (apt/dpkg) system:
    
    ```
    sudo dpkg -P newrelic-netcore20-agent
    ```

  2. Remove `/usr/local/newrelic-netcore20-agent` (applies to both Debian-based (apt/dpkg) and RPM-based (yum/rpm) scenarios):

    ```
    sudo rm -rf /usr/local/newrelic-netcore20-agent`
    ```

## Removal of deprecated instrumentation

Starting from v10.x, the .NET agent stops instrumenting Castle MonoRail. Customers can still use older versions of the .NET agent to instrument this library.
