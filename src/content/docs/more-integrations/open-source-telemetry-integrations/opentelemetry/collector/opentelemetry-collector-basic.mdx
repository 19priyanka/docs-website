---
title: Collector with New Relic (basic setup)
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
metaDescription: The OpenTelemetry collector is a central tool to collect, process, and export your telemetry.
---

For a basic setup of the collector where you are **not** monitoring infrastructure hosts, follow the Docker instructions below. If you need more information about whether to set up a collector, see our [introduction](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/collector/opentelemetry-collector-intro).

The collector setup is part of the larger process of setting up OpenTelemetry with New Relic. If you haven't already done so, make sure you've completed "Step 2. Instrument your service with OpenTelemetry" in our [primary instructions](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-quick-start/#instrument). Then, as a substitute for "Step 3. Export your telemetry data to New Relic," complete the steps below.

Here's a Docker example of how to set up and run an OpenTelemetry collector with the collector YAML:

1. Save the following as `otel-config.yaml`:

    ```
    receivers:
      otlp:
        protocols:
          grpc:
          http:

    processors:
      batch:

    exporters:
      otlp:
        endpoint: ${OTEL_EXPORTER_OTLP_ENDPOINT}
        headers:
          api-key: ${NEW_RELIC_LICENSE_KEY}

    service:
      pipelines:
        traces:
          receivers: [otlp]
          processors: [batch]
          exporters: [otlp]
        metrics:
          receivers: [otlp]
          processors: [batch]
          exporters: [otlp]
        logs:
          receivers: [otlp]
          processors: [batch]
          exporters: [otlp]
    ```
2. Run the OpenTelemetry collector after you make the following changes:
   * Replace <var>OTLP_ENDPOINT_HERE</var> with the appropriate [endpoint](#review-settings.
   * Replace <var>YOUR_KEY_HERE</var> with your account's [license key](https://one.newrelic.com/launcher/api-keys-ui.launcher).



      ```
      export OTEL_EXPORTER_OTLP_ENDPOINT=<var>OTLP_ENDPOINT_HERE</var>
      export NEW_RELIC_LICENSE_KEY=<var>YOUR_KEY_HERE</var>

      docker run --rm \
        -e OTEL_EXPORTER_OTLP_ENDPOINT \
        -e NEW_RELIC_LICENSE_KEY \
        -p 4317:4317 \
        -v "${PWD}/otel-config.yaml":/otel-config.yaml \
        --name otelcol \
        otel/opentelemetry-collector \
        --config otel-config.yaml
      ```




