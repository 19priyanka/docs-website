---
title: Monitor your code-level performance
metaDescription: Use CodeStream to monitor the performance of your code directly in your IDE.
---

<Callout variant="caution">
Code-level metrics are only available for Python code.
</Callout>



Connect to New Relic
As with the Errors integration, users must connect CodeStream to their New Relic One accounts in order to take advantage of method level telemetry. As is currently the case, users can connect via the “Connect to New Relic One” button in the Observability section of the CodeStream pane, or via the Integrations page (username menu > Integrations).

## Code-level metrics

When the user is looking at a source file in their editor from a Python project, if that project has been instrumented with the NR Python agent and the repository is associated with a service on NR1, CodeStream will display a codelens above each instrumented method. The codelens will show the golden signals for the given method for the last 30 minutes.



Side Note: The term “CodeLens” refers to a specific UI feature in VS Code, where a small line of text can be displayed above a line of code. Read more here. Although the term is reasonably well understood, since it is IDE specific we might want to at least try to avoid using it if possible. If not, I don’t think it’s all that problematic.

If the user clicks on the codelens we’ll display charts for each golden signal in the CodeStream pane.




The very first line is the entity name, and as the icon to the right indicates, clicking it will open the corresponding service summary page on NR1. Below that is the method name, and then the rest of the fields are labeled. Note that Entity is a dropdown where the user can select the appropriate entity for which they want to see golden signals. For example, they may want to select the entity that corresponds to their production environment. Just to be clear, this selection affects what is displayed in the charts below, but also in the codelenses for files in this repository.

Default CodeLens
If there are entities on NR1, but none are associated with the current repository, then we will display a single codelens above the very first line in the file.



Clicking on this codelens will bring the user to the following page in the CodeStream pane where the can select an entity from NR1 to associate with this repository.



As has been previously documented, you can also associate repositories with services via New Relic One or via environment variables.

CodeLens Formatting
Through the CodeStream section of your IDE’s settings you can control the display of the codelenses. In VS Code, go to Settings and search for CodeStream. In a JetBrains IDE, go to Preferences/Settings > Tools > CodeStream. In Visual Studio, go to Tools > Options > CodeStream.



avg duration: ${averageDuration} | throughput: ${throughput} | error rate: ${errorsPerMinute} - since ${since}

You can remove any of the tokens to exclude data you’re not interested in, and you can change any of the non-token text however you see fit. For example, if you wanted to only see error rate in your codelenses, you could change the format to be Error Rate: ${errorsPerMinute}

You can also turn off the codelenses altogether.










Side Note: As I mentioned in our call, getting users to associate repositories with their services is becoming increasingly important to us. Maybe this should get more emphasis in other areas of the NR1 user guide.
