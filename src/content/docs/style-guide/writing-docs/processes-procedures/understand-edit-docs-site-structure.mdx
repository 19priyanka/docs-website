---
title: Understand and edit the docs site structure 
redirects: 
  - /docs/style-guide/processes-procedures/include-a-doc-in-multiple-menus
  - /docs/style-guide/processes-procedures/update-left-navigation-pane
  - /docs/style-guide/processes-procedures/understand-edit-docs-site-structure 
---

This doc contains information and procedures pertaining to the structure of the docs site, including: the nav files, the sidebar, docs category (index) views, and more. 

For brief instructions for common use cases, see [Procedures](#procedures), but if you're doing larger docs site projects, it's highly recommended you understand the [terms](#terms) and [general concepts](#understand) of how the docs site structure works. 

## Terms [#terms]
When talking about the docs site structure, sometimes people use different words for the same things. Below is a list of terms that can help us communicate about the docs site structure: 

* **Nav files**: In the github docs site, there are yaml files under the `nav` folder that are used to determine the docs site structure that we display. This structure is exposed in the docs site left sidebar and when you view docs category views (also known as auto-index pages, like [this one](/docs/style-guide/writing-strategies)). 
* **Folder**: In this context, "folders" refers to the actual docs site folder structure (those folders and files in the `content` section). Referring to "folders" can be a helpful way to differentiate between the actual folder structure and the displayed structure that's set using the nav files. 
* **Sidebar**: On public-facing docs, the sidebar is what is visible on the left hand side, showing the structure of that category of docs. The sidebar and index view are both determined by the structure set in the nav file. 
* **Category** or **sub-category**: we use these words a bit interchangeably to refer to specific areas of the docs site. 
* **Auto-index pages** (mostly deprecated): This is the more technical way to refer to a category view of docs (for example, [this view](/docs/style-guide/writing-strategies)). While these views are still functional, we should no longer link to them from the docs, hence why these views are considered deprecated.

## Understand how the docs site structure works [#understand]

This section will explain some of the logic behind how the docs site structure is determined and how the structure we display to the public relates to the actual docs folder structure. 

### How is the displayed structure related to the actual folders? [#folders-vs-categories]

The actual docs folder structure (the folders and mdx files in the `content` folder) is entirely separate from the docs site structure in the sidebar. The displayed structure of the docs site is determined solely by the nav files (the yaml-format files in the `nav` folder). 

It's important to understand the above point. The divergence of the docs folder structure and the displayed docs site structure is necessary: we need a way to control the displayed site structure, which is used for the sidebar and auto-index pages, without requiring us to keep the folder structure and folder names and doc file names completely parallel and matching. Because these two things are so separate, it means we have some fairly complex behind-the-scenes logic to get them to work together. And this means that there can be fairly unintuitive aspects of how that logic works. 

We do have [procedures for common use cases](#procedures), but it will help you a lot to understand the specifics below of how the displayed structure is generated.

### What determines a doc's URL? [#doc-url]

Where a doc file (`mdx` file) is located in the `content` folder, and the associated folder and file names, are the only factors that govern that doc's URL. 
For example, consider the following doc file `automated-user-provisioning-single-sign.mdx`: 

![Example of a doc file in the folder structure](./images/example-doc-in-folder.png "Doc file in its folder")

This doc's URL is solely based on its folder location and the names of the folders. In this case, its URL is: 

```
docs.newrelic.com/docs/accounts/accounts/automated-user-management/automated-user-provisioning-single-sign
```

This has important implications, including: 

* When you move a doc from one folder to another, its URL changes, and this means that you will have to add a redirect to that doc of its original URL. 
* If you rename an mdx file name or a folder name, that changes its URL, so that means you would have to add a redirect to that doc for its original URL. 

### What does a nav file do? [#nav-file-contents]

The nav files are quite simple. A nav file controls these things: 

* The docs structure (the various levels of docs) for that category of docs. 
* The category headers, set by `title` (for example, `On-host integrations list`) and `path` (for example, `/docs/integrations/on-host-integrations`). 
* The doc information, set by `title` (for example, `NGINX integration`) and `path` (the doc's URL).

For more on nav file format, see [Nav file format](#nav-format)

### Where is the docs site structure exposed? [#exposed] 

The structure set in the nav files is exposed in two places: 

* The left sidebar of a doc that shows the structure of that category. When a category header in the sidebar is clicked, it shows a view of that docs site category. 
* Doc category views, also sometimes called [auto-index pages](#terms): for example, [this view](/docs/style-guide/quick-reference), which shows a particular section of docs. Note that while these still work, we no longer want to link to these views. 

### What determines a doc's sidebar? [#doc-sidebar]

As stated above, the sidebar is just one way that the docs site structure (which is governed by the nav files) is exposed.

When a doc is loaded, the docs site searches for that URL in the nav files. If it finds a match, it displays that nav file in the sidebar with that doc highlighted. 

If it finds that doc in more than one nav file, it attempts to find the right nav file by choosing the nav that matches the top level category in the doc URL. For example, if a doc with the relative URL `/docs/accounts/accounts-billing/account-setup/create-your-new-relic-account` was in two nav files, the docs site code would search to see if one of the nav files has `docs/accounts` as its first `path` field. If it finds a match, it uses that nav file. 

## Nav file format [#nav-format]

Below is a snippet of the [`agents.yml`](https://github.com/newrelic/docs-website/tree/develop/src/nav/agents.yml) nav file. Note that the file has indentation that corresponds to the level of the navigation hierarchy. When making changes or creating a new nav file, be sure to use the existing spacing format. 


```
yml
title: Agents
path: /docs/agents
pages:
  - title: Manage APM agents
    pages:
      - title: Agent data
        pages:
          - title: Real time streaming
            path: /docs/agents/manage-apm-agents/agent-data/real-time-streaming
          - title: Custom instrumentation
            path: /docs/agents/manage-apm-agents/agent-data/custom-instrumentation
          - title: Agent attributes
            path: /docs/agents/manage-apm-agents/agent-data/agent-attributes
          - title: Custom events
            path: /docs/agents/manage-apm-agents/agent-data/collect-custom-events
          - title: Custom metrics
            path: /docs/agents/manage-apm-agents/agent-data/collect-custom-metrics
          - title: Manage errors
            path: /docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-or-mark-expected
          - title: Link Kubernetes
            path: /docs/agents/manage-apm-agents/agent-data/link-your-applications-kubernetes
      - title: App naming
        pages:
          - title: Name your application
            path: /docs/agents/manage-apm-agents/app-naming/name-your-application
          - title: Use multiple names for an app
            path: /docs/agents/manage-apm-agents/app-naming/use-multiple-names-app
```

<Callout variant="tip">
  Navigation nesting is currently limited to a maximum of six levels deep.
  Please reach out to the engineering team if that is not enough.
</Callout>

Here are important elements of the nav file: 

<table>
  <thead>
    <tr>
      <th style="width:200px">Key</th>
      <th>Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`title`</td>
      <td>yes</td>
      <td>The text shown in the navigation, either of a doc or a category.</td>
    </tr>
    <tr>
      <td>`path`</td>
      <td>yes</td>
      <td>
        <p>The URL path to the doc. Each nav file's top level `title` also has a path. Do not use trailing slashes.</p>
      </td>
    </tr>
    <tr>
      <td>`rootNav`</td>
      <td>no</td>
      <td>`rootNav` controls whether a nav file will be displayed or hidden on the docs site home page. It is enabled by default. If you want to hide a category from the home page (as we do for our style guide docs, for example), you would set this to false, as shown below: 

```
title: Style guide
path: /docs/style-guide
```
      </td>
    </tr>    
    <tr>
      <td>`children`</td>
      <td>no</td>
      <td>This is hardly ever used. It indicates a sub-navigation node.</td>
    </tr>    

  </tbody>
</table>

## Procedures [#procedures]

Below are instructions for several common procedures. It may help you to review [the terms we use](#terms) before starting a procedure. 
Procedures include: 

* [Add a new docs category](#add-category)
* [Add a doc to sidebar/nav-file](#add-doc-to-nav)  
* [Move docs between folders or categories](#move-docs)
* [Move or delete folders](#move-delete-folders)
* [Create a "dummy" category for docs that donâ€™t live in that area](#dummy-category)
* [Make a category heading clickable](#category-clickable)
* [Troubleshoot messed up category views](#troubleshoot-category)


### Overview of steps for a large docs site restructure project [#large-project]

For some smaller docs site edits, you can sometimes simply edit the nav files and not have to touch the doc files or folders. But for larger projects, you may want to or need to edit and move the docs files and folders themselves. Below is a broad overview of the chunks of work such larger projects generally entail. 

1. Plan out what the new nav file structure will look like, and plan out the work of moving docs files or creating new folders. It can help to write down the chunks of work a large project will entail. 
2. Move the affected doc files to their new folder locations, making sure to add redirects. For more on that, see [Move docs between folders](#move-docs-between-folders). 
3. Delete any empty folders. 
4. For any folder or file edits you do to the file structure itself (including file or folder renaming, moving files and folders, but **not** including editing of content or front matter within a doc or nav file), do the same edits to the folders and files in the `i18n` directory. Not all folders or files will be present in the i18n directory: it only populates an mdx file or an associated folder if that mdx file has been marked for translation. 
5. Edit the nav files to reflect the new desired structure and point to the new doc URLs. 

For more specific and granular procedures, keep reading. 

### Add a new category [#add-category]

We'll explain two procedures: adding a subcategory of docs in an existing nav file, and adding an entirely new nav file. 

#### Add a new nav file [#add-new-nav]

Adding an entirely new nav file should be rare, and something we only do occasionally during large overhauls of site structure. 

To add an entirely new nav file: 

1. Copy an existing file nav file, or create a new nav file.
2. Customize the new nav file with the categories and docs you want, using the structure of existing nav files as a template. For more on structure, see [nav format](#nav-format).
   <Callout variant="tip">
     You need at least one level of nesting inside the nav file. Without that, doc titles in the auto-generated category views will render as H2 headings. For example, `src/content/level-one/level-two/doc` will work,
     but `src/content/level-one/doc` will produce strange formatting.
   </Callout>{' '}

#### Add a new category to a nav file [#add-nav-section]

To add a new category to a nav file: 

1. In an existing nav file, add a new category, represented by its `title`. 
2. Add the docs you want in that section. 
4. Ensure your new content matches the indenting of the surrounding nav file. 

To learn more about how this works, see:

* [How a doc's sidebar is determined](#doc-sidebar) 
* [How a doc category view is determined](#category-view)

### Add a doc to sidebar/nav-file [#add-doc-to-nav]

Once you [create a doc](/docs/style-guide/writing-guidelines/create-edit-content/#creating-docs), you need to place it in a nav file. Do not place a doc in more than one nav file location: if you require a link to a doc from a different category, attempt to place that reference within a relevant doc section. 

To add a doc to a nav file: 

1. In the nav file location where you want to locate it, add the `title` (its short title displayed in the sidebar and category views) and the `path`, which is the doc's URL. 
2. Ensure that you've emulated the indenting based on the surrounding nav file content or other nav files. 

### Move docs to other categories [#move-docs]

Because the nav file and the actual folder structure aren't connected, there are two different ways to "move docs": 

* Move a doc in the nav files: preferred and most common procedure.
* Move a doc between folders: less frequent, mainly when doing larger projects where we want to do a significant overhaul of the docs structure and want to ensure the folder structure doesn't become too divergent from the nav file structure. 

#### Move docs using nav file [#move-docs-in-nav-file]

Move a doc in the nav file when you want to change where it's visible in the sidebar menus.

To move a doc from one place to another in the nav file: 

1. In the first nav file, copy the two rows representing that doc's entry (the `title` and `path` lines) and paste that content into the place you want it to live in the new nav file. 
2. In the new nav file section, make sure that new content is aligned properly with the surrounding nav file content. See [Nav format](#nav-format) for more about nav file structure. 

#### Move docs between folders [#move-docs-between-folders]

Note that moving docs between the folders should be relatively rare. The main reasons to do this are when the folder structure and nav file structure are becoming quite divergent, which can be bad for a couple reasons: 

* Too much divergence can create user confusion (for example, when the elements of the folder-based URL are very different than the nav-file-based location) or sub-optimal search engine results. 
* Too much divergence can make it harder for us to find and edit docs, so there can be value to keeping things fairly up to date and parallel. 

When you move a doc between folders or rename a doc, that changes its URL. Similarly, if you rename a folder, that changes the URL of all docs in that area. 

To move a doc between folders: 

1. Get the current URL of the doc you want to move and add that URL to its own list of redirects. Tips: 
	* One way to do this in VSCode is to right click the file and click "Get relative path". 
	* If you are moving many files, ask the team about ways to programmatically add redirects. 
	* Remove the trailing slash. 
2. Move the doc to the new folder. 
3. If that mdx file is present in the `i18n` directory (which it will be if it's marked for translation), make an equivalent move of that file in the `i18n` directory. 
4. **Update nav files with the new URL**. Having the correct doc URL in the nav file, and not a redirect, is important. Note that a doc's URL may be in more than one nav file so searching the site for that URL can help. 

### Move or delete a folder [#move-delete-folders]

Sometimes when we are doing a larger restructuring project, we may want to move or delete the actual folders instead of simply editing the nav files. 

If you are moving an entire folder or multiple folders to another folder, docs and all: 

1. Because moving a folder changes all the URLs of docs in that folder, you must first add redirects. You can do this manually ([described in step #1 here](#move-docs-between-folders)) or you can use a script we have for bulk adding redirects to all the mdx files in an entire directory. 
2. Move the folder on your local disk to the new location (dragging and dropping via Finder, for example).
3. If that folder is present in the `i18n` directory (which it will be if a doc in that folder has been marked for translation), make an equivalent edit in the `i18n` directory. 

For deleting folders, you'll want to essentially follow the same steps as above: adding redirects for the mdx files being moved or deleted, then moving or deleting the docs, and then deleting the empty folders.  

### Create a "dummy" doc [#dummy-doc]

We no longer want to have docs in multiple places in the nav files. If you want a doc to be referenced in more than one location in the nav files, instead attempt to find a relevant place within a doc where you want to reference it.  




