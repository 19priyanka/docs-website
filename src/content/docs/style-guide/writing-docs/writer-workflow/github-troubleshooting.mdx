---
title: GitHub troubleshooting
topics:
  - Tech writer style guide
  - GitHub issues
redirects: 
  - /docs/style-guide/writer-workflow/github-troubleshotting
---

Are you having problems [working on a doc in GitHub](/docs/style-guide/writer-workflow/tech-writer-workflow/)? Check out the following common issues.

## Gatsby or local build fails [#build-fails]

### Problem

When you create a pull request, your build fails either in Gatbsy or your local build.

### Solutions

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="troubleshoot-file"
    title="Troubleshoot the problematic file"
  >
If you know which file is causing an error, run this command:
```
yarn verify-mdx path/to/file.mdx
```
This command returns more information about the error than the normal Gatsby output. This includes things such as the specific character and line number causing the error.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="example"
    title="Example of using yarn verify-mdx"
  >

  Let's pretend I've made a changes to multiple docs in my branch. When I try to either run the site locally or access the Gatsby Cloud build, I get the following error:

  ```
  Unexpected character = (U+003D) before name, expected a character that can start a name, such as a letter, $, or _/usr/src/app/www/src/content/docs/new-relic-solutions/observability-maturity/uptime-performance-reliability/aqm-implementation-guide.mdx: Unexpected character = (U+003D) before name, expected a character that can start a name, such as a letter, $, or _
  ```

  The error does tell me that the doc with an error is in `/docs/new-relic-solutions/observability-maturity/uptime-performance-reliability/aqm-implementation-guide.mdx`. Other than that, all I know is that there is a `=` character messing things up somewhere. Cool, but this is a NRQL doc, there are a dozens of `=` characters.

  So, I run `yarn verify-mdx src/content/docs/new-relic-solutions/observability-maturity/uptime-performance-reliability/aqm-implementation-guide.mdx`. This returns the following:

  ```
  reading src/content/docs/new-relic-solutions/observability-maturity/uptime-performance-reliability/aqm-implementation-guide.mdx
  {
    "message": "Unexpected character `=` (U+003D) before name, expected a character that can start a name, such as a letter, `$`, or `_`",
    "name": "284:227",
    "reason": "Unexpected character `=` (U+003D) before name, expected a character that can start a name, such as a letter, `$`, or `_`",
    "line": 284,
    "column": 227,
    "location": {
      "start": {
        "line": 284,
        "column": 227,
        "offset": 19129,
        "index": 1
      },
      "end": {
        "line": null,
        "column": null
      }
    },
    "source": "remark-mdx",
    "ruleId": "unexpected-character",
    "fatal": true
  }
  [
  ```

  In this case, the relevant info is:

  ```
  "line": 284,
  "column": 227,
  ```

  and

  ```
  "source": "remark-mdx",
  "ruleId": "unexpected-character",
  "fatal": true
  ```

  This tells me that there is an unexpected character in line 284, column 227. Then I can go to that section of the doc and further troubleshoot, knowing exactly where the error comes from. In this case, I likely just need to wrap a NRQL example in quotes.
  </Collapser>
  </CollapserGroup>
</Collapser>

<Collapser
  className="freq-link"
  id=""
  title="Check for common syntax errors"
>
Check the changed files for some of these common markdown syntax errors:
* Inconsistent indentation of the nav files
* Incorrect front matter syntax
  * If there's apostrophes and colons in frontmatter fields, surround them with quotes to avoid problems.
* Missing closed brackets or tags
* Poorly formatted image links
  * Be careful when renaming images and their filename paths. A mismatch can cause the entire local build to fail.
  * Be especially careful when dealing with image files that are imported.
* Incorrect image filenames
  * Image filenames are case-sensitive. Using the wrong capitalization results in a missing image in the doc.
  * Images with encoded values (like %) in the filename can be especially tricky, so try to avoid them.
</Collapser>

  <Collapser
    className="freq-link"
    id="restart-yarn"
    title="Stop and restart yarn"
  >
  To stop and restart yarn:
    1. In the terminal, ensure you're in the `/docs-website` directory.
    2. Hit CONTROL+C to interrupt the yarn process (if a terminal is active).
    3. Run this command to stop all services running on localhost:8000:
      ```
      kill -9 $(lsof -i TCP:8000 | grep LISTEN | awk '{print $2}')
      ```
    
    4. Run this command to restart yarn:
    ```
    yarn clean && yarn && yarn start 
    ```
</Collapser>

  <Collapser
    className="freq-link"
    id="check-branch"
    title="Identify the problematic branch"
  >
  To identify which branch is causing issues:
    1. In the terminal, ensure you're in the `docs-website` directory.
    2. Hit CONTROL+C to interrupt the yarn process, if necessary.
    3. In GitHub Desktop, commit any changes needed on your branch, and then switch to the develop branch.
    4. Back in the terminal, run `yarn && yarn start`.

  If the site now builds correctly from the develop branch, the issue is with the changes in your branch. Stop Yarn again, go back to your branch, and troubleshoot.
  </Collapser>

  <Collapser
    className="freq-link"
    id="clean-cache"
    title="Clean your local cache"
  >
    Run `yarn clean` to blow away your local cache. This will make your next build slower, so make sure you have time!

    1. In the terminal, ensure you're in the docs-website directory.
    2. Hit CONTROL+C to stop yarn, if necessary.
    3. Begin a new build by running `yarn clean && yarn && yarn start`.
  </Collapser>

  <Collapser
    className="freq-link"
    id="remove-cache"
    title="Remove corrupted cache files"
  >
    There may be times when your .cache directory has been corrupted. This directory is ignored by Git, which means that it travels with you from branch to branch. This might be the problem if your local builds are failing regardless of which branch you’re on.

    To solve this from your `/docs-website` directory, run `rm -rf .cache`.
  </Collapser>

  <Collapser
    className="freq-link"
    id="start-build"
    title="Start a build from scratch"
  >
    Starting a build from scratch will blow away all your node modules, hidden .cache folder, and local cache. This takes a long time to run, around 10–20 minutes.

    1. In the terminal, ensure you're in the docs-website directory.
    2. Hit CONTROL+C to stop yarn, if necessary.
    3. Run this command (or the use Keyboard Maestro command `kknuke`*):
      ```
      yarn reboot` in your terminal.
      ```

      *If you use the `kknuke` Keyboard Maestro command, when everything completes, start the site by running `yarn start`.
  </Collapser>

  <Collapser
    className="freq-link"
    id="run-incognito"
    title="Run your local build in private mode"
  >
    Sometimes the local site builds, but pages within the site don't. To fix this issue, try running the local build in a private/incognito session. You can also try clearing out your browser's cache.
  </Collapser>
</CollapserGroup>

## Port 8000 is unavailable [#local-site]

### Problem

When you try to run `yarn start`, the terminal responds:
```
Something is already
running at port 8000. Would you like to run the app at another port instead?
```

### Solution

To stop all services running on localhost:8000, run this command in your terminal:
  ```
  kill -9 $(lsof -i TCP:8000 | grep LISTEN | awk '{print $2}')
  ```

## Redirect link throws 404 error [#redirect-404]

### Problem

When you click on a redirect link in your local build, you get a 404 error.

### Solution

Redirects take a long time to load in a local build. When you click on a redirect, wait until it throws a 404, and then wait ~1-2 minutes. It should redirect you after a while. If it doesn’t, check the markdown syntax to ensure you set up the redirect correctly.

You can also test the redirects out in the Gatsby build.

## Required build checks fail [#check-fail]

### Problem

When you create a PR, one of the `required` checks fails to pass.

<Callout variant="info">
#### Required vs. optional build checks
To merge a PR, you only need the `required` checks to pass.  If an optional check fails, it's okay to merge the PR since optional checks don't block releases. But if you want to investigate the check further, message the help channel so the hero can look into the failure.
  </Callout>

### Solution
<CollapserGroup>
  <Collapser
    className="freq-link"
    id="rerun-checks"
    title="Re-run the checks"
  >
Try re-running the check:
1. Go to the PR.
2. Click **Details > Re-run jobs**.

If that doesn't fix it, you probably have genuine build errors. You will need to troubleshoot locally. See [Troubleshoot problematic files](#troubleshoot-file).
  </Collapser>

  <Collapser
    className="freq-link"
    id="reset-check"
    title="Reset the build the docs site check"
  >
For merges to main, if the `build the docs site` check fails, you will need to reset the check. There are times when this check fails. If this happens after your local builds have built successfully, you may need to force a rebuild of the cache.

<Callout variant="info">
    This adds a LOT of time to the build check.
  </Callout>

To reset the 'build the docs site' check:
  1. In your local repo, find the file `gatsby-config.js` (use CMD-P to jump to it fast in VSCode).
  2. Swap the first and second line of code:

  `const fs = require('fs');`

  `const parse = require('rehype-parse');`
  
  <Callout variant="info">
  It doesn’t matter what order these lines are in, except to make the Gatsby Build check rebuild the cache.
  </Callout>
  3. Save the file and commit the change to your PR.
  4. Re-run the build checks.
  5. Wait a LOOOOONG time.
  </Collapser>
</CollapserGroup>

## PR merge conflicts with the develop branch [#merge-conflict]

### Problem

When you try merge a PR from your local branch to develop, you get a merge conflict.

### Solutions
<CollapserGroup>
  <Collapser
    className="freq-link"
    id="fetch-origin"
    title="Fetch origin of develop branch"
  >
Before you merge to main (to publish), make sure you pull down the most up-to-date version of develop:
1. In GitHub Desktop, ensure you're in the develop branch. 
2. Click **Fetch origin** to update your local build with the newest version of develop.
  </Collapser>

<Collapser
  className="freq-link"
  id="whats-new"
  title="Resolve conflicts caused by what's new posts"
  >
If you get a conflict merge from what's new posts, it's because the `whats-new-ids.json` file (which is automatically updated when the site builds) can get out-of-date pretty fast.
<Callout variant="caution">
  Never merge a PR that changes `whats-new-ids.json`. If you see changes to the `whats-new-ids.json` file show up in GitHub Desktop, make sure to discard them rather than push them up to your branch. This will make it less likely that other people will have to deal with merge conflicts related to this file.
</Callout>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
Merge conflicts can seem pretty scary, but it’s ultimately just deciding between two different versions of a doc. Here are some tips on how to get through it:

* Fix your merge conflict as soon as possible, especially if you’re working on taxonomy changes. If your branch lingers for a while it can get outdated from develop pretty fast and that can cause some unexpected issues.
* Check your fix locally to make sure that it looks good there.
* Ask your PR approver to review your PR after you fix the merge conflict.
  </Callout>

## SSH authentication fails [#authentication-fail]

### Problem

When you try to push commits to your remote branch, you get an SSH authentication error.

### Solutions

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="sign-out"
    title="Sign out of Github Desktop"
  >
Sometimes signing in/out of of Github Desktop can fix an authentication issue:
1. In the top menubar, go to **Preferences**.
2. Sign out and sign in again.

Then, try to push commits to your remote branch. If it still fails, try [manually push PR using the terminal](#manual-push)
  </Collapser>

  <Collapser
    className="freq-link"
    id="manual-push"
    title="Manually push your PR"
  >
Try manually pushing your PR using the terminal. For example, to push the PR `second-kafka-pr-for-issue-11231`, run this command: 
```
git push --set-upstream origin second-kafka-pr-for-issue-1123
```

If you have an SSH issue, the terminal will return an authentication error message. If the response to this command prompts you for a passphrase, your SSH was somehow confused. By entering your passphrase, you should be back in business. If you can’t remember your passphrase, [check out this article](https://docs.github.com/en/github/authenticating-to-github/troubleshooting-ssh/recovering-your-ssh-key-passphrase).
  </Collapser>
</CollapserGroup>