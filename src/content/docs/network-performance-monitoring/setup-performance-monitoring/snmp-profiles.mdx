---
title: SNMP device profiles
tags:
  - Integrations
  - Network performance monitoring
  - Advanced configuration
metaDescription: Detailed explanation of SNMP profile creation and editing.
---

As a reminder, profiles define what SNMP OID's we want to collect and send to your New Relic account. This document will help you understand how to modify an existing profile or create a new profile.

<Intro>

If you've decided to build a custom profile or modify one of our open source profiles, you need a few essential tools:

- A [GitHub account](https://github.com/) - This enables you to [raise issues and contribute changes to Kentik's open source profiles](https://github.com/kentik/snmp-profiles).
- An SNMP walk from a network device you want to work on a profile for - Further reading on [setting up SNMP](https://docs.newrelic.com/docs/network-performance-monitoring/setup-performance-monitoring/snmp-performance-monitoring/) and [using snmpwalk](https://docs.newrelic.com/docs/network-performance-monitoring/troubleshooting/snmp-walk/).
- Permissions to perform [Docker pull](https://docs.docker.com/engine/reference/commandline/pull/) on the server that hosts your ktranslate container.

</Intro>

This document covers:

- Making requests for new or modified profiles through GitHub to be worked on by the maintainers
- Contributing your own profiles and modifications publicly
- Using custom profiles privately 

### A Note on Support

Support for all things relating to [kentik/snmp-profiles](https://github.com/kentik/snmp-profiles) is handled through GitHub issues. New Relic technical support is not able to provide any additional help beyond redirecting you back to raise an issue there.

## Making Requests through GitHub

This is the most common and simple scenario, for cases where you don't have the time or expertise with SNMP to do these yourself you can just provide the relevant data and our team will build the profile for you.

<Steps>

<Step>

Log into GitHub and go to the [snmp-profiles repo](https://github.com/kentik/snmp-profiles).
    
Click the Issues tab near the top.
  
Click the New issue button on the right side.

</Step>

<Step>

- If you are requesting a totally new profile look for the SNMP Profile Request section and click the Get started button to pull up the template. Provide all the requested information such as the device vendor, model, snmp object identifier, and a sanitized SNMP walk.
- For all other requests use Open a blank issue.  

<Callout variant="tip">
  Providing an SNMP walk is critical as we can not do any work on the profile without these.  This is **not** the same as a MIB file.
</Callout>
  
</Step>

<Step>

The maintainers of the repo will review the information you provided and if there is anything missing they will follow up with you.  Once all the necessary data is provided that will add it to the queue of profiles to be built.  After it is added to the repo the issue will be closed and all you have to do is update the ktranslate docker container on your end and the newest profiles will automatically be loaded.

</Step>

</Steps>

## Contributing Profiles and Modifications Publicly

We gladly accept contributions from anyone who wants to help out to either create new profiles or improve the existing profiles.

<Steps>

<Step>

To familiarize yourself with the structure of a profile you can look at this [highly commented template.yml](https://github.com/kentik/snmp-profiles/blob/main/profiles/kentik_snmp/_template.yml)

</Step>

<Step>

Log into GitHub and go to the [snmp-profiles repo](https://github.com/kentik/snmp-profiles).
    
Click the [fork](https://docs.github.com/en/get-started/quickstart/fork-a-repo) button near the top.  This creates a copy of the same information under your account.

<Callout variant="tip">
  It is important to make sure to [sync you fork](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork) regularly to keep it up to date with changes in the upstream repo.
</Callout>

</Step>

<Step>

Within your fork you can make necessary changes to the files or create new vendor directories and profiles as needed.  
  
<Callout variant="tip">
  What kinds of OID's should I actually include in a profile?
  In many cases SNMP offers a lot of data, but much of that data does not provide actionable information or the situation when that data provides value is so uncommon and low impact that it might not be be worth bringing into your New Relic account.
  You want to focus on collecting data that lets you know if there is anything that would stop the device from being able to perform whatever functions you expect it to perform.  Building on from that, you should collect measurements that tell you how well it is performing those functions.
  For an example of a device operating as a VPN concentrator we would collect high level system metrics like CPU and memory utilization, hardware sensor information to make sure that the device isn't going to shut itself down due to things like fan failures, and we would collect OID's that tell us about the aggregated connections and throughput.
  An example of data that is available but provides very poor value would be an OID table that lists all the running processes on a network appliance.  Coming from a server admin perspective that might sound useful, but since this is an appliance you normally do not have the capability or the need to do anything with the processes that run inside it.  Polling and storing tables with hundreds of items that you can't actually do anything with would not be efficient.
</Callout>

</Step>

<Step>

When you are done with your changes submit a [pull request to the upstream repo](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request).  The maintainers will review the change, discuss any necessary feedback, and when everyone is aligned it will be merged.
  
<Callout variant="tip">
  Make sure to pass your profile through a YAML validator, such as [this](https://codebeautify.org/yaml-validator), before submitting a PR.
</Callout>
  
</Step>
  
<Step>

Shortly after a merge new SNMP profiles are automatically available by pulling the new version of the Docker image and launching a new container in your environment.
You can review that process [here](https://docs.newrelic.com/docs/network-performance-monitoring/setup-performance-monitoring/snmp-performance-monitoring/#manual-setup)

</Step>

</Steps>

## Using Custom Profiles Privately

For cases where you want to make a change to a profile, but you know that it is a scenario that is very unique and would not apply to other customers you can locally edit the profiles.

The way this is done is by using Docker's volume mount to pass in your customized files to the ktranslate container inside the `etc/ktranslate/profiles/` directory.
There are other ways you could accomplish this but in this example we will demonstrate using a git fork and clone.
<Steps>
  
<Step>

Ensure you are in the directory you want to keep the files in, then clone your fork of the GitHub repo to your Docker host

```pwd
git clone https://github.com/<YourGitUser>/snmp-profiles.git
```
  
</Step>
  
<Step>

Get the command you would normally use to launch the SNMP container and just add a second volume mount argument after the one where we passed in the snmp-base.yaml, 
```
-v `pwd`/snmp-profiles/profiles:/etc/ktranslate/profiles \
```
The mount command replaces the built in profiles directory with your customized data.

The end result would be similar to below.

```
docker run -ti --name ktranslate-discovery --rm --net=host \
--user `id -u`:`id -g` \
-v `pwd`/snmp-base.yaml:/snmp-base.yaml \
-v `pwd`/snmp-profiles/profiles:/etc/ktranslate/profiles \
kentik/ktranslate:v2 \
-snmp /snmp-base.yaml \
-log_level info \
-snmp_discovery=true
```

<Callout variant="tip">
  Remember that you would need to pass that custom version of the profiles in every time you launch a discovery container os SNMP polling container, not using it consistently for all SNMP instances set would cause unreliable behavior.
</Callout>
</Step>

</Steps>
