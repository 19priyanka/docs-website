---
title: Apache Log4j Critical Vulnerability CVE-2021-44228 - CPM
tags:
  - Security
  - Security and Privacy
  - Security bulletin
  - Log4j
metaDescription: 'Apache Log4j CVE 2021-44228, Security Bulletin NR21-04 (Containerized Private Minions)'
redirects: 
  - /docs/security/new-relic-security/security-bulletins
---

## Summary

New Relic released Containerized Private Minion (CPM) [version 3.0.55](/docs/release-notes/synthetics-release-notes/containerized-private-minions-release-notes/containerized-private-minion-cpm-3055/) on December 11, 2021 to address critical vulnerability CVE 2021-44228 in the open source Apache Log4j framework that was publicly disclosed on December 9, 2021. A malicious actor may be able to execute arbitrary code using log messages or log message parameters.

A newer CPM, 3.0.57, is also available to address both CVE-2021-44228 and CVE-2021-45046, a lower severity issue in the open source log4j framework that was publicly disclosed on December 14, 2021. A malicious actor may be able to trigger a denial of service condition in certain non-default configurations.

New Relic will update this Security Bulletin and our customer guidance as new information becomes available.

**Vulnerability identifier:** NR21-04

**Priority:** Critical

## Affected software [#affected]

Versions affected: All supported containerized private minion (CPM) versions prior to 3.0.55

CVE-2021-44228: Fixed in 3.0.55, 3.0.57

CVE-2021-45046: Fixed in 3.0.57

<table>
  <thead>
    <tr>
      <th>
        New Relic CPM version
      </th>

      <th>
        Remediates CVE-2021-44228

        Severity: Critical

        CVSS 10.0.0
      </th>

      <th>
        Remediates CVE-2021-44046

        Severity: Low

        CVSS 3.7
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        3.0.55
      </td>
      <td>
        yes
      </td>
      <td>
        no
      </td>
    </tr>

    <tr>
      <td>
        3.0.57
      </td>
      <td>
        yes
      </td>
      <td>
        yes
      </td>
    </tr>
  </tbody>
</table>

## Action items [#action]

To remediate CVE 2021-44228 in the New Relic Containerized Private Minion, we recommend customers upgrade to version 3.0.57 as soon as possible. This version has been updated to use the remediated 2.16.0 version of the Apache Log4j framework.

If you have already upgraded to Containerized Private Minion (CPM) [version 3.0.55](/docs/release-notes/synthetics-release-notes/containerized-private-minions-release-notes/containerized-private-minion-cpm-3055/) your CPM is remediated against the most severe vulnerability - CVE 2021-44228. Due to the special non-default conditions required for exploitation of CVE-2021-45046 not being present in the CPM, we do not believe CVE-2021-45046 can be exploited in the CPM at this time.  We offer the 3.0.57 update to customers out of an abundance of caution, and to support those customers that wish to ensure they have the most current versions possible.

This step will remediate your New Relic Containerized Private Minion (CPM) only. You may also need to update your New Relic Java agent. Please refer to [NR21-03](/docs/security/new-relic-security/security-bulletins/security-bulletin-nr21-03) for more information.

**Customers using log4j directly in their applications should carefully review the [Apache Log4j Security Vulnerabilities](https://logging.apache.org/log4j/2.x/security.html) page for remediation details that should be considered.**

## Vulnerability information [#vuln-info]

A high level vulnerability was publicly disclosed for the log4j framework on 2021-12-09. An attacker is able to execute arbitrary code using log messages or log message parameters.

* [CVE-2021-44228: Log4j 2 Vulnerability Analysis](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228)
* [CVE-2021-45046](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45046)
* [Apache log4j Issue](https://issues.apache.org/jira/browse/LOG4J2-3198)
* [Apache log4j Security Vulnerabilities](https://logging.apache.org/log4j/2.x/security.html)

## Frequently asked questions [#faq]

<CollapserGroup>
  <Collapser
    id="357-update"
    title="I've updated to CPM 3.0.55 already. Do I need to update to 3.0.57?"
  >

  If you have already upgraded to CPM versions 3.0.55, your CPM is remediated against the most severe vulnerability - CVE-2021-44228. Due to the special non-default conditions required for exploitation of CVE-2021-45046 not being present in the CPM, we do not believe CVE-2021-45046 can be exploited in the CPM at this time. We offer the 3.0.57 update to customers out of an abundance of caution, and to support those customers that wish to ensure they have the most current versions possible

  </Collapser>
</CollapserGroup>

## Publication history [#history]

* December 14, 2021: NR21-04 Major Revision:
  * New fix version 3.0.57 released to address both CVE-2021-44228 and CVE-2021-45046.
  * Updated to provide better clarity between New Relic CPM updates and the best practices customers should take to secure their applications.
  * Added FAQ section.

* December 13, 2021: NR21-04 published

## Report security vulnerabilities to New Relic [#report]

New Relic is committed to the security of our customers and your data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see our documentation about [reporting security vulnerabilities](/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities).
